/*! For license information please see main.abb31d21.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),s=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case N:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return D(e(t))}catch(zt){}}return null}var M=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},R=[],z=-1;function F(e){return{current:e}}function V(e){0>z||(e.current=R[z],R[z]=null,z--)}function U(e,t){z++,R[z]=e.current,e.current=t}var B,q,H=F(null),G=F(null),Q=F(null),K=F(null);function W(e,t){switch(U(Q,t),U(G,e),U(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(H),U(H,e)}function $(){V(H),V(G),V(Q)}function Y(e){null!==e.memoizedState&&U(K,e);var t=H.current,n=bd(t,e.type);t!==n&&(U(G,e),U(H,n))}function X(e){G.current===e&&(V(H),V(G)),K.current===e&&(V(K),dh._currentValue=O)}function J(e){if(void 0===B)try{throw Error()}catch(zt){var t=zt.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<zt.stack.indexOf("\n    at")?" (<anonymous>)":-1<zt.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(zt){var r=zt}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&r&&"string"===typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(zt){return"\nError generating stack: "+zt.message+"\n"+zt.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ie=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var Se=256,Ne=262144,Ee=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?a=_e(r):0!==(i&=o)?a=_e(i):n||0!==(n=o&~e)&&(a=_e(n)):0!==(o=r&~s)?a=_e(o):0!==i?a=_e(i):n||0!==(n=r&~e)&&(a=_e(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:a}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Pe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=P.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function Fe(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}var Ve=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Ve,Be="__reactProps$"+Ve,qe="__reactContainer$"+Ve,He="__reactEvents$"+Ve,Ge="__reactListeners$"+Ve,Qe="__reactHandles$"+Ve,Ke="__reactResources$"+Ve,We="__reactMarker$"+Ve;function $e(e){delete e[Ue],delete e[Be],delete e[He],delete e[Ge],delete e[Qe]}function Ye(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Rd(e);null!==e;){if(n=e[Ue])return n;e=Rd(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Ue]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[We]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function lt(e,t,n){if(a=t,re.call(ot,a)||!re.call(it,a)&&(st.test(a)?ot[a]=!0:(it[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,dt(t)):null!=n?xt(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ft(e)}function xt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(M(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&_t(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&_t(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dt(){}var Mt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Ot=null;function Rt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Be]||null;if(!a)throw Error(i(90));vt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Vt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Pt||null!==Ot)&&(eu(),Pt&&(t=Pt,e=Ot,Ot=Pt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Bt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Jh){qt=!1}var Gt=null,Qt=null,Kt=null;function Wt(){if(Kt)return Kt;var e,t,n=Qt,r=n.length,a="value"in Gt?Gt.value:Gt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function Jt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Zt,en,tn,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Jt(nn),an=f({},nn,{view:0,detail:0}),sn=Jt(an),on=f({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&"mousemove"===e.type?(Zt=e.screenX-tn.screenX,en=e.screenY-tn.screenY):en=Zt=0,tn=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:en}}),ln=Jt(on),cn=Jt(f({},on,{dataTransfer:0})),un=Jt(f({},an,{relatedTarget:0})),dn=Jt(f({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Jt(f({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Jt(f({},nn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function vn(){return yn}var bn=Jt(f({},an,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Jt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Jt(f({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),kn=Jt(f({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Jt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=Jt(f({},nn,{newState:0,oldState:0})),En=[9,13,27,32],_n=Bt&&"CompositionEvent"in window,Cn=null;Bt&&"documentMode"in document&&(Cn=document.documentMode);var Tn=Bt&&"TextEvent"in window&&!Cn,jn=Bt&&(!_n||Cn&&8<Cn&&11>=Cn),In=String.fromCharCode(32),An=!1;function Dn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Ot?Ot.push(r):Ot=[r]:Pt=r,0<(t=ad(t,"onChange")).length&&(n=new rn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Fn=null;function Vn(e){Yu(e,0)}function Un(e){if(pt(Je(e)))return e}function Bn(e,t){if("change"===e)return t}var qn=!1;if(Bt){var Hn;if(Bt){var Gn="oninput"in document;if(!Gn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Gn="function"===typeof Qn.oninput}Hn=Gn}else Hn=!1;qn=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){zn&&(zn.detachEvent("onpropertychange",Wn),Fn=zn=null)}function Wn(e){if("value"===e.propertyName&&Un(Fn)){var t=[];Rn(t,Fn,e,Lt(e)),Vt(Vn,t)}}function $n(e,t,n){"focusin"===e?(Kn(),Fn=n,(zn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Fn)}function Xn(e,t){if("click"===e)return Un(t)}function Jn(e,t){if("input"===e||"change"===e)return Un(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Zn(e[a],t[a]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ar(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Bt&&"documentMode"in document&&11>=document.documentMode,or=null,lr=null,cr=null,ur=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==or||or!==mt(r)||("selectionStart"in(r=or)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&er(cr,r)||(cr=r,0<(r=ad(lr,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},pr={},mr={};function gr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}Bt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var yr=gr("animationend"),vr=gr("animationiteration"),br=gr("animationstart"),xr=gr("transitionrun"),wr=gr("transitionstart"),kr=gr("transitioncancel"),Sr=gr("transitionend"),Nr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Nr.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],jr=0,Ir=0;function Ar(){for(var e=jr,t=Ir=jr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var a=Tr[t];Tr[t++]=null;var s=Tr[t];if(Tr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Pr(n,a,s)}}function Dr(e,t,n,r){Tr[jr++]=e,Tr[jr++]=t,Tr[jr++]=n,Tr[jr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Dr(e,t,n,r),Or(e)}function Lr(e,t){return Dr(e,null,null,t),Or(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-xe(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Or(e){if(50<Gc)throw Gc=0,Qc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new zr(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,a,s){var o=0;if(r=e,"function"===typeof e)Vr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Fr(31,n,t,a)).elementType=C,e.lanes=s,e;case y:return Hr(n.children,a,s,t);case v:o=8,a|=24;break;case b:return(e=Fr(12,n,t,2|a)).elementType=b,e.lanes=s,e;case S:return(e=Fr(13,n,t,a)).elementType=S,e.lanes=s,e;case N:return(e=Fr(19,n,t,a)).elementType=N,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:o=10;break e;case x:o=9;break e;case k:o=11;break e;case E:o=14;break e;case _:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Hr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Qr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=new WeakMap;function $r(e,t){if("object"===typeof e&&null!==e){var n=Wr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Wr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Xr=0,Jr=null,Zr=0,ea=[],ta=0,na=null,ra=1,aa="";function sa(e,t){Yr[Xr++]=Zr,Yr[Xr++]=Jr,Jr=e,Zr=t}function ia(e,t,n){ea[ta++]=ra,ea[ta++]=aa,ea[ta++]=na,na=e;var r=ra;e=aa;var a=32-xe(r)-1;r&=~(1<<a),n+=1;var s=32-xe(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,ra=1<<32-xe(t)+a|n<<a|r,aa=s+e}else ra=1<<s|n<<a|r,aa=e}function oa(e){null!==e.return&&(sa(e,1),ia(e,1,0))}function la(e){for(;e===Jr;)Jr=Yr[--Xr],Yr[Xr]=null,Zr=Yr[--Xr],Yr[Xr]=null;for(;e===na;)na=ea[--ta],ea[ta]=null,aa=ea[--ta],ea[ta]=null,ra=ea[--ta],ea[ta]=null}function ca(e,t){ea[ta++]=ra,ea[ta++]=aa,ea[ta++]=na,ra=t.id,aa=t.overflow,na=e}var ua=null,da=null,ha=!1,fa=null,pa=!1,ma=Error(i(519));function ga(e){throw ka($r(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ma}function ya(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Be]=r,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Wu.length;n++)Xu(Wu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=r.onScroll&&Xu("scroll",t),null!=r.onScrollEnd&&Xu("scrollend",t),null!=r.onClick&&(t.onclick=Dt),t=!0):t=!1,t||ga(e,!0)}function va(e){for(ua=e.return;ua;)switch(ua.tag){case 5:case 31:case 13:return void(pa=!1);case 27:case 3:return void(pa=!0);default:ua=ua.return}}function ba(e){if(e!==ua)return!1;if(!ha)return va(e),ha=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xd(e.type,e.memoizedProps)),t=!t),t&&da&&ga(e),va(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Od(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Od(e)}else 27===n?(n=da,Cd(e.type)?(e=Pd,Pd=null,da=e):da=n):da=ua?Ld(e.stateNode.nextSibling):null;return!0}function xa(){da=ua=null,ha=!1}function wa(){var e=fa;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),fa=null),e}function ka(e){null===fa?fa=[e]:fa.push(e)}var Sa=F(null),Na=null,Ea=null;function _a(e,t,n){U(Sa,t._currentValue),t._currentValue=n}function Ca(e){e._currentValue=Sa.current,V(Sa)}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ta(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ta(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ia(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Zn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===K.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function Aa(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Da(e){Na=e,Ea=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ma(e){return Pa(Na,e)}function La(e,t){return null===Na&&Da(e),Pa(e,t)}function Pa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ea){if(null===e)throw Error(i(308));Ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ea=Ea.next=t;return n}var Oa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ra=r.unstable_scheduleCallback,za=r.unstable_NormalPriority,Fa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Va(){return{controller:new Oa,data:new Map,refCount:0}}function Ua(e){e.refCount--,0===e.refCount&&Ra(za,function(){e.controller.abort()})}var Ba=null,qa=0,Ha=0,Ga=null;function Qa(){if(0===--qa&&null!==Ba){null!==Ga&&(Ga.status="fulfilled");var e=Ba;Ba=null,Ha=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ka=L.S;L.S=function(e,t){Lc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ba){var n=Ba=[];qa=0,Ha=qu(),Ga={status:"pending",value:void 0,then:function(e){n.push(e)}}}qa++,t.then(Qa,Qa)}(0,t),null!==Ka&&Ka(e,t)};var Wa=F(null);function $a(){var e=Wa.current;return null!==e?e:mc.pooledCache}function Ya(e,t){U(Wa,null===t?Wa.current:t.pool)}function Xa(){var e=$a();return null===e?null:{parent:Fa._currentValue,pool:e}}var Ja=Error(i(460)),Za=Error(i(474)),es=Error(i(542)),ts={then:function(){}};function ns(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Dt,Dt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Dt,Dt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw ss=t,Ja}}function as(e){try{return(0,e._init)(e._payload)}catch(zt){if(null!==zt&&"object"===typeof zt&&"function"===typeof zt.then)throw ss=zt,Ja;throw zt}}var ss=null;function is(){if(null===ss)throw Error(i(459));var e=ss;return ss=null,e}function os(e){if(e===Ja||e===es)throw Error(i(483))}var ls=null,cs=0;function us(e){var t=cs;return cs+=1,null===ls&&(ls=[]),rs(ls,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&as(s)===t.type)?(ds(t=a(t,n.props),n),t.return=e,t):(ds(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ds(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case _:return h(e,t=as(t),n)}if(M(t)||I(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,us(t),n);if(t.$$typeof===w)return h(e,La(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case g:return n.key===a?u(e,t,n,r):null;case _:return f(e,t,n=as(n),r)}if(M(n)||I(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,us(n),r);if(n.$$typeof===w)return f(e,t,La(e,n),r);hs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return p(e,t,n,r=as(r),a)}if(M(r)||I(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return p(e,t,n,us(r),a);if(r.$$typeof===w)return p(e,t,n,La(t,r),a);hs(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&as(b)===c.type){n(l,c.sibling),ds(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ds(d=qr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return o(l);case _:return v(l,c,u=as(u),d)}if(M(u))return function(a,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(a,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=s(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(a,d),ha&&sa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ha&&sa(a,m),c}for(d=r(d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ha&&sa(a,m),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),ha&&sa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(o=s(v,o,g),null===d?u=v:d.sibling=v,d=v);return ha&&sa(a,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),ha&&sa(a,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,us(u),d);if(u.$$typeof===w)return v(l,c,La(l,u),d);hs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Gr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{cs=0;var a=v(e,t,n,r);return ls=null,a}catch(zt){if(zt===Ja||zt===es)throw zt;var s=Fr(29,zt,null,e.mode);return s.lanes=r,s.return=e,s}}}var ps=fs(!0),ms=fs(!1),gs=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Or(e),Pr(e,null,n),t}return Dr(e,r,t,n),Or(e)}function ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function ks(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ss=!1;function Ns(){if(Ss){if(null!==Ga)throw Ga}}function Es(e,t,n,r){Ss=!1;var a=e.updateQueue;gs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(yc&h)===h:(r&h)===h){0!==h&&h===Ha&&(Ss=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:gs=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),Ec|=i,e.lanes=i,e.memoizedState=d}}function _s(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Cs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_s(n[e],t)}var Ts=F(null),js=F(0);function Is(e,t){U(js,e=Sc),U(Ts,t),Sc=e|t.baseLanes}function As(){U(js,Sc),U(Ts,Ts.current)}function Ds(){Sc=js.current,V(Ts),V(js)}var Ms=F(null),Ls=null;function Ps(e){var t=e.alternate;U(Vs,1&Vs.current),U(Ms,e),null===Ls&&(null===t||null!==Ts.current||null!==t.memoizedState)&&(Ls=e)}function Os(e){U(Vs,Vs.current),U(Ms,e),null===Ls&&(Ls=e)}function Rs(e){22===e.tag?(U(Vs,Vs.current),U(Ms,e),null===Ls&&(Ls=e)):zs()}function zs(){U(Vs,Vs.current),U(Ms,Ms.current)}function Fs(e){V(Ms),Ls===e&&(Ls=null),V(Vs)}var Vs=F(0);function Us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Dd(n)||Md(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bs=0,qs=null,Hs=null,Gs=null,Qs=!1,Ks=!1,Ws=!1,$s=0,Ys=0,Xs=null,Js=0;function Zs(){throw Error(i(321))}function ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ti(e,t,n,r,a,s){return Bs=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?yo:vo,Ws=!1,s=n(r,a),Ws=!1,Ks&&(s=ri(t,n,r,a)),ni(e),s}function ni(e){L.H=go;var t=null!==Hs&&null!==Hs.next;if(Bs=0,Gs=Hs=qs=null,Qs=!1,Ys=0,Xs=null,t)throw Error(i(300));null===e||Lo||null!==(e=e.dependencies)&&Aa(e)&&(Lo=!0)}function ri(e,t,n,r){qs=e;var a=0;do{if(Ks&&(Xs=null),Ys=0,Ks=!1,25<=a)throw Error(i(301));if(a+=1,Gs=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}L.H=bo,s=t(n,r)}while(Ks);return s}function ai(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?ui(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(qs.flags|=1024),t}function si(){var e=0!==$s;return $s=0,e}function ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oi(e){if(Qs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Qs=!1}Bs=0,Gs=Hs=qs=null,Ks=!1,Ys=$s=0,Xs=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gs?qs.memoizedState=Gs=e:Gs=Gs.next=e,Gs}function ci(){if(null===Hs){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Gs?qs.memoizedState:Gs.next;if(null!==t)Gs=t,Hs=e;else{if(null===e){if(null===qs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Gs?qs.memoizedState=Gs=e:Gs=Gs.next=e}return Gs}function ui(e){var t=Ys;return Ys+=1,null===Xs&&(Xs=[]),e=rs(Xs,e,t),t=qs,null===(null===Gs?t.memoizedState:Gs.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?yo:vo),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ui(e);if(e.$$typeof===w)return Ma(e)}throw Error(i(438,String(e)))}function hi(e){var t=null,n=qs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function fi(e,t){return"function"===typeof t?t(e):t}function pi(e){return mi(ci(),Hs,e)}function mi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Bs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ha&&(d=!0);else{if((Bs&f)===f){u=u.next,f===Ha&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,qs.lanes|=f,Ec|=f}h=u.action,Ws&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,qs.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Zn(s,e.memoizedState)&&(Lo=!0,d&&null!==(n=Ga)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gi(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Zn(s,t.memoizedState)||(Lo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function yi(e,t,n){var r=qs,a=ci(),s=ha;if(s){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Zn((Hs||a).memoizedState,n);if(o&&(a.memoizedState=n,Lo=!0),a=a.queue,Bi(xi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==Gs&&1&Gs.memoizedState.tag){if(r.flags|=2048,Ri(9,{destroy:void 0},bi.bind(null,r,a,n,t),null),null===mc)throw Error(i(349));s||0!==(127&Bs)||vi(r,t,n)}return n}function vi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bi(e,t,n,r){t.value=n,t.getSnapshot=r,wi(t)&&ki(e)}function xi(e,t,n){return n(function(){wi(t)&&ki(e)})}function wi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function ki(e){var t=Lr(e,2);null!==t&&$c(t,e,2)}function Si(e){var t=li();if("function"===typeof e){var n=e;if(e=n(),Ws){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t}function Ni(e,t,n,r){return e.baseState=n,mi(e,Hs,"function"===typeof r?r:fi)}function Ei(e,t,n,r,a){if(fo(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==L.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,_i(t,s)):(s.next=n.next,t.pending=n.next=s)}}function _i(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=L.T,i={};L.T=i;try{var o=n(a,r),l=L.S;null!==l&&l(i,o),Ci(e,t,o)}catch(c){ji(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),L.T=s}}else try{Ci(e,t,s=n(a,r))}catch(u){ji(e,t,u)}}function Ci(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ti(e,t,n)},function(n){return ji(e,t,n)}):Ti(e,t,n)}function Ti(e,t,n){t.status="fulfilled",t.value=n,Ii(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,_i(e,n)))}function ji(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ii(t),t=t.next}while(t!==r)}e.action=null}function Ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ai(e,t){return t}function Di(e,t){if(ha){var n=mc.formState;if(null!==n){e:{var r=qs;if(ha){if(da){t:{for(var a=da,s=pa;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=Ld(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){da=Ld(a.nextSibling),r="F!"===a.data;break e}}ga(r)}r=!1}r&&(t=n[0])}}return(n=li()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n.queue=r,n=co.bind(null,qs,r),r.dispatch=n,r=Si(!1),s=ho.bind(null,qs,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=li()).queue=a,n=Ei.bind(null,qs,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Mi(e){return Li(ci(),Hs,e)}function Li(e,t,n){if(t=mi(e,t,Ai)[0],e=pi(fi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ui(t)}catch(zt){if(zt===Ja)throw es;throw zt}else r=t;var a=(t=ci()).queue,s=a.dispatch;return n!==t.memoizedState&&(qs.flags|=2048,Ri(9,{destroy:void 0},Pi.bind(null,a,n),null)),[r,s,e]}function Pi(e,t){e.action=t}function Oi(e){var t=ci(),n=Hs;if(null!==n)return Li(t,n,e);ci(),t=t.memoizedState;var r=(n=ci()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ri(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zi(){return ci().memoizedState}function Fi(e,t,n,r){var a=li();qs.flags|=e,a.memoizedState=Ri(1|t,{destroy:void 0},n,void 0===r?null:r)}function Vi(e,t,n,r){var a=ci();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Hs&&null!==r&&ei(r,Hs.memoizedState.deps)?a.memoizedState=Ri(t,s,n,r):(qs.flags|=e,a.memoizedState=Ri(1|t,s,n,r))}function Ui(e,t){Fi(8390656,8,e,t)}function Bi(e,t){Vi(2048,8,e,t)}function qi(e){var t=ci().memoizedState;return function(e){qs.flags|=4;var t=qs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Hi(e,t){return Vi(4,2,e,t)}function Gi(e,t){return Vi(4,4,e,t)}function Qi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ki(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Vi(4,4,Qi.bind(null,t,e),n)}function Wi(){}function $i(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yi(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ei(t,r[1]))return r[0];if(r=e(),Ws){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Xi(e,t,n){return void 0===n||0!==(1073741824&Bs)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Wc(),qs.lanes|=e,Ec|=e,n)}function Ji(e,t,n,r){return Zn(n,t)?n:null!==Ts.current?(e=Xi(e,n,r),Zn(e,t)||(Lo=!0),e):0===(42&Bs)||0!==(1073741824&Bs)&&0===(261930&yc)?(Lo=!0,e.memoizedState=n):(e=Wc(),qs.lanes|=e,Ec|=e,t)}function Zi(e,t,n,r,a){var s=P.p;P.p=0!==s&&8>s?s:8;var i=L.T,o={};L.T=o,ho(e,!1,t,n);try{var l=a(),c=L.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else uo(e,t,r,Kc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{P.p=s,null!==i&&null!==o.types&&(i.types=o.types),L.T=i}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=no(e).queue;Zi(e,a,t,O,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Kc())}function ao(){return Ma(dh)}function so(){return ci().memoizedState}function io(){return ci().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=xs(t,e=bs(n),n);return null!==r&&($c(r,t,n),ws(r,t,n)),t={cache:Va()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?po(t,n):null!==(n=Mr(e,t,n,r))&&($c(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Kc())}function uo(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))po(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,Zn(o,i))return Dr(e,t,a,0),null===mc&&Ar(),!1}catch(l){}if(null!==(n=Mr(e,t,a,r)))return $c(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(i(479))}else null!==(t=Mr(e,n,r,2))&&$c(t,e,2)}function fo(e){var t=e.alternate;return e===qs||null!==t&&t===qs}function po(e,t){Ks=Qs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var go={readContext:Ma,use:di,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};go.useEffectEvent=Zs;var yo={readContext:Ma,use:di,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:Ma,useEffect:Ui,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4194308,4,Qi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){Fi(4,2,e,t)},useMemo:function(e,t){var n=li();t=void 0===t?null:t;var r=e();if(Ws){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=li();if(void 0!==n){var a=n(t);if(Ws){be(!0);try{n(t)}finally{be(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=lo.bind(null,qs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=Si(e)).queue,n=co.bind(null,qs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wi,useDeferredValue:function(e,t){return Xi(li(),e,t)},useTransition:function(){var e=Si(!1);return e=Zi.bind(null,qs,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qs,a=li();if(ha){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===mc)throw Error(i(349));0!==(127&yc)||vi(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ui(xi.bind(null,r,s,e),[e]),r.flags|=2048,Ri(9,{destroy:void 0},bi.bind(null,r,s,n,t),null),n},useId:function(){var e=li(),t=mc.identifierPrefix;if(ha){var n=aa;t="_"+t+"R_"+(n=(ra&~(1<<32-xe(ra)-1)).toString(32)+n),0<(n=$s++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Js++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ao,useFormState:Di,useActionState:Di,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,qs,!0,n),n.dispatch=t,[e,t]},useMemoCache:hi,useCacheRefresh:function(){return li().memoizedState=oo.bind(null,qs)},useEffectEvent:function(e){var t=li(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:Ma,use:di,useCallback:$i,useContext:Ma,useEffect:Bi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Gi,useMemo:Yi,useReducer:pi,useRef:zi,useState:function(){return pi(fi)},useDebugValue:Wi,useDeferredValue:function(e,t){return Ji(ci(),Hs.memoizedState,e,t)},useTransition:function(){var e=pi(fi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:ui(e),t]},useSyncExternalStore:yi,useId:so,useHostTransitionStatus:ao,useFormState:Mi,useActionState:Mi,useOptimistic:function(e,t){return Ni(ci(),0,e,t)},useMemoCache:hi,useCacheRefresh:io};vo.useEffectEvent=qi;var bo={readContext:Ma,use:di,useCallback:$i,useContext:Ma,useEffect:Bi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Gi,useMemo:Yi,useReducer:gi,useRef:zi,useState:function(){return gi(fi)},useDebugValue:Wi,useDeferredValue:function(e,t){var n=ci();return null===Hs?Xi(n,e,t):Ji(n,Hs.memoizedState,e,t)},useTransition:function(){var e=gi(fi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:ui(e),t]},useSyncExternalStore:yi,useId:so,useHostTransitionStatus:ao,useFormState:Oi,useActionState:Oi,useOptimistic:function(e,t){var n=ci();return null!==Hs?Ni(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hi,useCacheRefresh:io};function xo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=qi;var wo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=bs(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=xs(e,a,r))&&($c(t,e,r),ws(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=bs(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=xs(e,a,r))&&($c(t,e,r),ws(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=bs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=xs(e,r,n))&&($c(t,e,n),ws(t,e,n))}};function ko(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(a,s))}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function No(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=f({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Eo(e){Cr(e)}function _o(e){console.error(e)}function Co(e){Cr(e)}function To(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Io(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){To(e,t)},n}function Ao(e){return(e=bs(e)).tag=3,e}function Do(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){jo(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){jo(t,n,r),"function"!==typeof a&&(null===Rc?Rc=new Set([this]):Rc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Mo=Error(i(461)),Lo=!1;function Po(e,t,n,r){t.child=null===e?ms(t,null,n,r):ps(t,e.child,n,r)}function Oo(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Da(t),r=ti(e,t,n,i,s,a),o=si(),null===e||Lo?(ha&&o&&oa(t),t.flags|=1,Po(e,t,r,a),t.child):(ii(e,t,a),sl(e,t,a))}function Ro(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Vr(s)||void 0!==s.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zo(e,t,s,r,a))}if(s=e.child,!il(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:er)(i,r)&&e.ref===t.ref)return sl(e,t,a)}return t.flags|=1,(e=Ur(s,r)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(er(s,r)&&e.ref===t.ref){if(Lo=!1,t.pendingProps=r=s,!il(e,a))return t.lanes=e.lanes,sl(e,t,a);0!==(131072&e.flags)&&(Lo=!0)}}return Go(e,t,n,r,a)}function Fo(e,t,n,r){var a=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~s}else r=0,t.child=null;return Uo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Uo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==s?s.cachePool:null),null!==s?Is(t,s):As(),Rs(t)}else null!==s?(Ya(0,s.cachePool),Is(t,s),zs(),t.memoizedState=null):(null!==e&&Ya(0,null),As(),zs());return Po(e,t,a,n),t.child}function Vo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,r,a){var s=$a();return s=null===s?null:{parent:Fa._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ya(0,null),As(),Rs(t),null!==e&&Ia(e,t,r,!0),t.childLanes=a,null}function Bo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,n){return ps(t,e.child,null,n),(e=Bo(t,t.pendingProps)).flags|=2,Fs(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Go(e,t,n,r,a){return Da(t),n=ti(e,t,n,r,void 0,a),r=si(),null===e||Lo?(ha&&r&&oa(t),t.flags|=1,Po(e,t,n,a),t.child):(ii(e,t,a),sl(e,t,a))}function Qo(e,t,n,r,a,s){return Da(t),t.updateQueue=null,n=ri(t,r,n,a),ni(e),r=si(),null===e||Lo?(ha&&r&&oa(t),t.flags|=1,Po(e,t,n,s),t.child):(ii(e,t,s),sl(e,t,s))}function Ko(e,t,n,r,a){if(Da(t),null===t.stateNode){var s=Rr,i=n.contextType;"object"===typeof i&&null!==i&&(s=Ma(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=wo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ys(t),i=n.contextType,s.context="object"===typeof i&&null!==i?Ma(i):Rr,s.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(xo(t,n,i,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&wo.enqueueReplaceState(s,s.state,null),Es(t,r,s,a),Ns(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=No(n,o);s.props=l;var c=s.context,u=n.contextType;i=Rr,"object"===typeof u&&null!==u&&(i=Ma(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&So(t,s,r,i),gs=!1;var h=t.memoizedState;s.state=h,Es(t,r,s,a),Ns(),c=t.memoizedState,o||h!==c||gs?("function"===typeof d&&(xo(t,n,d,r),c=t.memoizedState),(l=gs||ko(t,n,l,r,h,c,i))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),u=No(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Ma(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||h!==l)&&So(t,s,r,l),gs=!1,h=t.memoizedState,s.state=h,Es(t,r,s,a),Ns();var f=t.memoizedState;i!==d||h!==f||gs||null!==e&&null!==e.dependencies&&Aa(e.dependencies)?("function"===typeof o&&(xo(t,n,o,r),f=t.memoizedState),(u=gs||ko(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Aa(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ho(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ps(t,e.child,null,a),t.child=ps(t,null,n,a)):Po(e,t,n,a),t.memoizedState=s.state,e=t.child):e=sl(e,t,a),e}function Wo(e,t,n,r){return xa(),t.flags|=256,Po(e,t,n,r),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Xa()}}function Xo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Jo(e,t,n){var r,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Vs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ha){if(s?Ps(t):zs(),(e=da)?null!==(e=null!==(e=Ad(e,pa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==na?{id:ra,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},(n=Qr(e)).return=t,t.child=n,ua=t,da=null):e=null,null===e)throw ga(t);return Md(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(zs(),l=el({mode:"hidden",children:l},s=t.mode),a=Hr(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Yo(n),a.childLanes=Xo(e,r,n),t.memoizedState=$o,Vo(null,a)):(Ps(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ps(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(zs(),t.child=e.child,t.flags|=128,t=null):(zs(),l=a.fallback,s=t.mode,a=el({mode:"visible",children:a.children},s),(l=Hr(l,s,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ps(t,e.child,null,n),(a=t.child).memoizedState=Yo(n),a.childLanes=Xo(e,r,n),t.memoizedState=$o,t=Vo(null,a));else if(Ps(t),Md(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(i(419))).stack="",a.digest=r,ka({value:a,source:null,stack:null}),t=tl(e,t,n)}else if(Lo||Ia(e,t,n,!1),r=0!==(n&e.childLanes),Lo||r){if(null!==(r=mc)&&(0!==(a=Pe(r,n))&&a!==c.retryLane))throw c.retryLane=a,Lr(e,a),$c(r,e,a),Mo;Dd(l)||ou(),t=tl(e,t,n)}else Dd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,da=Ld(l.nextSibling),ua=t,ha=!0,fa=null,pa=!1,null!==e&&ca(t,e),(t=Zo(t,a.children)).flags|=4096);return t}return s?(zs(),l=a.fallback,s=t.mode,u=(c=e.child).sibling,(a=Ur(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ur(u,l):(l=Hr(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Vo(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(s=l.cachePool)?(c=Fa._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Xa(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Xo(e,r,n),t.memoizedState=$o,Vo(e.child,a)):(Ps(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return ps(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function rl(e,t,n,r,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=s)}function al(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;r=r.children;var i=Vs.current,o=0!==(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,U(Vs,i),Po(e,t,r,n),r=ha?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Us(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),rl(t,!1,a,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Us(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}rl(t,!0,n,null,s,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ia(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function il(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Aa(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Lo=!0;else{if(!il(e,n)&&0===(128&t.flags))return Lo=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),_a(0,Fa,e.memoizedState.cache),xa();break;case 27:case 5:Y(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:_a(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Os(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ps(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(Ps(t),null!==(e=sl(e,t,n))?e.sibling:null);Ps(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ia(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return al(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(Vs,Vs.current),r)break;return null;case 22:return t.lanes=0,Fo(e,t,n,t.pendingProps);case 24:_a(0,Fa,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);Lo=0!==(131072&e.flags)}else Lo=!1,ha&&0!==(1048576&t.flags)&&ia(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=as(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===k){t.tag=11,t=Oo(null,t,e,r,n);break e}if(a===E){t.tag=14,t=Ro(null,t,e,r,n);break e}}throw t=D(e)||e,Error(i(306,t,""))}Vr(e)?(r=No(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Go(null,t,e,r,n))}return t;case 0:return Go(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,a=No(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,vs(e,t),Es(t,r,null,n);var o=t.memoizedState;if(r=o.cache,_a(0,Fa,r),r!==s.cache&&ja(t,[Fa],n,!0),Ns(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Wo(e,t,r,n);break e}if(r!==a){ka(a=$r(Error(i(424)),t)),t=Wo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(da=Ld(e.firstChild),ua=t,ha=!0,fa=null,pa=!0,n=ms(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xa(),r===a){t=sl(e,t,n);break e}Po(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Qd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ha||(n=t.type,e=t.pendingProps,(r=yd(Q.current).createElement(n))[Ue]=t,r[Be]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ha&&(r=t.stateNode=zd(t.type,t.pendingProps,Q.current),ua=t,pa=!0,a=da,Cd(t.type)?(Pd=a,da=Ld(r.firstChild)):da=a),Po(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ha&&((a=r=da)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=Ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pa))?(t.stateNode=r,ua=t,da=Ld(r.firstChild),pa=!1,a=!0):a=!1),a||ga(t)),Y(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,xd(a,s)?r=null:null!==o&&xd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=ti(e,t,ai,null,null,n),dh._currentValue=a),Ho(e,t),Po(e,t,r,n),t.child;case 6:return null===e&&ha&&((e=n=da)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}(n,t.pendingProps,pa))?(t.stateNode=n,ua=t,da=null,e=!0):e=!1),e||ga(t)),null;case 13:return Jo(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ps(t,null,r,n):Po(e,t,r,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Po(e,t,t.pendingProps,n),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_a(0,t.type,r.value),Po(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Da(t),r=r(a=Ma(a)),t.flags|=1,Po(e,t,r,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return zo(e,t,t.type,t.pendingProps,n);case 19:return al(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ha){if("hidden"===r.mode)return e=Bo(t,r),t.lanes=536870912,Vo(null,e);if(Os(t),(e=da)?null!==(e=null!==(e=Ad(e,pa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==na?{id:ra,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},(n=Qr(e)).return=t,t.child=n,ua=t,da=null):e=null,null===e)throw ga(t);return t.lanes=536870912,null}return Bo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Os(t),a)if(256&t.flags)t.flags&=-257,t=qo(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Lo||Ia(e,t,n,!1),a=0!==(n&e.childLanes),Lo||a){if(null!==(r=mc)&&0!==(o=Pe(r,n))&&o!==s.retryLane)throw s.retryLane=o,Lr(e,o),$c(r,e,o),Mo;ou(),t=qo(e,t,n)}else e=s.treeContext,da=Ld(o.nextSibling),ua=t,ha=!0,fa=null,pa=!1,null!==e&&ca(t,e),(t=Bo(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fo(e,t,n,t.pendingProps);case 24:return Da(t),r=Ma(Fa),null===e?(null===(a=$a())&&(a=mc,s=Va(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},ys(t),_a(0,Fa,a)):(0!==(e.lanes&n)&&(vs(e,t),Es(t,null,null,n),Ns()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),_a(0,Fa,r)):(r=s.cache,_a(0,Fa,r),r!==a.cache&&ja(t,[Fa],n,!0))),Po(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!au())throw ss=ts,Za;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sh(t)){if(!au())throw ss=ts,Za;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ie():536870912,e.lanes|=t,jc|=t)}function hl(e,t){if(!ha)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(la(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ca(Fa),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ba(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wa())),fl(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(ll(t),null!==s?(fl(t),ul(t,s)):(fl(t),cl(t,a,0,0,n))):s?s!==e.memoizedState?(ll(t),fl(t),ul(t,s)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,a,0,0,n)),null;case 27:if(X(t),n=Q.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return fl(t),null}e=H.current,ba(t)?ya(t):(e=zd(a,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(X(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return fl(t),null}if(s=H.current,ba(t))ya(t);else{var o=yd(Q.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(a,{is:r.is}):o.createElement(a)}}s[Ue]=t,s[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(fd(s,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=Q.current,ba(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ua))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||ga(t,!0)}else(e=yd(e).createTextNode(r))[Ue]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=ba(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Ue]=t}else xa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=wa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fs(t),t):(Fs(t),null);if(0!==(128&t.flags))throw Error(i(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ba(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Ue]=t}else xa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),a=!1}else a=wa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Fs(t),t):(Fs(t),null)}return Fs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return $(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ca(t.type),fl(t),null;case 19:if(V(Vs),null===(r=t.memoizedState))return fl(t),null;if(a=0!==(128&t.flags),null===(s=r.rendering))if(a)hl(r,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Us(e))){for(t.flags|=128,hl(r,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return U(Vs,1&Vs.current|2),ha&&sa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Pc&&(t.flags|=128,a=!0,hl(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Us(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!ha)return fl(t),null}else 2*le()-r.renderingStartTime>Pc&&536870912!==n&&(t.flags|=128,a=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Vs.current,U(Vs,a?1&n|2:1&n),ha&&sa(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Fs(t),Ds(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Wa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ca(Fa),fl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ml(e,t){switch(la(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ca(Fa),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Fs(t),null===t.alternate)throw Error(i(340));xa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));xa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Vs),null;case 4:return $(),null;case 10:return Ca(t.type),null;case 22:case 23:return Fs(t),Ds(),null!==e&&V(Wa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ca(Fa),null;default:return null}}function gl(e,t){switch(la(t),t.tag){case 3:Ca(Fa),$();break;case 26:case 27:case 5:X(t);break;case 4:$();break;case 31:null!==t.memoizedState&&Fs(t);break;case 13:Fs(t);break;case 19:V(Vs);break;case 10:Ca(t.type);break;case 22:case 23:Fs(t),Ds(),null!==e&&V(Wa);break;case 24:Ca(Fa)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){Nu(t,t.return,o)}}function vl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){Nu(a,l,u)}}}r=r.next}while(r!==s)}}catch(u){Nu(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Cs(t,n)}catch(r){Nu(e,e.return,r)}}}function xl(e,t,n){n.props=No(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Nu(e,t,r)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){Nu(e,t,a)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){Nu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Nu(e,t,s)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Nu(e,e.return,a)}}function Nl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void vt(e,o,l,c,u,d,s,a);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||dd(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&dd(e,t,a,s,r,c)}return t=l,n=o,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,a)}for(o in r)if(a=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&dd(e,t,o,a,r,s)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&dd(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(a){Nu(e,e.return,a)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Dt));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function jl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);fd(t,r,n),t[Ue]=e,t[Be]=n}catch(s){Nu(e,e.return,s)}}var Il=!1,Al=!1,Dl=!1,Ml="function"===typeof WeakSet?WeakSet:Set,Ll=null;function Pl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$l(e,n),4&r&&yl(5,n);break;case 1:if($l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){Nu(n,n.return,i)}else{var a=No(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Nu(n,n.return,o)}}64&r&&bl(n),512&r&&wl(n,n.return);break;case 3:if($l(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Cs(e,t)}catch(i){Nu(n,n.return,i)}}break;case 27:null===t&&4&r&&jl(n);case 26:case 5:$l(e,n),null===t&&4&r&&Sl(n),512&r&&wl(n,n.return);break;case 12:$l(e,n);break;case 31:$l(e,n),4&r&&Ul(e,n);break;case 13:$l(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Al,a=Il;var s=Al;Il=r,(Al=t)&&!s?Xl(e,n,0!==(8772&n.subtreeFlags)):$l(e,n),Il=a,Al=s}break;case 30:break;default:$l(e,n)}}function Ol(e){var t=e.alternate;null!==t&&(e.alternate=null,Ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rl=null,zl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Vl(e,t,n),n=n.sibling}function Vl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Al||kl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||kl(n,t);var r=Rl,a=zl;Cd(n.type)&&(Rl=n.stateNode,zl=!1),Fl(e,t,n),Fd(n.stateNode),Rl=r,zl=a;break;case 5:Al||kl(n,t);case 6:if(r=Rl,a=zl,Rl=null,Fl(e,t,n),zl=a,null!==(Rl=r))if(zl)try{(9===Rl.nodeType?Rl.body:"HTML"===Rl.nodeName?Rl.ownerDocument.body:Rl).removeChild(n.stateNode)}catch(i){Nu(n,t,i)}else try{Rl.removeChild(n.stateNode)}catch(i){Nu(n,t,i)}break;case 18:null!==Rl&&(zl?(Td(9===(e=Rl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Gh(e)):Td(Rl,n.stateNode));break;case 4:r=Rl,a=zl,Rl=n.stateNode.containerInfo,zl=!0,Fl(e,t,n),Rl=r,zl=a;break;case 0:case 11:case 14:case 15:vl(2,n,t),Al||vl(4,n,t),Fl(e,t,n);break;case 1:Al||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&xl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Al=(r=Al)||null!==n.memoizedState,Fl(e,t,n),Al=r;break;default:Fl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Gh(e)}catch(n){Nu(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Gh(e)}catch(n){Nu(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ml),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ml),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ju.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Rl=l.stateNode,zl=!1;break e}break;case 5:Rl=l.stateNode,zl=!1;break e;case 3:case 4:Rl=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Rl)throw Error(i(160));Vl(s,o,a),Rl=null,zl=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ql(t,e),t=t.sibling}var Gl=null;function Ql(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&r&&(Al||null===n||kl(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Gl;if(Hl(t,e),Kl(e),512&r&&(Al||null===n||kl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[We]||s[Ue]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),fd(s,r,n),s[Ue]=e,et(s),r=s;break e;case"link":var o=rh("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}fd(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(o=rh("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}fd(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(i(468,r))}s[Ue]=e,et(s),r=s}e.stateNode=r}else ah(a,e.type,e.stateNode);else e.stateNode=Jd(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?ah(a,e.type,e.stateNode):Jd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Nl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&r&&(Al||null===n||kl(n,n.return)),null!==n&&4&r&&Nl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&r&&(Al||null===n||kl(n,n.return)),32&e.flags){a=e.stateNode;try{Nt(a,"")}catch(m){Nu(e,e.return,m)}}4&r&&null!=e.stateNode&&Nl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Dl=!0);break;case 6:if(Hl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Nu(e,e.return,m)}}break;case 3:if(nh=null,a=Gl,Gl=Bd(t.containerInfo),Hl(t,e),Gl=a,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gh(t.containerInfo)}catch(m){Nu(e,e.return,m)}Dl&&(Dl=!1,Wl(e));break;case 4:r=Gl,Gl=Bd(e.stateNode.containerInfo),Hl(t,e),Kl(e),Gl=r;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Mc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,d=Al;if(Il=u||a,Al=d||c,Hl(t,e),Al=d,Il=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Il||Al||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Nu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){Nu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;a?jd(p,!0):jd(c.stateNode,!1)}catch(m){Nu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Tl(e,_l(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(Nt(s,""),n.flags&=-33),Tl(e,_l(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Cl(e,_l(e),o);break;default:throw Error(i(161))}}catch(l){Nu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Wl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Wl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Pl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&xl(t,t.return,n),Yl(t);break;case 27:Fd(t.stateNode);case 26:case 5:kl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Xl(a,s,n),yl(4,s);break;case 1:if(Xl(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Nu(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)_s(l[a],o)}catch(c){Nu(r,r.return,c)}}n&&64&i&&bl(s),wl(s,s.return);break;case 27:jl(s);case 26:case 5:Xl(a,s,n),n&&null===r&&4&i&&Sl(s),wl(s,s.return);break;case 12:Xl(a,s,n);break;case 31:Xl(a,s,n),n&&4&i&&Ul(a,s);break;case 13:Xl(a,s,n),n&&4&i&&Bl(a,s);break;case 22:null===s.memoizedState&&Xl(a,s,n),wl(s,s.return);break;case 30:break;default:Xl(a,s,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ua(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ua(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&a&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ua(e)));break;case 12:if(2048&a){ec(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Nu(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?ec(e,t,n,r):rc(e,t):2&s._visibility?ec(e,t,n,r):(s._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Jl(i,t);break;case 24:ec(e,t,n,r),2048&a&&Zl(t.alternate,t)}}function nc(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,o=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:nc(s,i,o,l,a),yl(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?nc(s,i,o,l,a):rc(s,i):(u._visibility|=2,nc(s,i,o,l,a)),a&&2048&c&&Jl(i.alternate,i);break;case 24:nc(s,i,o,l,a),a&&2048&c&&Zl(i.alternate,i);break;default:nc(s,i,o,l,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:rc(n,r),2048&a&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&a&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ac=8192;function sc(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)ic(e,t,n),e=e.sibling}function ic(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=Kd(r.href),s=t.querySelector(Wd(a));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=$d(r),(a=Vd.get(a))&&eh(r,a),et(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),fd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Gl,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var r=Gl;Gl=Bd(e.stateNode.containerInfo),sc(e,t,n),Gl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ac,ac=16777216,sc(e,t,n),ac=r):sc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,dc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,dc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ll;){var n=Ll;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ua(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ll=r;else e:for(n=e;null!==Ll;){var a=(r=Ll).sibling,s=r.return;if(Ol(r),r===n){Ll=null;break e}if(null!==a){a.return=s,Ll=a;break e}Ll=s}}}var hc={getCacheForType:function(e){var t=Ma(Fa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ma(Fa).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,yc=0,vc=0,bc=null,xc=!1,wc=!1,kc=!1,Sc=0,Nc=0,Ec=0,_c=0,Cc=0,Tc=0,jc=0,Ic=null,Ac=null,Dc=!1,Mc=0,Lc=0,Pc=1/0,Oc=null,Rc=null,zc=0,Fc=null,Vc=null,Uc=0,Bc=0,qc=null,Hc=null,Gc=0,Qc=null;function Kc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==L.T?qu():ze()}function Wc(){if(0===Tc)if(0===(536870912&yc)||ha){var e=Ne;0===(3932160&(Ne<<=1))&&(Ne=262144),Tc=e}else Tc=536870912;return null!==(e=Ms.current)&&(e.flags|=32),Tc}function $c(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Tc,!1)),De(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(_c|=n),4===Nc&&Zc(e,yc,Tc,!1)),Ou(e))}function Yc(e,t,n){if(0!==(6&pc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),a=r?function(e,t){var n=pc;pc|=2;var r=su(),a=iu();mc!==e||yc!==t?(Oc=null,Pc=le()+500,nu(e,t)):wc=Te(e,t);e:for(;;)try{if(0!==vc&&null!==gc){t=gc;var s=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,s,1);break;case 2:case 9:if(ns(s)){vc=0,bc=null,hu(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),Ou(e)},s.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ns(s)?(vc=0,bc=null,hu(t)):(vc=0,bc=null,fu(e,t,s,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?sh(o):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}vc=0,bc=null,fu(e,t,s,5);break;case 6:vc=0,bc=null,fu(e,t,s,6);break;case 8:tu(),Nc=6;break e;default:throw Error(i(462))}}uu();break}catch(d){ru(e,d)}return Ea=Na=null,L.H=r,L.A=a,pc=n,null!==gc?0:(mc=null,yc=0,Ar(),Nc)}(e,t):lu(e,t,!0),s=r;;){if(0===a){wc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Jc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=s,_c|=s,a=4;break e}s=Ac,Ac=a,null!==s&&(null===Ac?Ac=s:Ac.push.apply(Ac,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Tc,!xc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Mc+300-le())){if(Zc(r,t,Tc,!xc),0!==Ce(r,0,!0))break e;Uc=t,r.timeoutHandle=kd(Xc.bind(null,r,n,Ac,Oc,Dc,t,Tc,_c,jc,xc,s,"Throttled",-0,0),a)}else Xc(r,n,Ac,Oc,Dc,t,Tc,_c,jc,xc,s,null,-0,0)}break}a=lu(e,t,!1),s=!1}Ou(e)}function Xc(e,t,n,r,a,s,i,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ic(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt});var p=(62914560&s)===s?Mc-le():(4194048&s)===s?Lc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ih&&(ih=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],s=a.transferSize,i=a.initiatorType,o=a.duration;if(s&&o&&pd(i)){for(i=0,o=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(i+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(d,p),null!==p)return Uc=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,a,i,o,l,u,d,null,h,f)),void Zc(e,s,i,!c)}gu(e,t,s,n,r,a,i,o,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Zn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Cc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-xe(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&Me(e,n,t)}function eu(){return 0!==(6&pc)||(Ru(0,!1),!1)}function tu(){if(null!==gc){if(0===vc)var e=gc.return;else Ea=Na=null,oi(e=gc),ls=null,cs=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,tu(),mc=e,gc=n=Ur(e.current,null),yc=t,vc=0,bc=null,xc=!1,wc=Te(e,t),kc=!1,jc=Tc=Cc=_c=Ec=Nc=0,Ac=Ic=null,Dc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-xe(r),s=1<<a;t|=e[a],r&=~s}return Sc=t,Ar(),n}function ru(e,t){qs=null,L.H=go,t===Ja||t===es?(t=is(),vc=3):t===Za?(t=is(),vc=4):vc=t===Mo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Nc=1,To(e,$r(t,e.current)))}function au(){var e=Ms.current;return null===e||((4194048&yc)===yc?null===Ls:((62914560&yc)===yc||0!==(536870912&yc))&&e===Ls)}function su(){var e=L.H;return L.H=go,null===e?go:e}function iu(){var e=L.A;return L.A=hc,e}function ou(){Nc=4,xc||(4194048&yc)!==yc&&null!==Ms.current||(wc=!0),0===(134217727&Ec)&&0===(134217727&_c)||null===mc||Zc(mc,yc,Tc,!1)}function lu(e,t,n){var r=pc;pc|=2;var a=su(),s=iu();mc===e&&yc===t||(Oc=null,nu(e,t)),t=!1;var i=Nc;e:for(;;)try{if(0!==vc&&null!==gc){var o=gc,l=bc;switch(vc){case 8:tu(),i=6;break e;case 3:case 2:case 9:case 6:null===Ms.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,o,l,c),n&&wc){i=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,o,l,c)}}cu(),i=Nc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ea=Na=null,pc=r,L.H=a,L.A=s,null===gc&&(mc=null,yc=0,Ar()),i}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!ie();)du(gc)}function du(e){var t=ol(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qo(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Qo(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:oi(t);default:gl(n,t),t=ol(n,t=gc=Br(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Ea=Na=null,oi(t),ls=null,cs=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ia(t,n,a,!0),null!==(n=Ms.current)){switch(n.tag){case 31:case 13:return null===Ls?ou():null===n.alternate&&0===Nc&&(Nc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,a)),!1;case 22:return n.flags|=65536,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,a)),!1}throw Error(i(435,n.tag))}return Eu(e,r,a),ou(),!1}if(ha)return null!==(t=Ms.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ma&&ka($r(e=Error(i(422),{cause:r}),n))):(r!==ma&&ka($r(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=$r(r,n),ks(e,a=Io(e.stateNode,r,a)),4!==Nc&&(Nc=2)),!1;var s=Error(i(520),{cause:r});if(s=$r(s,n),null===Ic?Ic=[s]:Ic.push(s),4!==Nc&&(Nc=2),null===t)return!0;r=$r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ks(n,e=Io(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Rc||!Rc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Do(a=Ao(a),e,n,r),ks(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,yc))return Nc=1,To(e,$r(n,e.current)),void(gc=null)}catch(s){if(null!==a)throw gc=a,s;return Nc=1,To(e,$r(n,e.current)),void(gc=null)}32768&t.flags?(ha||1===r?e=!0:wc||0!==(536870912&yc)?e=!1:(xc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ms.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,xc);e=t.return;var n=pl(t.alternate,t,Sc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Nc&&(Nc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Nc=6,gc=null}function gu(e,t,n,r,a,s,o,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==zc);if(0!==(6&pc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-xe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Me(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=Ir,o,l,c),e===mc&&(gc=mc=null,yc=0),Vc=t,Fc=e,Uc=n,Bc=s,qc=a,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=L.T,L.T=null,a=P.p,P.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=xh,sr(e=ar(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},xh=!1,Ll=t;null!==Ll;)if(e=(t=Ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ll=e;else for(;null!==Ll;){switch(s=(t=Ll).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=No(n.type,a);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Nu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ll=e;break}Ll=t.return}}(e,t)}finally{pc=o,P.p=a,L.T=r}}zc=1,yu(),vu(),bu()}}function yu(){if(1===zc){zc=0;var e=Fc,t=Vc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var r=P.p;P.p=2;var a=pc;pc|=4;try{Ql(t,e);var s=gd,i=ar(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&rr(o.ownerDocument.documentElement,o)){if(null!==l&&sr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(i=g,g=m,m=i);var y=nr(o,m),v=nr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}xh=!!md,gd=md=null}finally{pc=a,P.p=r,L.T=n}}e.current=t,zc=2}}function vu(){if(2===zc){zc=0;var e=Fc,t=Vc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var r=P.p;P.p=2;var a=pc;pc|=4;try{Pl(e,t.alternate,t)}finally{pc=a,P.p=r,L.T=n}}zc=3}}function bu(){if(4===zc||3===zc){zc=0,oe();var e=Fc,t=Vc,n=Uc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?zc=5:(zc=0,Vc=Fc=null,xu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Rc=null),Re(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=L.T,a=P.p,P.p=2,L.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{L.T=t,P.p=a}}0!==(3&Uc)&&wu(),Ou(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===Qc?Gc++:(Gc=0,Qc=e):Gc=0,Ru(0,!1)}}function xu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ua(t)))}function wu(){return yu(),vu(),bu(),ku()}function ku(){if(5!==zc)return!1;var e=Fc,t=Bc;Bc=0;var n=Re(Uc),r=L.T,a=P.p;try{P.p=32>n?32:n,L.T=null,n=qc,qc=null;var s=Fc,o=Uc;if(zc=0,Vc=Fc=null,Uc=0,0!==(6&pc))throw Error(i(331));var l=pc;if(pc|=4,cc(s.current),tc(s,s.current,o,n),pc=l,Ru(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(c){}return!0}finally{P.p=a,L.T=r,xu(e,t)}}function Su(e,t,n){t=$r(n,t),null!==(e=xs(e,t=Io(e.stateNode,t,2),2))&&(De(e,2),Ou(e))}function Nu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rc||!Rc.has(r))){e=$r(n,e),null!==(r=xs(t,n=Ao(2),2))&&(Do(n,r,t,e),De(r,2),Ou(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(kc=!0,a.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===Nc||3===Nc&&(62914560&yc)===yc&&300>le()-Mc?0===(2&pc)&&nu(e,0):Cc|=n,jc===yc&&(jc=0)),Ou(e)}function Cu(e,t){0===t&&(t=Ie()),null!==(e=Lr(e,t))&&(De(e,t),Ou(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function ju(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cu(e,n)}var Iu=null,Au=null,Du=!1,Mu=!1,Lu=!1,Pu=0;function Ou(e){e!==Au&&null===e.next&&(null===Au?Iu=Au=e:Au=Au.next=e),Mu=!0,Du||(Du=!0,Ed(function(){0!==(6&pc)?ae(ue,zu):Fu()}))}function Ru(e,t){if(!Lu&&Mu){Lu=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Bu(r,s))}else s=yc,0===(3&(s=Ce(r,r===mc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,s)||(n=!0,Bu(r,s));r=r.next}}while(n);Lu=!1}}function zu(){Fu()}function Fu(){Mu=Du=!1;var e=0;0!==Pu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=Pu);for(var t=le(),n=null,r=Iu;null!==r;){var a=r.next,s=Vu(r,t);0===s?(r.next=null,null===n?Iu=a:n.next=a,null===a&&(Au=n)):(n=r,(0!==e||0!==(3&s))&&(Mu=!0)),r=a}0!==zc&&5!==zc||Ru(e,!1),0!==Pu&&(Pu=0)}function Vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-xe(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=je(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=yc,n=Ce(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Re(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Uu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Ce(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Bu(e,t){if(wu())return null;Yc(e,t,!0)}function qu(){if(0===Pu){var e=Ha;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Pu=e}return Pu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Gu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Qu=0;Qu<Er.length;Qu++){var Ku=Er[Qu];_r(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}_r(yr,"onAnimationEnd"),_r(vr,"onAnimationIteration"),_r(br,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(xr,"onTransitionRun"),_r(wr,"onTransitionStart"),_r(kr,"onTransitionCancel"),_r(Sr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$u=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){Cr(u)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){Cr(u)}a.currentTarget=null,s=l}}}}function Xu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&($u.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function td(e,t,n,r){switch(Ch(t)){case 2:var a=wh;break;case 8:a=kh;break;default:a=Sh}n=a.bind(null,t,n,e),a=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Ye(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}o=o.parentNode}}r=r.return}Vt(function(){var r=s,a=Lt(n),i=[];e:{var o=Nr.get(e);if(void 0!==o){var c=rn,u=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=un;break;case"focusout":u="blur",c=un;break;case"beforeblur":case"afterblur":c=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case yr:case vr:case br:c=dn;break;case Sr:c=kn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=Nn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=ln,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=xn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Je(c),p=null==u?o:Je(u),(o=new d(g,m+"leave",c,n,a)).target=h,o.relatedTarget=p,g=null,Ye(a)===r&&((d=new d(f,m+"enter",u,n,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=sd,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&id(i,o,c,d,!1),null!==u&&null!==h&&id(i,h,u,d,!0)}if("select"===(c=(o=r?Je(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Bn;else if(On(o))if(qn)v=Jn;else{v=Yn;var b=$n}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(v=Bn):v=Xn;switch(v&&(v=v(e,r))?Rn(i,v,n,a):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&xt(o,"number",o.value)),b=r?Je(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(or=b,lr=r,cr=null);break;case"focusout":cr=lr=or=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,dr(i,n,a);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":dr(i,n,a)}var x;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ln?Dn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==w?"onCompositionEnd"===w&&Ln&&(x=Wt()):(Qt="value"in(Gt=a)?Gt.value:Gt.textContent,Ln=!0)),0<(b=ad(r,w)).length&&(w=new fn(w,e,null,n,a),i.push({event:w,listeners:b}),x?w.data=x:null!==(x=Mn(n))&&(w.data=x))),(x=Tn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(An=!0,In);case"textInput":return(e=t.data)===In&&An?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!_n&&Dn(e,t)?(e=Wt(),Kt=Qt=Gt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ad(r,"onBeforeInput")).length&&(b=new fn("onBeforeInput","beforeinput",null,n,a),i.push({event:b,listeners:w}),b.data=x)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Hu((a[Be]||null).action),i=r.submitter;i&&null!==(t=(t=i[Be]||null)?Hu(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new rn("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Pu){var e=i?Gu(a,i):new FormData(a);to(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Gu(a,i):new FormData(a),to(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Yu(i,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Ut(e,n))&&r.unshift(rd(e,a,s)),null!=(a=Ut(e,t))&&r.push(rd(e,a,s))),3===e.tag)return r;e=e.return}return[]}function sd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function id(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Ut(n,s))&&i.unshift(rd(n,c,l)):a||null!=(c=Ut(n,s))&&i.push(rd(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var od=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Nt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&dd(e,t,"name",a.name,a,null),dd(e,t,"formEncType",a.formEncType,a,null),dd(e,t,"formMethod",a.formMethod,a,null),dd(e,t,"formTarget",a.formTarget,a,null)):(dd(e,t,"encType",a.encType,a,null),dd(e,t,"method",a.method,a,null),dd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=jt.get(n)||n,r)}}function hd(e,t,n,r,a,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&Nt(e,""+r);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Be]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:dd(e,t,r,o,n,null)}}return s&&dd(e,t,"srcSet",n.srcSet,n,null),void(a&&dd(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=r=o=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:dd(e,t,a,d,n,null)}}return void bt(e,r,l,c,u,o,s,!1);case"select":for(s in Xu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:dd(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(o in Xu("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:dd(e,t,o,l,n,null)}return void St(e,a,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else dd(e,t,c,a,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(a=0;a<Wu.length;a++)Xu(Wu[a],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:dd(e,t,u,a,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&hd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&dd(e,t,l,a,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,Nd="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Nd?function(e){return Nd.resolve(null).then(e).catch(_d)}:kd;function _d(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Gh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[We]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}else"body"===n&&Fd(e.ownerDocument.body);n=a}while(n);Gh(t)}function jd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}function Dd(e){return"$?"===e.data||"$~"===e.data}function Md(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Pd=null;function Od(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ld(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Rd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Vd=new Map,Ud=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=P.d;P.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qd.r(e)},D:function(e){qd.D(e),Gd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Gd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Hd;if(r&&e&&t){var a='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+yt(n.imageSizes)+'"]')):a+='[href="'+yt(e)+'"]';var s=a;switch(t){case"style":s=Kd(e);break;case"script":s=Yd(e)}Vd.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Wd(s))||"script"===t&&r.querySelector(Xd(s))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yd(e)}if(!Vd.has(s)&&(e=f({rel:"modulepreload",href:e},t),Vd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(s)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),s=r.get(a);s||((s=n.querySelector(Xd(a)))||(e=f({src:e,async:!0},t),(t=Vd.get(a))&&th(e,t),et(s=n.createElement("script")),fd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){qd.S(e,t,n);var r=Hd;if(r&&e){var a=Ze(r).hoistableStyles,s=Kd(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Wd(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vd.get(s))&&eh(e,n);var l=i=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){qd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),s=r.get(a);s||((s=n.querySelector(Xd(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=Vd.get(a))&&th(e,t),et(s=n.createElement("script")),fd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Hd="undefined"===typeof document?null:document;function Gd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var a=yt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Ud.has(a)||(Ud.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Qd(e,t,n,r){var a,s,o,l,c=(c=Q.current)?Bd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Wd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Vd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vd.set(e,n),u||(a=c,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),fd(s,"link",o),et(s),a.head.appendChild(s))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kd(e){return'href="'+yt(e)+'"'}function Wd(e){return'link[rel="stylesheet"]['+e+"]"}function $d(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+yt(e)+'"]'}function Xd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",a),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Kd(n.href);var s=e.querySelector(Wd(a));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=$d(n),(a=Vd.get(a))&&eh(r,a),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(s,"link",r),t.state.loading|=4,Zd(s,n.precedence,e),t.instance=s;case"script":return s=Yd(n.src),(a=e.querySelector(Xd(s)))?(t.instance=a,et(a),a):(r=n,(a=Vd.get(s))&&th(r=f({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),fd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,a=nh=new Map;a.set(n,r)}else(r=(a=nh).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[We]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function ah(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ih=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=oh.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dh={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function hh(e,t,n,r,a,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,a,s,i,o,l,c,u,d){return e=new hh(e,t,n,i,l,c,u,d,o),t=1,!0===s&&(t|=24),s=Fr(3,null,null,t),e.current=s,s.stateNode=e,(t=Va()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ys(s),e}function ph(e){return e?e=Rr:Rr}function mh(e,t,n,r,a,s){a=ph(a),null===r.context?r.context=a:r.pendingContext=a,(r=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=xs(e,r,t))&&($c(n,0,t),ws(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Lr(e,67108864);null!==t&&$c(t,0,67108864),yh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Lr(e,t=Oe(t));null!==n&&$c(n,0,t),yh(e,t)}}var xh=!0;function wh(e,t,n,r){var a=L.T;L.T=null;var s=P.p;try{P.p=2,Sh(e,t,n,r)}finally{P.p=s,L.T=a}}function kh(e,t,n,r){var a=L.T;L.T=null;var s=P.p;try{P.p=8,Sh(e,t,n,r)}finally{P.p=s,L.T=a}}function Sh(e,t,n,r){if(xh){var a=Nh(r);if(null===a)nd(e,t,r,Eh,n),Oh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return jh=Rh(jh,e,t,n,r,a),!0;case"dragenter":return Ih=Rh(Ih,e,t,n,r,a),!0;case"mouseover":return Ah=Rh(Ah,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Dh.set(s,Rh(Dh.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Mh.set(s,Rh(Mh.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Oh(e,r),4&t&&-1<Ph.indexOf(e)){for(;null!==a;){var s=Xe(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=_e(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-xe(i);o.entanglements[1]|=l,i&=~l}Ou(s),0===(6&pc)&&(Pc=le()+500,Ru(0,!1))}}break;case 31:case 13:null!==(o=Lr(s,2))&&$c(o,0,2),eu(),yh(s,2)}if(null===(s=Nh(r))&&nd(e,t,r,Eh,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Nh(e){return _h(e=Lt(e))}var Eh=null;function _h(e){if(Eh=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Th=!1,jh=null,Ih=null,Ah=null,Dh=new Map,Mh=new Map,Lh=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":jh=null;break;case"dragenter":case"dragleave":Ih=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":Dh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mh.delete(t.pointerId)}}function Rh(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Xe(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function zh(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nh(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function Vh(e,t,n){Fh(e)&&n.delete(t)}function Uh(){Th=!1,null!==jh&&Fh(jh)&&(jh=null),null!==Ih&&Fh(Ih)&&(Ih=null),null!==Ah&&Fh(Ah)&&(Ah=null),Dh.forEach(Vh),Mh.forEach(Vh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uh)))}var qh=null;function Hh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===_h(r||n))continue;break}var s=Xe(n);null!==s&&(e.splice(t,3),t-=3,to(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Gh(e){function t(t){return Bh(t,e)}null!==jh&&Bh(jh,e),null!==Ih&&Bh(Ih,e),null!==Ah&&Bh(Ah,e),Dh.forEach(t),Mh.forEach(t);for(var n=0;n<Lh.length;n++){var r=Lh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lh.length&&null===(n=Lh[0]).blockedOn;)zh(n),null===n.blockedOn&&Lh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Be]||null;if("function"===typeof s)i||Hh(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Be]||null)o=i.formAction;else if(null!==_h(a))continue}else o=i.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Qh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Kh(e){this._internalRoot=e}function Wh(e){this._internalRoot=e}Wh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));mh(t.current,Kc(),e,t,null,null)},Wh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[qe]=null}},Wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lh.length&&0!==t&&t<Lh[n].priority;n++);Lh.splice(n,0,e),0===n&&zh(e)}};var $h=a.version;if("19.2.3"!==$h)throw Error(i(527,$h,"19.2.3"));P.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return d(a),e;if(s===r)return d(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ye=Xh.inject(Yh),ve=Xh}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",a=Eo,s=_o,l=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,a,s,l,Qh),e[qe]=t.current,ed(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,a="",s=Eo,l=_o,c=Co,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,a,u,s,l,c,Qh)).context=ph(null),n=t.current,(a=bs(r=Oe(r=Kc()))).callback=null,xs(n,a,r),n=r,t.current.lanes=n,De(t,n),Ou(t),e[qe]=t.current,ed(e),new Wh(t)},t.version="19.2.3"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=x.prototype=new b;w.constructor=x,g(w,v.prototype),w.isPureReactComponent=!0;var k=Array.isArray;function S(){}var N={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function _(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return I((u=e._init)(e._payload),t,a,s,i)}}if(u)return i=i(e),u=""===s?"."+j(e,0):s,k(i)?(a="",null!=u&&(a=u.replace(T,"$&/")+"/"),I(i,t,a,"",function(e){return e})):null!=i&&(C(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+u,i=_(l.type,c,l.props)),t.push(i)),1;u=0;var d,f=""===s?".":s+":";if(k(e))for(var m=0;m<e.length;m++)u+=I(s=e[m],t,a,o=f+j(s,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=I(s=s.value,t,a,o=f+j(s,m++),i);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",function(e){return t.call(n,e,a++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=L,t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.key&&(a=""+t.key),t)!E.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}return _(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return _(e,s,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,n={};N.T=n;try{var r=e(),a=N.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,M)}catch(s){M(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useEffectEvent=function(e){return N.H.useEffectEvent(e)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.H.useTransition()},t.version="19.2.3"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N||(N=!0,S());else{var t=r(u);null!==t&&D(k,t.startTime-e)}}var S,N=!1,E=-1,_=5,C=-1;function T(){return!!y||!(t.unstable_now()-C<_)}function j(){if(y=!1,N){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var s=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&D(k,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?S():N=!1}}}if("function"===typeof x)S=function(){x(j)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=j,S=function(){A.postMessage(null)}}else S=function(){v(j,0)};function D(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,D(k,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,N||(N=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".fd8ba581.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="team-accounting:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.p="/team-accounting/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkteam_accounting=self.webpackChunkteam_accounting||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],m=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:d}=e,m=u(e,p);return(0,r.createElement)("svg",c(c(c({ref:t},f),{},{width:a,height:a,stroke:n,strokeWidth:i?24*Number(s)/Number(a):s,className:h("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),g=["className"],y=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{className:s}=n,i=u(n,g);return(0,r.createElement)(m,c({ref:a,iconNode:t,className:h("lucide-".concat((o=d(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},i));var o});return n.displayName=d(e),n},v=y("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),b=y("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),x=y("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),w=y("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),k=y("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),S=y("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),N=y("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),E=y("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,i=s?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0;++a;const i=a<e.length?n[e.charAt(a)]:64;++a;const o=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==s||null==i||null==o)throw new T;const l=t<<2|s>>4;if(r.push(l),64!==i){const e=s<<4&240|i>>2;if(r.push(e),64!==o){const e=i<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j=function(e){return function(e){const t=_(e);return C.encodeByteArray(t,!0)}(e).replace(/\./g,"")},I=function(e){try{return C.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function A(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const D=()=>{try{return A().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/team-accounting",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&I(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},M=e=>{const t=(e=>{var t;return null===(t=D())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},L=()=>{var e;return null===(e=D())||void 0===e?void 0:e.config};class P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function O(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const R={};let z=!1;function F(e,t){if("undefined"===typeof window||"undefined"===typeof document||!O(window.location.host)||R[e]===t||R[e]||z)return;function n(e){return"__firebase__banner__".concat(e)}R[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(R))R[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{z=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),i=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,i,l,n),document.body.appendChild(t)}a?(i.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function V(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function U(){var e;const t=null===(e=D())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function B(){return!U()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){try{return"object"===typeof indexedDB}catch(e){return!1}}class H extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Q,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new H(n,s,t)}}const Q=/\{\$([^}]+)}/g;function K(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],s=t[a];if(W(n)&&W(s)){if(!K(n,s))return!1}else if(n!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function W(e){return null!==e&&"object"===typeof e}function $(e){return e&&e._delegate?e._delegate:e}class Y{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const X="[DEFAULT]";class J{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new P;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:X})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===X?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.component?this.component.multipleInstances?e:X:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new J(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ee=[];var te;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(te||(te={}));const ne={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},re=te.INFO,ae={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},se=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ae[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ie{constructor(e){this.name=e,this._logLevel=re,this._logHandler=se,this._userLogHandler=null,ee.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...t),this._logHandler(this,te.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...t),this._logHandler(this,te.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,te.INFO,...t),this._logHandler(this,te.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,te.WARN,...t),this._logHandler(this,te.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,te.ERROR,...t),this._logHandler(this,te.ERROR,...t)}}let oe,le;const ce=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakMap,fe=new WeakMap;let pe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ue.get(e);if("objectStoreNames"===t)return e.objectStoreNames||de.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ye(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function me(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ve(this),n),ye(ce.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ye(e.apply(ve(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const s=e.call(ve(this),t,...r);return de.set(s,t.sort?t.sort():[t]),ye(s)}}function ge(e){return"function"===typeof e?me(e):(e instanceof IDBTransaction&&function(e){if(ue.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});ue.set(e,t)}(e),t=e,(oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,pe):e);var t}function ye(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(ye(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ce.set(t,e)}).catch(()=>{}),fe.set(t,e),t}(e);if(he.has(e))return he.get(e);const t=ge(e);return t!==e&&(he.set(e,t),fe.set(t,e)),t}const ve=e=>fe.get(e);const be=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],we=new Map;function ke(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(we.get(t))return we.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=xe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!be.includes(n))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),a&&t.done]))[0]};return we.set(t,s),s}pe=(e=>c(c({},e),{},{get:(t,n,r)=>ke(t,n)||e.get(t,n,r),has:(t,n)=>!!ke(t,n)||e.has(t,n)}))(pe);class Se{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Ne="@firebase/app",Ee="0.14.6",_e=new ie("@firebase/app"),Ce="@firebase/app-compat",Te="@firebase/analytics-compat",je="@firebase/analytics",Ie="@firebase/app-check-compat",Ae="@firebase/app-check",De="@firebase/auth",Me="@firebase/auth-compat",Le="@firebase/database",Pe="@firebase/data-connect",Oe="@firebase/database-compat",Re="@firebase/functions",ze="@firebase/functions-compat",Fe="@firebase/installations",Ve="@firebase/installations-compat",Ue="@firebase/messaging",Be="@firebase/messaging-compat",qe="@firebase/performance",He="@firebase/performance-compat",Ge="@firebase/remote-config",Qe="@firebase/remote-config-compat",Ke="@firebase/storage",We="@firebase/storage-compat",$e="@firebase/firestore",Ye="@firebase/ai",Xe="@firebase/firestore-compat",Je="firebase",Ze="[DEFAULT]",et={[Ne]:"fire-core",[Ce]:"fire-core-compat",[je]:"fire-analytics",[Te]:"fire-analytics-compat",[Ae]:"fire-app-check",[Ie]:"fire-app-check-compat",[De]:"fire-auth",[Me]:"fire-auth-compat",[Le]:"fire-rtdb",[Pe]:"fire-data-connect",[Oe]:"fire-rtdb-compat",[Re]:"fire-fn",[ze]:"fire-fn-compat",[Fe]:"fire-iid",[Ve]:"fire-iid-compat",[Ue]:"fire-fcm",[Be]:"fire-fcm-compat",[qe]:"fire-perf",[He]:"fire-perf-compat",[Ge]:"fire-rc",[Qe]:"fire-rc-compat",[Ke]:"fire-gcs",[We]:"fire-gcs-compat",[$e]:"fire-fst",[Xe]:"fire-fst-compat",[Ye]:"fire-vertex","fire-js":"fire-js",[Je]:"fire-js-all"},tt=new Map,nt=new Map,rt=new Map;function at(e,t){try{e.container.addComponent(t)}catch(n){_e.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function st(e){const t=e.name;if(rt.has(t))return _e.debug("There were multiple attempts to register component ".concat(t,".")),!1;rt.set(t,e);for(const n of tt.values())at(n,e);for(const n of nt.values())at(n,e);return!0}function it(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ot=new G("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lt{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Y("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ot.create("app-deleted",{appName:this._name})}}function ct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:Ze,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw ot.create("bad-app-name",{appName:String(a)});if(n||(n=L()),!n)throw ot.create("no-options");const s=tt.get(a);if(s){if(K(n,s.options)&&K(r,s.config))return s;throw ot.create("duplicate-app",{appName:a})}const i=new Z(a);for(const l of rt.values())i.addComponent(l);const o=new lt(n,r,i);return tt.set(a,o),o}function ut(e,t,n){var r;let a=null!==(r=et[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _e.warn(e.join(" "))}st(new Y("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const dt="firebase-heartbeat-store";let ht=null;function ft(){return ht||(ht=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=ye(i);return r&&i.addEventListener("upgradeneeded",e=>{r(ye(i.result),e.oldVersion,e.newVersion,ye(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(dt)}catch(n){console.warn(n)}}}).catch(e=>{throw ot.create("idb-open",{originalErrorMessage:e.message})})),ht}async function pt(e,t){try{const n=(await ft()).transaction(dt,"readwrite"),r=n.objectStore(dt);await r.put(t,mt(e)),await n.done}catch(n){if(n instanceof H)_e.warn(n.message);else{const e=ot.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});_e.warn(e.message)}}}function mt(e){return"".concat(e.name,"!").concat(e.options.appId)}class gt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){_e.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=yt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),bt(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),bt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=j(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return _e.warn(t),""}}}function yt(){return(new Date).toISOString().substring(0,10)}class vt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!q()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ft()).transaction(dt),n=await t.objectStore(dt).get(mt(e));return await t.done,n}catch(t){if(t instanceof H)_e.warn(t.message);else{const e=ot.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});_e.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return pt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return pt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function bt(e){return j(JSON.stringify({version:2,heartbeats:e})).length}var xt;xt="",st(new Y("platform-logger",e=>new Se(e),"PRIVATE")),st(new Y("heartbeat",e=>new gt(e),"PRIVATE")),ut(Ne,Ee,xt),ut(Ne,Ee,"esm2020"),ut("fire-js","");var wt,kt,St="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Nt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var a=0;a<16;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;a<16;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];let s,i=e.g[3];s=t+(i^n&(a^i))+r[0]+3614090360&4294967295,s=i+(a^(t=n+(s<<7&4294967295|s>>>25))&(n^a))+r[1]+3905402710&4294967295,i=t+(s<<12&4294967295|s>>>20),s=a+(n^i&(t^n))+r[2]+606105819&4294967295,s=n+(t^(a=i+(s<<17&4294967295|s>>>15))&(i^t))+r[3]+3250441966&4294967295,s=t+(i^(n=a+(s<<22&4294967295|s>>>10))&(a^i))+r[4]+4118548399&4294967295,s=i+(a^(t=n+(s<<7&4294967295|s>>>25))&(n^a))+r[5]+1200080426&4294967295,i=t+(s<<12&4294967295|s>>>20),s=a+(n^i&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(a=i+(s<<17&4294967295|s>>>15))&(i^t))+r[7]+4249261313&4294967295,s=t+(i^(n=a+(s<<22&4294967295|s>>>10))&(a^i))+r[8]+1770035416&4294967295,s=i+(a^(t=n+(s<<7&4294967295|s>>>25))&(n^a))+r[9]+2336552879&4294967295,i=t+(s<<12&4294967295|s>>>20),s=a+(n^i&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(a=i+(s<<17&4294967295|s>>>15))&(i^t))+r[11]+2304563134&4294967295,s=t+(i^(n=a+(s<<22&4294967295|s>>>10))&(a^i))+r[12]+1804603682&4294967295,s=i+(a^(t=n+(s<<7&4294967295|s>>>25))&(n^a))+r[13]+4254626195&4294967295,i=t+(s<<12&4294967295|s>>>20),s=a+(n^i&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(a=i+(s<<17&4294967295|s>>>15))&(i^t))+r[15]+1236535329&4294967295,s=t+(a^i&((n=a+(s<<22&4294967295|s>>>10))^a))+r[1]+4129170786&4294967295,s=i+(n^a&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,i=t+(s<<9&4294967295|s>>>23),s=a+(t^n&(i^t))+r[11]+643717713&4294967295,s=n+(i^t&((a=i+(s<<14&4294967295|s>>>18))^i))+r[0]+3921069994&4294967295,s=t+(a^i&((n=a+(s<<20&4294967295|s>>>12))^a))+r[5]+3593408605&4294967295,s=i+(n^a&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,i=t+(s<<9&4294967295|s>>>23),s=a+(t^n&(i^t))+r[15]+3634488961&4294967295,s=n+(i^t&((a=i+(s<<14&4294967295|s>>>18))^i))+r[4]+3889429448&4294967295,s=t+(a^i&((n=a+(s<<20&4294967295|s>>>12))^a))+r[9]+568446438&4294967295,s=i+(n^a&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,i=t+(s<<9&4294967295|s>>>23),s=a+(t^n&(i^t))+r[3]+4107603335&4294967295,s=n+(i^t&((a=i+(s<<14&4294967295|s>>>18))^i))+r[8]+1163531501&4294967295,s=t+(a^i&((n=a+(s<<20&4294967295|s>>>12))^a))+r[13]+2850285829&4294967295,s=i+(n^a&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,i=t+(s<<9&4294967295|s>>>23),s=a+(t^n&(i^t))+r[7]+1735328473&4294967295,s=n+(i^t&((a=i+(s<<14&4294967295|s>>>18))^i))+r[12]+2368359562&4294967295,s=t+((n=a+(s<<20&4294967295|s>>>12))^a^i)+r[5]+4294588738&4294967295,s=i+((t=n+(s<<4&4294967295|s>>>28))^n^a)+r[8]+2272392833&4294967295,i=t+(s<<11&4294967295|s>>>21),s=a+(i^t^n)+r[11]+1839030562&4294967295,s=n+((a=i+(s<<16&4294967295|s>>>16))^i^t)+r[14]+4259657740&4294967295,s=t+((n=a+(s<<23&4294967295|s>>>9))^a^i)+r[1]+2763975236&4294967295,s=i+((t=n+(s<<4&4294967295|s>>>28))^n^a)+r[4]+1272893353&4294967295,i=t+(s<<11&4294967295|s>>>21),s=a+(i^t^n)+r[7]+4139469664&4294967295,s=n+((a=i+(s<<16&4294967295|s>>>16))^i^t)+r[10]+3200236656&4294967295,s=t+((n=a+(s<<23&4294967295|s>>>9))^a^i)+r[13]+681279174&4294967295,s=i+((t=n+(s<<4&4294967295|s>>>28))^n^a)+r[0]+3936430074&4294967295,i=t+(s<<11&4294967295|s>>>21),s=a+(i^t^n)+r[3]+3572445317&4294967295,s=n+((a=i+(s<<16&4294967295|s>>>16))^i^t)+r[6]+76029189&4294967295,s=t+((n=a+(s<<23&4294967295|s>>>9))^a^i)+r[9]+3654602809&4294967295,s=i+((t=n+(s<<4&4294967295|s>>>28))^n^a)+r[12]+3873151461&4294967295,i=t+(s<<11&4294967295|s>>>21),s=a+(i^t^n)+r[15]+530742520&4294967295,s=n+((a=i+(s<<16&4294967295|s>>>16))^i^t)+r[2]+3299628645&4294967295,s=t+(a^((n=a+(s<<23&4294967295|s>>>9))|~i))+r[0]+4096336452&4294967295,s=i+(n^((t=n+(s<<6&4294967295|s>>>26))|~a))+r[7]+1126891415&4294967295,i=t+(s<<10&4294967295|s>>>22),s=a+(t^(i|~n))+r[14]+2878612391&4294967295,s=n+(i^((a=i+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(a^((n=a+(s<<21&4294967295|s>>>11))|~i))+r[12]+1700485571&4294967295,s=i+(n^((t=n+(s<<6&4294967295|s>>>26))|~a))+r[3]+2399980690&4294967295,i=t+(s<<10&4294967295|s>>>22),s=a+(t^(i|~n))+r[10]+4293915773&4294967295,s=n+(i^((a=i+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(a^((n=a+(s<<21&4294967295|s>>>11))|~i))+r[8]+1873313359&4294967295,s=i+(n^((t=n+(s<<6&4294967295|s>>>26))|~a))+r[15]+4264355552&4294967295,i=t+(s<<10&4294967295|s>>>22),s=a+(t^(i|~n))+r[6]+2734768916&4294967295,s=n+(i^((a=i+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(a^((n=a+(s<<21&4294967295|s>>>11))|~i))+r[4]+4149444226&4294967295,s=i+(n^((t=n+(s<<6&4294967295|s>>>26))|~a))+r[11]+3174756917&4294967295,i=t+(s<<10&4294967295|s>>>22),s=a+(t^(i|~n))+r[2]+718787259&4294967295,s=n+(i^((a=i+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let a=e.length-1;a>=0;a--){const s=0|e[a];r&&s==t||(n[a]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,a=this.C;let s=this.h,i=0;for(;i<t;){if(0==s)for(;i<=r;)n(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(a[s++]=e.charCodeAt(i++),s==this.blockSize){n(this,a),s=0;break}}else for(;i<t;)if(a[s++]=e[i++],s==this.blockSize){n(this,a),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var a={};function s(e){return-128<=e&&e<128?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function i(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return h(i(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var a=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(a=a.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new m(a,t)}for(a=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=i(n)).j(t);d(c)||c.l(e)>0;)c=(s=i(n-=r)).j(t);u(s)&&(s=l),a=a.add(s),e=f(e,c)}return new m(a,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const a=e.g.length-n,s=[];for(let r=0;r<a;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=i(Math.pow(e,6));var n=this;let r="";for(;;){const a=g(n,t).g;let s=(((n=f(n,a.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let a=0;for(let r=0;r<=t;r++){let t=a+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);a=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return i(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(let t=0;t<e.g.length;t++){const r=this.i(a)>>>16,s=65535&this.i(a),i=e.i(t)>>>16,o=65535&e.i(t);n[2*a+2*t]+=s*o,p(n,2*a+2*t),n[2*a+2*t+1]+=r*o,p(n,2*a+2*t+1),n[2*a+2*t+1]+=s*i,p(n,2*a+2*t+1),n[2*a+2*t+2]+=r*i,p(n,2*a+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,kt=Nt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=i,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=i(Math.pow(n,8));let a=o;for(let o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+s),n);s<8?(s=i(Math.pow(n,s)),a=a.j(s).add(i(e))):(a=a.j(r),a=a.add(i(e)))}return a},wt=Nt.Integer=r}).apply("undefined"!==typeof St?St:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Et,_t,Ct,Tt,jt,It,At,Dt,Mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Lt={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Mt&&Mt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var a=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var i=e[s];if(!(i in a))break e;a=a[i]}(r=r(s=a[e=e[e.length-1]]))!=s&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var a=a||{},s=this||self;function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=x;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,x=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(k)}};function k(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function S(){this.u=this.u,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,N),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),j=0;function I(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++j,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function D(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function M(e){const t={};for(const n in e)t[n]=e[n];return t}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<L.length;t++)n=L[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){this.src=e,this.g={},this.h=0}function R(e,t){const n=t.type;if(n in e.g){var r,a=e.g[n],s=Array.prototype.indexOf.call(a,t,void 0);(r=s>=0)&&Array.prototype.splice.call(a,s,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(let a=0;a<e.length;++a){const s=e[a];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return a}return-1}O.prototype.add=function(e,t,n,r,a){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const i=z(e,t,r,a);return i>-1?(t=e[i],n||(t.fa=!1)):((t=new I(t,this.src,s,!!r,a)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),V={};function U(e,t,n,r,a){if(r&&r.once)return q(e,t,n,r,a);if(Array.isArray(t)){for(let s=0;s<t.length;s++)U(e,t[s],n,r,a);return null}return n=Y(n),e&&e[T]?e.J(t,n,i(r)?!!r.capture:!!r,a):B(e,t,n,!1,r,a)}function B(e,t,n,r,a,s){if(!t)throw Error("Invalid event type");const o=i(a)?!!a.capture:!!a;let l=W(e);if(l||(e[F]=l=new O(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=K;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)E||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,a){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,a);return null}return n=Y(n),e&&e[T]?e.K(t,n,i(r)?!!r.capture:!!r,a):B(e,t,n,!0,r,a)}function H(e,t,n,r,a){if(Array.isArray(t))for(var s=0;s<t.length;s++)H(e,t[s],n,r,a);else r=i(r)?!!r.capture:!!r,n=Y(n),e&&e[T]?(e=e.i,(s=String(t).toString())in e.g&&((n=z(t=e.g[s],n,r,a))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=W(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,a)),(n=e>-1?t[e]:null)&&G(n))}function G(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])R(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=W(t))?(R(n,e),0==n.h&&(n.src=null,t[F]=null)):A(e)}}}function Q(e){return e in V?V[e]:V[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function W(e){return(e=e[F])instanceof O?e:null}var $="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(e){return"function"===typeof e?e:(e[$]||(e[$]=function(t){return e.handleEvent(t)}),e[$])}function X(){S.call(this),this.i=new O(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var a=t;P(t=new N(r,e),a)}let s,i;if(a=!0,n)for(i=n.length-1;i>=0;i--)s=t.g=n[i],a=Z(s,r,!0,t)&&a;if(s=t.g=e,a=Z(s,r,!0,t)&&a,a=Z(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)s=t.g=n[i],a=Z(s,r,!1,t)&&a}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let a=!0;for(let s=0;s<t.length;++s){const i=t[s];if(i&&!i.da&&i.capture==n){const t=i.listener,n=i.ha||i.src;i.fa&&R(e.i,i),a=!1!==t.call(n,r)&&a}}return a&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(X,S),X.prototype[T]=!0,X.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},X.prototype.N=function(){if(X.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},X.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},X.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ae(e){D(e.g,function(e,t){this.g.hasOwnProperty(t)&&G(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ae(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,ie=s.JSON.parse,oe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){N.call(this,"d")}function he(){N.call(this,"c")}u(de,N),u(he,N);var fe={},pe=null;function me(){return pe=pe||new X}function ge(e){N.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){N.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function xe(e,t){N.call(this,fe.Ja,e),this.size=t}function we(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function ke(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,N),fe.STAT_EVENT="statevent",u(ve,N),fe.Ja="timingevent",u(xe,N),ke.prototype.ua=function(){this.g=!1},ke.prototype.info=function(){};var Ne,Ee={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Te(e){return encodeURIComponent(String(e))}function je(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ie(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},Ne=new Ce;var De={},Me={};function Le(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Pe(e,null)}function Pe(e,t){e.F=Date.now(),ze(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=vn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var a="readystatechange";Array.isArray(a)||(a&&(re[0]=a.toString()),a=re);for(let s=0;s<a.length;s++){const e=U(n,a[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?M(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,a,s){e.info(function(){if(e.g)if(s){var i="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");i=t.length>=2&&"type"==t[1]?i+(e+"=")+l+"&":i+(e+"=redacted&")}}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+i})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Oe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Re(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?De:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),t)}function Ve(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||hn(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ae(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||We(n.h,e)))if(!e.L&&We(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;dn(n),en(n)}ln(n),be(18)}}else n.xa=a[1],0<n.xa-n.K&&a[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=we(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else pn(n,11)}else if((e.L||n.g==e)&&dn(n),!_(t))for(a=n.Ba.g.parse(t),t=0;t<a.length;t++){let l=a[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const a=l[4];null!=a&&(n.za=a,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&($e(s,s.h),s.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,at(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var i=e;if((r=n).na=yn(r,r.L?r.ba:null,r.W),i.L){Ye(r.h,i);var o=i,c=r.O;c&&(o.H=c),o.D&&(Ve(o),ze(o)),r.g=i}else on(r);n.i.length>0&&nn(n)}else"stop"!=l[0]&&"close"!=l[0]||pn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?pn(n,7):Zt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Ie.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==$t(e)?t.j():this.Y(e)},Ie.prototype.Y=function(e){try{if(e==this.g)e:{const l=$t(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||4!=l||7==c||ye(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Oe(e))return e.g.la();const t=Yt(e.g);if(""===t)return"";let n="";const r=t.length,a=4==$t(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),Ue(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(a&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,a,s,i){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+s+" "+i})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,a=this.g;if((r=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(r)){var i=r;break t}}i=null}if(!(e=i)){this.o=!1,this.m=3,be(12),Be(this),Ue(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Re(this,n),t==Me){4==l&&(this.m=4,be(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==De){this.m=4,be(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),qe(this,t)}if(Oe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),cn(o),o.P=!0,be(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ue(this)}else Se(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?hn(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&$t(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(_(e[r]))continue;var n=je(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[a]||[];t[a]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ue(this)}}}catch(mn){}},Ie.prototype.cancel=function(){this.K=!0,Be(this)},Ie.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,Ue(this)):Fe(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function We(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $e(e,t){e.g?e.g.add(t):e.h=t}function Ye(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xe(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}Ge.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,xt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=it(t[2]||""),this.g=it(t[3]||"",!0),nt(this,t[4]),this.h=it(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=it(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?it(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,ht)),e.i=new pt(t,e.l))}function at(e,t,n){e.i.set(t,n)}function st(e){return at(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function it(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(Te(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var a=t.h.lastIndexOf("/");-1!=a&&(r=t.h.slice(0,a+1)+r)}if(".."==(a=r)||"."==a)r="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){r=0==a.lastIndexOf("/",0),a=a.split("/");const e=[];for(let t=0;t<a.length;){const n=a[t++];"."==n?r&&t==a.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==a.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=a}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,xt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let a,s=null;r>=0?(a=e[n].substring(0,r),s=e[n].substring(r+1)):a=e[n],t(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=wt(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(wt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(wt(e,t),h(n)),e.h+=n.length)}function xt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(s){}}function St(){this.g=new oe}function Nt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Pt(e,t){X.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Rt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function zt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ft(e)}function Ft(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return D(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ut(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&Te(n):at(e,t,n))}function Bt(e){X.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=wt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const a=Te(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=a;""!==n[t]&&(r+="="+Te(n[t])),e.push(r)}}return this.i=e.join("&")},u(Nt,le),Nt.prototype.g=function(){return new Pt(this.i,this.h)},u(Pt,X),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ft(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,zt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ft(this)),this.g&&(this.readyState=3,Ft(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zt(this):Ft(this),3==this.readyState&&Rt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,zt(this))},e.Na=function(e){this.g&&(this.response=e,zt(this))},e.ga=function(){this.g&&zt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Bt,X);var qt=/^https?$/i,Ht=["POST","PUT"];function Gt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Qt(e),Wt(e)}function Qt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Kt(e){if(e.h&&"undefined"!=typeof a)if(e.v&&4==$t(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==$t(e)){e.h=!1;try{const a=e.ca();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!qt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var i=$t(e)>2?e.g.statusText:""}catch(o){i=""}e.l=i+" ["+e.ca()+"]",Qt(e)}}finally{Wt(e)}}}function Wt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function $t(e){return e.g?e.g.readyState:0}function Yt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xt("baseRetryDelayMs",5e3,e),this.Za=Xt("retryDelaySeedMs",1e4,e),this.Ta=Xt("forwardChannelMaxRetries",2,e),this.va=Xt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Zt(e){if(tn(e),3==e.I){var t=e.V++,n=et(e.J);if(at(n,"SID",e.M),at(n,"RID",t),at(n,"TYPE","terminate"),an(e,n),(t=new Ie(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=vn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ze(t)}gn(e)}function en(e){e.g&&(cn(e),e.g.cancel(),e.g=null)}function tn(e){en(e),e.v&&(s.clearTimeout(e.v),e.v=null),dn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function nn(e){if(!Qe(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||w(),b||(v(),b=!0),x.add(t,e),e.D=0}}function rn(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);at(r,"SID",e.M),at(r,"RID",n),at(r,"AID",e.K),an(e,r),e.u&&e.o&&Ut(r,e.u,e.o),n=new Ie(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=sn(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),$e(e.h,n),Le(n,r,t)}function an(e,t){e.H&&D(e.H,function(e,n){at(t,n,e)}),e.l&&D({},function(e,n){at(t,n,e)})}function sn(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=a[c].g;const n=a[c].map;if((s-=t)<0)t=Math.max(0,a[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;i(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(Ot){throw e.push(s+"type="+encodeURIComponent("_badmap")),Ot}}catch(Ot){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function on(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||w(),b||(v(),b=!0),x.add(t,e),e.A=0}}function ln(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),fn(e,e.A)),e.A++,!0)}function cn(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function un(e){e.g=new Ie(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);at(t,"RID","rpc"),at(t,"SID",e.M),at(t,"AID",e.K),at(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&at(t,"TO",e.ia),at(t,"TYPE","xmlhttp"),an(e,t),e.u&&e.o&&Ut(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Pe(n,e)}function dn(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function hn(e,t){var n=null;if(e.g==t){dn(e),cn(e),e.g=null;var r=2}else{if(!We(e.h,t))return;n=t.G,Ye(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var a=e.D;J(r=me(),new xe(r,n)),nn(e)}else on(e);else if(3==(a=t.m)||0==a&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=we(l(e.Ea,e,t),fn(e,e.D)),e.D++,!0))}(e,t)||2==r&&ln(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),a){case 1:pn(e,5);break;case 4:pn(e,10);break;case 3:pn(e,6);break;default:pn(e,2)}}function fn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function pn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new ke;if(s.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout(()=>{n.abort(),kt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)}).catch(()=>{clearTimeout(r),kt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),gn(e),tn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=Xe(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function yn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var a=s.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),a&&nt(e,a),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&at(r,n,t),at(r,"VER",e.ka),an(e,r),r}function vn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Bt(new Nt({ab:n})):new Bt(e.ma)).Fa(e.L),t}function bn(){}function xn(){}function wn(e,t){X.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!_(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function kn(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){he.call(this),this.status=1}function Nn(e){this.g=e}(e=Bt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ne.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void Gt(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Ht,t,void 0)>=0)||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(i){Gt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Wt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Bt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Kt(this):this.Xa())},e.Xa=function(){Kt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return $t(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ie(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Jt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=yn(this,null,this.W),nn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const a=new Ie(this,this.j,e);let s=this.o;if(this.U&&(s?(s=M(s),P(s,this.U)):s=this.U),null!==this.u||this.R||(a.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=sn(this,a,t),at(n=et(this.J),"RID",e),at(n,"CVER",22),this.G&&at(n,"X-HTTP-Session-Id",this.G),an(this,n),s&&(this.R?t="headers="+Te(Vt(s))+"&"+t:this.u&&Ut(n,this.u,s)),$e(this.h,a),this.Ra&&at(n,"TYPE","init"),this.S?(at(n,"$req",t),at(n,"SID","null"),a.U=!0,Le(a,n,null)):Le(a,n,t),this.I=2}}else 3==this.I&&(e?rn(this,e):0==this.i.length||Qe(this.h)||rn(this))},e.Da=function(){if(this.v=null,un(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),en(this),un(this))},e.Va=function(){null!=this.C&&(this.C=null,en(this),ln(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},xn.prototype.g=function(e,t){return new wn(e,t)},u(wn,X),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Zt(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&nn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,wn.Z.N.call(this)},u(kn,de),u(Sn,he),u(Nn,bn),Nn.prototype.ra=function(){J(this.g,"a")},Nn.prototype.qa=function(e){J(this.g,new kn(e))},Nn.prototype.pa=function(e){J(this.g,new Sn)},Nn.prototype.oa=function(){J(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Dt=Lt.createWebChannelTransport=function(){return new xn},At=Lt.getStatEventTarget=function(){return me()},It=Lt.Event=fe,jt=Lt.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Tt=Lt.ErrorCode=Ee,_e.COMPLETE="complete",Ct=Lt.EventType=_e,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",X.prototype.listen=X.prototype.J,_t=Lt.WebChannel=ce,Lt.FetchXmlHttpFactory=Nt,Bt.prototype.listenOnce=Bt.prototype.K,Bt.prototype.getLastError=Bt.prototype.Ha,Bt.prototype.getLastErrorCode=Bt.prototype.ya,Bt.prototype.getStatus=Bt.prototype.ca,Bt.prototype.getResponseJson=Bt.prototype.La,Bt.prototype.getResponseText=Bt.prototype.la,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Fa,Et=Lt.XhrIo=Bt}).apply("undefined"!==typeof Mt?Mt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Pt="@firebase/firestore",Ot="4.9.2";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let zt="12.3.0";const Ft=new ie("@firebase/firestore");function Vt(){return Ft.logLevel}function Ut(e){if(Ft.logLevel<=te.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Ht);Ft.debug("Firestore (".concat(zt,"): ").concat(e),...a)}}function Bt(e){if(Ft.logLevel<=te.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Ht);Ft.error("Firestore (".concat(zt,"): ").concat(e),...a)}}function qt(e){if(Ft.logLevel<=te.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Ht);Ft.warn("Firestore (".concat(zt,"): ").concat(e),...a)}}function Ht(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Gt(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Qt(e,r,n)}function Qt(e,t,n){let r="FIRESTORE (".concat(zt,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Bt(r),new Error(r)}function Kt(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||Qt(t,a,r)}function Wt(e,t){return e}const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends H{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Xt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Jt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Zt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rt.UNAUTHENTICATED))}shutdown(){}}class en{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tn{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Kt(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xt,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},i=e=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>i(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xt)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Kt("string"==typeof t.accessToken,31837,{l:t}),new Jt(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(null===e||"string"==typeof e,2055,{h:e}),new Rt(e)}}class nn{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rn{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new nn(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class an{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sn{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Kt(void 0===this.o,3512);const n=e=>{null!=e.error&&Ut("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Ut("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new an(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Kt("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new an(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function on(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ln{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=on(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function cn(e,t){return e<t?-1:e>t?1:0}function un(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),a=t.charAt(r);if(n!==a)return fn(n)===fn(a)?cn(n,a):fn(n)?1:-1}return cn(e.length,t.length)}const dn=55296,hn=57343;function fn(e){const t=e.charCodeAt(0);return t>=dn&&t<=hn}function pn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const mn="__name__";class gn{constructor(e,t,n){void 0===t?t=0:t>e.length&&Gt(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Gt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===gn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=gn.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return cn(e.length,t.length)}static compareSegments(e,t){const n=gn.isNumericId(e),r=gn.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?gn.extractNumericId(e).compare(gn.extractNumericId(t)):un(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wt.fromString(e.substring(4,e.length-2))}}class yn extends gn{construct(e,t,n){return new yn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new Yt($t.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter(e=>e.length>0))}return new yn(e)}static emptyPath(){return new yn([])}}const vn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends gn{construct(e,t,n){return new bn(e,t,n)}static isValidIdentifier(e){return vn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===mn}static keyField(){return new bn([mn])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new Yt($t.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Yt($t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Yt($t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(a(),r++)}if(a(),s)throw new Yt($t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}class xn{constructor(e){this.path=e}static fromPath(e){return new xn(yn.fromString(e))}static fromName(e){return new xn(yn.fromString(e).popFirst(5))}static empty(){return new xn(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xn(new yn(e.slice()))}}function wn(e,t,n){if(!n)throw new Yt($t.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function kn(e){if(!xn.isDocumentKey(e))throw new Yt($t.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sn(e){if(xn.isDocumentKey(e))throw new Yt($t.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Nn(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function En(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Gt(12329,{type:typeof e})}function _n(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yt($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=En(e);throw new Yt($t.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Cn(e,t){if(t<=0)throw new Yt($t.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function Tn(e,t){const n={typeString:e};return t&&(n.value=t),n}function jn(e,t){if(!Nn(e))throw new Yt($t.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const i=e[r];if(a&&typeof i!==a){n="JSON field '".concat(r,"' must be a ").concat(a,".");break}if(void 0!==s&&i!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new Yt($t.INVALID_ARGUMENT,n);return!0}const In=-62135596800,An=1e6;class Dn{static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*An);return new Dn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yt($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yt($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<In)throw new Yt($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yt($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/An}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jn(e,Dn._jsonSchema))return new Dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-In;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dn._jsonSchemaVersion="firestore/timestamp/1.0",Dn._jsonSchema={type:Tn("string",Dn._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};class Mn{static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new Dn(0,0))}static max(){return new Mn(new Dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ln=-1;class Pn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Pn.UNKNOWN_ID=-1;function On(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Mn.fromTimestamp(1e9===r?new Dn(n+1,0):new Dn(n,r));return new zn(a,xn.empty(),t)}function Rn(e){return new zn(e.readTime,e.key,Ln)}class zn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zn(Mn.min(),xn.empty(),Ln)}static max(){return new zn(Mn.max(),xn.empty(),Ln)}}function Fn(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xn.comparator(e.documentKey,t.documentKey),0!==n?n:cn(e.largestBatchId,t.largestBatchId))}const Vn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Un{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Bn(e){if(e.code!==$t.FAILED_PRECONDITION||e.message!==Vn)throw e;Ut("LocalStore","Unexpectedly lost primary lease")}class qn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qn((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qn?t:qn.resolve(t)}catch(e){return qn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qn.reject(t)}static resolve(e){return new qn((t,n)=>{t(e)})}static reject(e){return new qn((t,n)=>{n(e)})}static waitFor(e){return new qn((t,n)=>{let r=0,a=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++a,s&&a===r&&t()},e=>n(e))}),s=!0,a===r&&t()})}static or(e){let t=qn.resolve(!1);for(const n of e)t=t.next(e=>e?qn.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new qn((n,r)=>{const a=e.length,s=new Array(a);let i=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++i,i===a&&n(s)},e=>r(e))}})}static doWhile(e,t){return new qn((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function Hn(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gn(e){return"IndexedDbTransactionError"===e.name}class Qn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qn.ce=-1;const Kn=-1;function Wn(e){return null==e}function $n(e){return 0===e&&1/e==-1/0}function Yn(e){return"number"==typeof e&&Number.isInteger(e)&&!$n(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Xn="\x01";function Jn(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=er(t)),t=Zn(e.get(n),t);return er(t)}function Zn(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case Xn:n+="\x01\x11";break;default:n+=t}}return n}function er(e){return e+Xn+"\x01"}const tr="remoteDocuments",nr="owner",rr="mutationQueues",ar="mutations";const sr="documentMutations",ir="remoteDocumentsV14",or="remoteDocumentGlobal",lr="targets",cr="targetDocuments",ur="targetGlobal",dr="collectionParents",hr="clientMetadata",fr="bundles",pr="namedQueries",mr="indexConfiguration",gr="indexState",yr="indexEntries",vr="documentOverlays",br="globals",xr=[rr,ar,sr,tr,lr,nr,ur,cr,hr,or,dr,fr,pr],wr=[rr,ar,sr,ir,lr,nr,ur,cr,hr,or,dr,fr,pr,vr],kr=wr,Sr=[...kr,mr,gr,yr];function Nr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Er(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _r(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Cr{constructor(e,t){this.comparator=e,this.root=t||jr.EMPTY}insert(e,t){return new Cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tr(this.root,e,this.comparator,!0)}}class Tr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jr{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:jr.RED,this.left=null!=r?r:jr.EMPTY,this.right=null!=a?a:jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new jr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return jr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Gt(27949);return e+(this.isRed()?0:1)}}jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1,jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt(57766)}get value(){throw Gt(16141)}get color(){throw Gt(16727)}get left(){throw Gt(29726)}get right(){throw Gt(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new jr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ir{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ar(this.data.getIterator())}getIteratorFrom(e){return new Ar(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ir))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ir(this.comparator);return t.data=e,t}}class Ar{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Dr([])}unionWith(e){let t=new Ir(bn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Mr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Mr("Invalid base64 string: "+e):e}}(e);return new Lr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const Pr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(e){if(Kt(!!e,39018),"string"==typeof e){let t=0;const n=Pr.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Rr(e.seconds),nanos:Rr(e.nanos)}}function Rr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zr(e){return"string"==typeof e?Lr.fromBase64String(e):Lr.fromUint8Array(e)}const Fr="server_timestamp",Vr="__type__",Ur="__previous_value__",Br="__local_write_time__";function qr(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Vr])||void 0===t?void 0:t.stringValue)===Fr}function Hr(e){const t=e.mapValue.fields[Ur];return qr(t)?Hr(t):t}function Gr(e){const t=Or(e.mapValue.fields[Br].timestampValue);return new Dn(t.seconds,t.nanos)}class Qr{constructor(e,t,n,r,a,s,i,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=i,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Kr="(default)";class Wr{constructor(e,t){this.projectId=e,this.database=t||Kr}static empty(){return new Wr("","")}get isDefaultDatabase(){return this.database===Kr}isEqual(e){return e instanceof Wr&&e.projectId===this.projectId&&e.database===this.database}}const $r="__type__",Yr="__max__",Xr={mapValue:{fields:{__type__:{stringValue:Yr}}}},Jr="__vector__",Zr="value";function ea(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qr(e)?4:ya(e)?9007199254740991:ma(e)?10:11:Gt(28295,{value:e})}function ta(e,t){if(e===t)return!0;const n=ea(e);if(n!==ea(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gr(e).isEqual(Gr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Or(e.timestampValue),r=Or(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return zr(e.bytesValue).isEqual(zr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rr(e.geoPointValue.latitude)===Rr(t.geoPointValue.latitude)&&Rr(e.geoPointValue.longitude)===Rr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rr(e.integerValue)===Rr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Rr(e.doubleValue),r=Rr(t.doubleValue);return n===r?$n(n)===$n(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pn(e.arrayValue.values||[],t.arrayValue.values||[],ta);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Nr(n)!==Nr(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!ta(n[a],r[a])))return!1;return!0}(e,t);default:return Gt(52216,{left:e})}}function na(e,t){return void 0!==(e.values||[]).find(e=>ta(e,t))}function ra(e,t){if(e===t)return 0;const n=ea(e),r=ea(t);if(n!==r)return cn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return cn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Rr(e.integerValue||e.doubleValue),r=Rr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return aa(e.timestampValue,t.timestampValue);case 4:return aa(Gr(e),Gr(t));case 5:return un(e.stringValue,t.stringValue);case 6:return function(e,t){const n=zr(e),r=zr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=cn(n[a],r[a]);if(0!==e)return e}return cn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=cn(Rr(e.latitude),Rr(t.latitude));return 0!==n?n:cn(Rr(e.longitude),Rr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return sa(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,s;const i=e.fields||{},o=t.fields||{},l=null===(n=i[Zr])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Zr])||void 0===r?void 0:r.arrayValue,u=cn((null===l||void 0===l||null===(a=l.values)||void 0===a?void 0:a.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:sa(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Xr.mapValue&&t===Xr.mapValue)return 0;if(e===Xr.mapValue)return 1;if(t===Xr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},s=Object.keys(a);r.sort(),s.sort();for(let i=0;i<r.length&&i<s.length;++i){const e=un(r[i],s[i]);if(0!==e)return e;const t=ra(n[r[i]],a[s[i]]);if(0!==t)return t}return cn(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Gt(23264,{he:n})}}function aa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return cn(e,t);const n=Or(e),r=Or(t),a=cn(n.seconds,r.seconds);return 0!==a?a:cn(n.nanos,r.nanos)}function sa(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=ra(n[a],r[a]);if(e)return e}return cn(n.length,r.length)}function ia(e){return oa(e)}function oa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Or(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return zr(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return xn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=oa(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(oa(e.fields[a]));return n+"}"}(e.mapValue):Gt(61005,{value:e})}function la(e){switch(ea(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hr(e);return t?16+la(t):16;case 5:return 2*e.stringValue.length;case 6:return zr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+la(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Er(e.fields,(e,n)=>{t+=e.length+la(n)}),t}(e.mapValue);default:throw Gt(13486,{value:e})}}function ca(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ua(e){return!!e&&"integerValue"in e}function da(e){return!!e&&"arrayValue"in e}function ha(e){return!!e&&"nullValue"in e}function fa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pa(e){return!!e&&"mapValue"in e}function ma(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[$r])||void 0===t?void 0:t.stringValue)===Jr}function ga(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Er(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ga(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ga(e.arrayValue.values[n]);return t}return c({},e)}function ya(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Yr}class va{constructor(e){this.value=e}static empty(){return new va({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(t)}setAll(e){let t=bn.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=ga(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());pa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];pa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Er(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new va(ga(this.value))}}function ba(e){const t=[];return Er(e.fields,(e,n)=>{const r=new bn([e]);if(pa(n)){const e=ba(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Dr(t)}class xa{constructor(e,t,n,r,a,s,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=s,this.documentState=i}static newInvalidDocument(e){return new xa(e,0,Mn.min(),Mn.min(),Mn.min(),va.empty(),0)}static newFoundDocument(e,t,n,r){return new xa(e,1,t,Mn.min(),n,r,0)}static newNoDocument(e,t){return new xa(e,2,t,Mn.min(),Mn.min(),va.empty(),0)}static newUnknownDocument(e,t){return new xa(e,3,t,Mn.min(),Mn.min(),va.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=va.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=va.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class wa{constructor(e,t){this.position=e,this.inclusive=t}}function ka(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const s=t[a],i=e.position[a];if(r=s.field.isKeyField()?xn.comparator(xn.fromName(i.referenceValue),n.key):ra(i,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Sa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ta(e.position[n],t.position[n]))return!1;return!0}class Na{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ea(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class _a{}class Ca extends _a{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Pa(e,t,n):"array-contains"===t?new Fa(e,n):"in"===t?new Va(e,n):"not-in"===t?new Ua(e,n):"array-contains-any"===t?new Ba(e,n):new Ca(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Oa(e,n):new Ra(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ra(t,this.value)):null!==t&&ea(this.value)===ea(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ta extends _a{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ta(e,t)}matches(e){return ja(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ja(e){return"and"===e.op}function Ia(e){return Aa(e)&&ja(e)}function Aa(e){for(const t of e.filters)if(t instanceof Ta)return!1;return!0}function Da(e){if(e instanceof Ca)return e.field.canonicalString()+e.op.toString()+ia(e.value);if(Ia(e))return e.filters.map(e=>Da(e)).join(",");{const t=e.filters.map(e=>Da(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ma(e,t){return e instanceof Ca?function(e,t){return t instanceof Ca&&e.op===t.op&&e.field.isEqual(t.field)&&ta(e.value,t.value)}(e,t):e instanceof Ta?function(e,t){return t instanceof Ta&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ma(n,t.filters[r]),!0)}(e,t):void Gt(19439)}function La(e){return e instanceof Ca?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ia(e.value))}(e):e instanceof Ta?function(e){return e.op.toString()+" {"+e.getFilters().map(La).join(" ,")+"}"}(e):"Filter"}class Pa extends Ca{constructor(e,t,n){super(e,t,n),this.key=xn.fromName(n.referenceValue)}matches(e){const t=xn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Oa extends Ca{constructor(e,t){super(e,"in",t),this.keys=za("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ra extends Ca{constructor(e,t){super(e,"not-in",t),this.keys=za("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function za(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>xn.fromName(e.referenceValue))}class Fa extends Ca{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return da(t)&&na(t.arrayValue,this.value)}}class Va extends Ca{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&na(this.value.arrayValue,t)}}class Ua extends Ca{constructor(e,t){super(e,"not-in",t)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!na(this.value.arrayValue,t)}}class Ba extends Ca{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!da(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>na(this.value.arrayValue,e))}}class qa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=s,this.endAt=i,this.Te=null}}function Ha(e){return new qa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ga(e){const t=Wt(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Da(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Wn(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ia(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ia(e)).join(",")),t.Te=e}return t.Te}function Qa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ea(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ma(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sa(e.startAt,t.startAt)&&Sa(e.endAt,t.endAt)}function Ka(e){return xn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Wa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=s,this.startAt=i,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $a(e,t,n,r,a,s,i,o){return new Wa(e,t,n,r,a,s,i,o)}function Ya(e){return new Wa(e)}function Xa(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ja(e){return null!==e.collectionGroup}function Za(e){const t=Wt(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ir(bn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Na(r,n))}),e.has(bn.keyField().canonicalString())||t.Ie.push(new Na(bn.keyField(),n))}return t.Ie}function es(e){const t=Wt(e);return t.Ee||(t.Ee=ts(t,Za(e))),t.Ee}function ts(e,t){if("F"===e.limitType)return Ha(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Na(e.field,t)});const n=e.endAt?new wa(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new wa(e.startAt.position,e.startAt.inclusive):null;return Ha(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ns(e,t){const n=e.filters.concat([t]);return new Wa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rs(e,t,n){return new Wa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function as(e,t){return Qa(es(e),es(t))&&e.limitType===t.limitType}function ss(e){return"".concat(Ga(es(e)),"|lt:").concat(e.limitType)}function is(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>La(e)).join(", "),"]")),Wn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ia(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ia(e)).join(",")),"Target(".concat(t,")")}(es(e)),"; limitType=").concat(e.limitType,")")}function os(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Za(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ka(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Za(e),t))&&!(e.endAt&&!function(e,t,n){const r=ka(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Za(e),t))}(e,t)}function ls(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function cs(e){return(t,n)=>{let r=!1;for(const a of Za(e)){const e=us(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function us(e,t,n){const r=e.field.isKeyField()?xn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?ra(r,a):Gt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gt(19790,{direction:e.dir})}}class ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return _r(this.inner)}size(){return this.innerSize}}const hs=new Cr(xn.comparator);function fs(){return hs}const ps=new Cr(xn.comparator);function ms(){let e=ps;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function gs(e){let t=ps;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ys(){return bs()}function vs(){return bs()}function bs(){return new ds(e=>e.toString(),(e,t)=>e.isEqual(t))}const xs=new Cr(xn.comparator),ws=new Ir(xn.comparator);function ks(){let e=ws;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const Ss=new Ir(cn);function Ns(){return Ss}function Es(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$n(t)?"-0":t}}function _s(e){return{integerValue:""+e}}function Cs(e,t){return Yn(t)?_s(t):Es(e,t)}class Ts{constructor(){this._=void 0}}function js(e,t,n){return e instanceof Ds?function(e,t){const n={fields:{[Vr]:{stringValue:Fr},[Br]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&qr(t)&&(t=Hr(t)),t&&(n.fields[Ur]=t),{mapValue:n}}(n,t):e instanceof Ms?Ls(e,t):e instanceof Ps?Os(e,t):function(e,t){const n=As(e,t),r=zs(n)+zs(e.Ae);return ua(n)&&ua(e.Ae)?_s(r):Es(e.serializer,r)}(e,t)}function Is(e,t,n){return e instanceof Ms?Ls(e,t):e instanceof Ps?Os(e,t):n}function As(e,t){return e instanceof Rs?function(e){return ua(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ds extends Ts{}class Ms extends Ts{constructor(e){super(),this.elements=e}}function Ls(e,t){const n=Fs(t);for(const r of e.elements)n.some(e=>ta(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ps extends Ts{constructor(e){super(),this.elements=e}}function Os(e,t){let n=Fs(t);for(const r of e.elements)n=n.filter(e=>!ta(e,r));return{arrayValue:{values:n}}}class Rs extends Ts{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zs(e){return Rr(e.integerValue||e.doubleValue)}function Fs(e){return da(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Vs{constructor(e,t){this.version=e,this.transformResults=t}}class Us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Us}static exists(e){return new Us(void 0,e)}static updateTime(e){return new Us(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class qs{}function Hs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ei(e.key,Us.none()):new $s(e.key,e.data,Us.none());{const n=e.data,r=va.empty();let a=new Ir(bn.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new Ys(e.key,r,new Dr(a.toArray()),Us.none())}}function Gs(e,t,n){e instanceof $s?function(e,t,n){const r=e.value.clone(),a=Js(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ys?function(e,t,n){if(!Bs(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Js(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Xs(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qs(e,t,n,r){return e instanceof $s?function(e,t,n,r){if(!Bs(e.precondition,t))return n;const a=e.value.clone(),s=Zs(e.fieldTransforms,r,t);return a.setAll(s),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ys?function(e,t,n,r){if(!Bs(e.precondition,t))return n;const a=Zs(e.fieldTransforms,r,t),s=t.data;return s.setAll(Xs(e)),s.setAll(a),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Bs(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ks(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=As(r.transform,e||null);null!=a&&(null===n&&(n=va.empty()),n.set(r.field,a))}return n||null}function Ws(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pn(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ms&&t instanceof Ms||e instanceof Ps&&t instanceof Ps?pn(e.elements,t.elements,ta):e instanceof Rs&&t instanceof Rs?ta(e.Ae,t.Ae):e instanceof Ds&&t instanceof Ds}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $s extends qs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ys extends qs{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Xs(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Js(e,t,n){const r=new Map;Kt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const s=e[a],i=s.transform,o=t.data.field(s.field);r.set(s.field,Is(i,o,n[a]))}return r}function Zs(e,t,n){const r=new Map;for(const a of e){const e=a.transform,s=n.data.field(a.field);r.set(a.field,js(e,s,t))}return r}class ei extends qs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ti extends qs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ni{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Gs(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Qs(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Qs(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=vs();return this.mutations.forEach(r=>{const a=e.get(r.key),s=a.overlayedDocument;let i=this.applyToLocalView(s,a.mutatedFields);i=t.has(r.key)?null:i;const o=Hs(s,i);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Mn.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ks())}isEqual(e){return this.batchId===e.batchId&&pn(this.mutations,e.mutations,(e,t)=>Ws(e,t))&&pn(this.baseMutations,e.baseMutations,(e,t)=>Ws(e,t))}}class ri{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Kt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=xs;const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,n[s].version);return new ri(e,t,n,r)}}class ai{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class si{constructor(e,t){this.count=e,this.unchangedNames=t}}var ii,oi;function li(e){switch(e){case $t.OK:return Gt(64938);case $t.CANCELLED:case $t.UNKNOWN:case $t.DEADLINE_EXCEEDED:case $t.RESOURCE_EXHAUSTED:case $t.INTERNAL:case $t.UNAVAILABLE:case $t.UNAUTHENTICATED:return!1;case $t.INVALID_ARGUMENT:case $t.NOT_FOUND:case $t.ALREADY_EXISTS:case $t.PERMISSION_DENIED:case $t.FAILED_PRECONDITION:case $t.ABORTED:case $t.OUT_OF_RANGE:case $t.UNIMPLEMENTED:case $t.DATA_LOSS:return!0;default:return Gt(15467,{code:e})}}function ci(e){if(void 0===e)return Bt("GRPC error has no .code"),$t.UNKNOWN;switch(e){case ii.OK:return $t.OK;case ii.CANCELLED:return $t.CANCELLED;case ii.UNKNOWN:return $t.UNKNOWN;case ii.DEADLINE_EXCEEDED:return $t.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return $t.RESOURCE_EXHAUSTED;case ii.INTERNAL:return $t.INTERNAL;case ii.UNAVAILABLE:return $t.UNAVAILABLE;case ii.UNAUTHENTICATED:return $t.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return $t.INVALID_ARGUMENT;case ii.NOT_FOUND:return $t.NOT_FOUND;case ii.ALREADY_EXISTS:return $t.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return $t.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return $t.FAILED_PRECONDITION;case ii.ABORTED:return $t.ABORTED;case ii.OUT_OF_RANGE:return $t.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return $t.UNIMPLEMENTED;case ii.DATA_LOSS:return $t.DATA_LOSS;default:return Gt(39323,{code:e})}}(oi=ii||(ii={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";let ui=null;function di(){return new TextEncoder}const hi=new wt([4294967295,4294967295],0);function fi(e){const t=di().encode(e),n=new kt;return n.update(t),new Uint8Array(n.digest())}function pi(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new wt([n,r],0),new wt([a,s],0)]}class mi{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gi("Invalid padding: ".concat(t));if(n<0)throw new gi("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new gi("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new gi("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=wt.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(wt.fromNumber(n)));return 1===r.compare(hi)&&(r=new wt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=fi(e),[n,r]=pi(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(n,r,a);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new mi(a,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=fi(e),[n,r]=pi(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(n,r,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yi{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,vi.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new yi(Mn.min(),r,new Cr(cn),fs(),ks())}}class vi{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new vi(n,t,ks(),ks(),ks())}}class bi{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class xi{constructor(e,t){this.targetId=e,this.Ce=t}}class wi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ki{constructor(){this.ve=0,this.Fe=Ei(),this.Me=Lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ks(),t=ks(),n=ks();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Gt(38017,{changeType:a})}}),new vi(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Ei()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Si{constructor(e){this.Ge=e,this.ze=new Map,this.je=fs(),this.Je=Ni(),this.He=Ni(),this.Ye=new Cr(cn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Gt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Ka(s))if(0===n){const e=new xn(s.path);this.et(t,e,xa.newNoDocument(e,Mn.min()))}else Kt(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var a;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(a=ui)||void 0===a||a.lt(function(e,t,n,r,a){var s,i,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===a,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(i=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==i?i:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let s,i;try{s=zr(n).toUint8Array()}catch(e){if(e instanceof Mr)return qt("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new mi(s,r,a)}catch(e){return qt(e instanceof gi?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.ge?null:i}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.Ge.ht(),s="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const a=this.ot(r);if(a){if(n.current&&Ka(a.target)){const t=new xn(a.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,xa.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=ks();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new yi(e,t,this.Ye,this.je,n);return this.je=fs(),this.Je=Ni(),this.He=Ni(),this.Ye=new Cr(cn),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ki,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ir(cn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ir(cn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Ut("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ki),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ni(){return new Cr(xn.comparator)}function Ei(){return new Cr(xn.comparator)}const _i={asc:"ASCENDING",desc:"DESCENDING"},Ci={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ti={and:"AND",or:"OR"};class ji{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ii(e,t){return e.useProto3Json||Wn(t)?t:{value:t}}function Ai(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Di(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mi(e,t){return Ai(e,t.toTimestamp())}function Li(e){return Kt(!!e,49232),Mn.fromTimestamp(function(e){const t=Or(e);return new Dn(t.seconds,t.nanos)}(e))}function Pi(e,t){return Oi(e,t).canonicalString()}function Oi(e,t){const n=function(e){return new yn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ri(e){const t=yn.fromString(e);return Kt(ro(t),10190,{key:t.toString()}),t}function zi(e,t){return Pi(e.databaseId,t.path)}function Fi(e,t){const n=Ri(t);if(n.get(1)!==e.databaseId.projectId)throw new Yt($t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yt($t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xn(qi(n))}function Vi(e,t){return Pi(e.databaseId,t)}function Ui(e){const t=Ri(e);return 4===t.length?yn.emptyPath():qi(t)}function Bi(e){return new yn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qi(e){return Kt(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Hi(e,t,n){return{name:zi(e,t),fields:n.value.mapValue.fields}}function Gi(e,t){let n;if(t instanceof $s)n={update:Hi(e,t.key,t.value)};else if(t instanceof ei)n={delete:zi(e,t.key)};else if(t instanceof Ys)n={update:Hi(e,t.key,t.data),updateMask:no(t.fieldMask)};else{if(!(t instanceof ti))return Gt(16599,{Vt:t.type});n={verify:zi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ds)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ms)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ps)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rs)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Gt(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Gt(27497)}(e,t.precondition)),n}function Qi(e,t){return{documents:[Vi(e,t.path)]}}function Ki(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vi(e,a);const s=function(e){if(0!==e.length)return to(Ta.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Zi(e.field),direction:Yi(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Ii(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:a}}function Wi(e){let t=Ui(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Kt(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=$i(e);return t instanceof Ta&&Ia(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map(e=>function(e){return new Na(eo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Wn(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new wa(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new wa(n,t)}(n.endAt)),$a(t,a,i,s,o,"F",l,c)}function $i(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=eo(e.unaryFilter.field);return Ca.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=eo(e.unaryFilter.field);return Ca.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=eo(e.unaryFilter.field);return Ca.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=eo(e.unaryFilter.field);return Ca.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gt(61313);default:return Gt(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ca.create(eo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gt(58110);default:return Gt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ta.create(e.compositeFilter.filters.map(e=>$i(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Gt(1026)}}(e.compositeFilter.op))}(e):Gt(30097,{filter:e})}function Yi(e){return _i[e]}function Xi(e){return Ci[e]}function Ji(e){return Ti[e]}function Zi(e){return{fieldPath:e.canonicalString()}}function eo(e){return bn.fromServerFormat(e.fieldPath)}function to(e){return e instanceof Ca?function(e){if("=="===e.op){if(fa(e.value))return{unaryFilter:{field:Zi(e.field),op:"IS_NAN"}};if(ha(e.value))return{unaryFilter:{field:Zi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fa(e.value))return{unaryFilter:{field:Zi(e.field),op:"IS_NOT_NAN"}};if(ha(e.value))return{unaryFilter:{field:Zi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(e.field),op:Xi(e.op),value:e.value}}}(e):e instanceof Ta?function(e){const t=e.getFilters().map(e=>to(e));return 1===t.length?t[0]:{compositeFilter:{op:Ji(e.op),filters:t}}}(e):Gt(54877,{filter:e})}function no(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ro(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ao{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mn.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mn.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lr.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=i,this.expectedCount=o}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class so{constructor(e){this.yt=e}}function io(e){const t=Wi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rs(t,t.limit,"L"):t}class oo{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Rr(e.integerValue));else if("doubleValue"in e){const n=Rr(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),$n(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Or(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(zr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?ya(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ma(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Gt(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const a=Zr,s=(null===(n=r[a].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Rr(s)),this.Ot(a,t),this.Ct(r[a],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),xn.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}oo.Kt=new oo;class lo{constructor(){this.Cn=new co}addToCollectionParentIndex(e,t){return this.Cn.add(t),qn.resolve()}getCollectionParents(e,t){return qn.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return qn.resolve()}deleteFieldIndex(e,t){return qn.resolve()}deleteAllFieldIndexes(e){return qn.resolve()}createTargetIndexes(e,t){return qn.resolve()}getDocumentsMatchingTarget(e,t){return qn.resolve(null)}getIndexType(e,t){return qn.resolve(0)}getFieldIndexes(e,t){return qn.resolve([])}getNextCollectionGroupToUpdate(e){return qn.resolve(null)}getMinOffset(e,t){return qn.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,t){return qn.resolve(zn.min())}updateCollectionGroup(e,t,n){return qn.resolve()}updateIndexEntries(e,t){return qn.resolve()}}class co{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ir(yn.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ir(yn.comparator)).toArray()}}new Uint8Array(0);const uo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ho=41943040;class fo{static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(ho,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const mo="LruGarbageCollector",go=1048576;function yo(e,t){let[n,r]=e,[a,s]=t;const i=cn(n,a);return 0===i?cn(r,s):i}class vo{constructor(e){this.Ir=e,this.buffer=new Ir(yo),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();yo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bo{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Ut(mo,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Gn(e)?Ut(mo,"Ignoring IndexedDB error during garbage collection: ",e):await Bn(e)}await this.Vr(3e5)})}}class xo{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return qn.resolve(Qn.ce);const n=new vo(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector","Garbage collection skipped; disabled"),qn.resolve(uo)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),uo):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,a,s,i,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Ut("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,i=Date.now(),this.removeTargets(e,n,t))).next(t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Vt()<=te.DEBUG&&Ut("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(i-s)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(o-i)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),qn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})))}}function wo(e,t){return new xo(e,t)}class ko{constructor(){this.changes=new ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class So{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class No{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Qs(n.mutation,e,Dr.empty(),Dn.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ks()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ks();const r=ys();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ms();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ys();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ks()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=fs();const s=bs(),i=bs();return t.forEach((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof Ys)?a=a.insert(t.key,t):void 0!==i?(s.set(t.key,i.mutation.getFieldMask()),Qs(i.mutation,t,i.mutation.getFieldMask(),Dn.now())):s.set(t.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return i.set(e,new So(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),i))}recalculateAndSaveOverlays(e,t){const n=bs();let r=new Cr((e,t)=>e-t),a=ks();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let i=n.get(e)||Dr.empty();i=a.applyToLocalView(s,i),n.set(e,i);const o=(r.get(a.batchId)||ks()).add(e);r=r.insert(a.batchId,o)})}).next(()=>{const s=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),o=r.key,l=r.value,c=vs();l.forEach(e=>{if(!a.has(e)){const r=Hs(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return qn.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return xn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ja(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):qn.resolve(ys());let i=Ln,o=a;return s.next(t=>qn.forEach(t,(t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),a.get(t)?qn.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,o,t,ks())).next(e=>({batchId:i,changes:gs(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xn(t)).next(e=>{let t=ms();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let s=ms();return this.indexManager.getCollectionParents(e,a).next(i=>qn.forEach(i,i=>{const o=function(e,t){return new Wa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,xa.newInvalidDocument(r)))});let n=ms();return e.forEach((e,r)=>{const s=a.get(e);void 0!==s&&Qs(s.mutation,r,Dr.empty(),Dn.now()),os(t,r)&&(n=n.insert(e,r))}),n})}}class Eo{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return qn.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Li(e.createTime)}}(t)),qn.resolve()}getNamedQuery(e,t){return qn.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:io(e.bundledQuery),readTime:Li(e.readTime)}}(t)),qn.resolve()}}class _o{constructor(){this.overlays=new Cr(xn.comparator),this.qr=new Map}getOverlay(e,t){return qn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ys();return qn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),qn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),qn.resolve()}getOverlaysForCollection(e,t,n){const r=ys(),a=t.length+1,s=new xn(t.child("")),i=this.overlays.getIteratorFrom(s);for(;i.hasNext();){const e=i.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new Cr((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=ys(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=ys(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>i.set(e,t)),!(i.size()>=r)););return qn.resolve(i)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ai(t,n));let a=this.qr.get(t);void 0===a&&(a=ks(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}class Co{constructor(){this.sessionToken=Lr.EMPTY_BYTE_STRING}getSessionToken(e){return qn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,qn.resolve()}}class To{constructor(){this.Qr=new Ir(jo.$r),this.Ur=new Ir(jo.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new jo(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new jo(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new xn(new yn([])),n=new jo(t,e),r=new jo(t,e+1),a=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),a.push(e.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xn(new yn([])),n=new jo(t,e),r=new jo(t,e+1);let a=ks();return this.Ur.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new jo(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jo{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xn.comparator(e.key,t.key)||cn(e.Yr,t.Yr)}static Kr(e,t){return cn(e.Yr,t.Yr)||xn.comparator(e.key,t.key)}}class Io{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ir(jo.$r)}checkEmpty(e){return qn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ni(a,t,n,r);this.mutationQueue.push(s);for(const i of r)this.Zr=this.Zr.add(new jo(i.key,a)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return qn.resolve(s)}lookupMutationBatch(e,t){return qn.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),a=r<0?0:r;return qn.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return qn.resolve(0===this.mutationQueue.length?Kn:this.tr-1)}getAllMutationBatches(e){return qn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jo(t,0),r=new jo(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);a.push(t)}),qn.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ir(cn);return t.forEach(e=>{const t=new jo(e,0),r=new jo(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),qn.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;xn.isDocumentKey(a)||(a=a.child(""));const s=new jo(new xn(a),0);let i=new Ir(cn);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.Yr)),!0)},s),qn.resolve(this.ti(i))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Kt(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return qn.forEach(t.mutations,r=>{const a=new jo(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new jo(t,0),r=this.Zr.firstAfterOrEqual(n);return qn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qn.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ao{constructor(e){this.ri=e,this.docs=new Cr(xn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qn.resolve(n?n.document.mutableCopy():xa.newInvalidDocument(t))}getEntries(e,t){let n=fs();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():xa.newInvalidDocument(e))}),qn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=fs();const s=t.path,i=new xn(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Fn(Rn(i),n)<=0||(r.has(i.key)||os(t,i))&&(a=a.insert(i.key,i.mutableCopy()))}return qn.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Gt(9500)}ii(e,t){return qn.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Do(this)}getSize(e){return qn.resolve(this.size)}}class Do extends ko{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),qn.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Mo{constructor(e){this.persistence=e,this.si=new ds(e=>Ga(e),Qa),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.oi=0,this._i=new To,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),qn.resolve()}getLastRemoteSnapshotVersion(e){return qn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qn.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),qn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),qn.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new po(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,qn.resolve()}updateTargetData(e,t){return this.Pr(t),qn.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,qn.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.si.forEach((s,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)}),qn.waitFor(a).next(()=>r)}getTargetCount(e){return qn.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return qn.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),qn.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),qn.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),qn.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return qn.resolve(n)}containsKey(e,t){return qn.resolve(this._i.containsKey(t))}}class Lo{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qn(0),this.li=!1,this.li=!0,this.hi=new Co,this.referenceDelegate=e(this),this.Pi=new Mo(this),this.indexManager=new lo,this.remoteDocumentCache=function(e){return new Ao(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new so(t),this.Ii=new Eo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _o,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Io(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ut("MemoryPersistence","Starting transaction:",e);const r=new Po(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return qn.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Po extends Un{constructor(e){super(),this.currentSequenceNumber=e}}class Oo{constructor(e){this.persistence=e,this.Ri=new To,this.Vi=null}static mi(e){return new Oo(e)}get fi(){if(this.Vi)return this.Vi;throw Gt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),qn.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),qn.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),qn.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qn.forEach(this.fi,n=>{const r=xn.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Mn.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return qn.or([()=>qn.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ro{constructor(e,t){this.persistence=e,this.pi=new ds(e=>Jn(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=wo(this,t)}static mi(e,t){return new Ro(e,t)}Ei(){}di(e){return qn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return qn.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?qn.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,a.removeEntry(r,Mn.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),qn.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),qn.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),qn.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),qn.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=la(e.data.value)),t}br(e,t,n){return qn.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return qn.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zo{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ks(),r=ks();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new zo(e,t.fromCache,n,r)}}class Fo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vo{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=B()?8:Hn(V())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ys(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.ws(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new Fo;return this.Ss(e,t,n).next(r=>{if(a.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>a.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Vt()<=te.DEBUG&&Ut("QueryEngine","SDK will not create cache indexes for query:",is(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),qn.resolve()):(Vt()<=te.DEBUG&&Ut("QueryEngine","Query:",is(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Vt()<=te.DEBUG&&Ut("QueryEngine","The SDK decides to create cache indexes for query:",is(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(t))):qn.resolve())}ys(e,t){if(Xa(t))return qn.resolve(null);let n=es(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=rs(t,null,"F"),n=es(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=ks(...r);return this.ps.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,a,n.readTime)?this.ys(e,rs(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Xa(t)||r.isEqual(Mn.min())?qn.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(t,a);return this.Cs(t,s,n,r)?qn.resolve(null):(Vt()<=te.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),is(t)),this.vs(e,s,t,On(r,Ln)).next(e=>e))})}Ds(e,t){let n=new Ir(cs(e));return t.forEach((t,r)=>{os(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,n){return Vt()<=te.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",is(t)),this.ps.getDocumentsMatchingQuery(e,t,zn.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Uo="LocalStore";class Bo{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Cr(cn),this.xs=new ds(e=>Ga(e),Qa),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new No(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function qo(e,t,n,r){return new Bo(e,t,n,r)}async function Ho(e,t){const n=Wt(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],s=[];let i=ks();for(const e of r){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next(e=>({Ls:e,removedBatchIds:a,addedBatchIds:s}))})})}function Go(e){const t=Wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Qo(e,t,n){let r=ks(),a=ks();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=fs();return n.forEach((n,s)=>{const i=e.get(n);s.isFoundDocument()!==i.isFoundDocument()&&(a=a.add(n)),s.isNoDocument()&&s.version.isEqual(Mn.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!i.isValidDocument()||s.version.compareTo(i.version)>0||0===s.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ut(Uo,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",s.version)}),{ks:r,qs:a}})}function Ko(e,t){const n=Wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Kn),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Wo(e,t){const n=Wt(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(a=>a?(r=a,qn.resolve(r)):n.Pi.allocateTargetId(e).next(a=>(r=new ao(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function $o(e,t,n){const r=Wt(e),a=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!Gn(e))throw e;Ut(Uo,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function Yo(e,t,n){const r=Wt(e);let a=Mn.min(),s=ks();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Wt(e),a=r.xs.get(n);return void 0!==a?qn.resolve(r.Ms.get(a)):r.Pi.getTargetData(t,n)}(r,e,es(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?a:Mn.min(),n?s:ks())).next(e=>(Xo(r,ls(t),e),{documents:e,Qs:s})))}function Xo(e,t,n){let r=e.Os.get(t)||Mn.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Jo{constructor(){this.activeTargetIds=Ns()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zo{constructor(){this.Mo=new Jo,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Jo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class el{Oo(e){}shutdown(){}}const tl="ConnectivityMonitor";class nl{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ut(tl,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ut(tl,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rl=null;function al(){return null===rl?rl=268435456+Math.round(2147483648*Math.random()):rl++,"0x"+rl.toString(16)}const sl="RestConnection",il={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ol{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Kr?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,a){const s=al(),i=this.zo(e,t.toUriEncodedString());Ut(sl,"Sending RPC '".concat(e,"' ").concat(s,":"),i,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,a);const{host:l}=new URL(i),c=O(l);return this.Jo(e,i,o,n,c).then(t=>(Ut(sl,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw qt(sl,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",i,"request:",n),t})}Ho(e,t,n,r,a,s){return this.Go(e,t,n,r,a)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=il[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class ll{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cl="WebChannelConnection";class ul extends ol{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const s=al();return new Promise((a,i)=>{const o=new Et;o.setWithCredentials(!0),o.listenOnce(Ct.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Tt.NO_ERROR:const n=o.getResponseJson();Ut(cl,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),a(n);break;case Tt.TIMEOUT:Ut(cl,"RPC '".concat(e,"' ").concat(s," timed out")),i(new Yt($t.DEADLINE_EXCEEDED,"Request time out"));break;case Tt.HTTP_ERROR:const r=o.getStatus();if(Ut(cl,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values($t).indexOf(t)>=0?t:$t.UNKNOWN}(n.status);i(new Yt(e,n.message))}else i(new Yt($t.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new Yt($t.UNAVAILABLE,"Connection failed."));break;default:Gt(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Ut(cl,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Ut(cl,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=al(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Dt(),i=At(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=a.join("");Ut(cl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new ll({Yo:t=>{h?Ut(cl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ut(cl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ut(cl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,_t.EventType.OPEN,()=>{h||(Ut(cl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,_t.EventType.CLOSE,()=>{h||(h=!0,Ut(cl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,_t.EventType.ERROR,t=>{h||(h=!0,qt(cl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Yt($t.UNAVAILABLE,"The operation could not be completed")))}),p(u,_t.EventType.MESSAGE,t=>{if(!h){var n;const a=t.data[0];Kt(!!a,16349);const s=a,i=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(i){Ut(cl,"RPC '".concat(e,"' stream ").concat(r," received error:"),i);const t=i.status;let n=function(e){const t=ii[e];if(void 0!==t)return ci(t)}(t),a=i.message;void 0===n&&(n=$t.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),h=!0,f.a_(new Yt(n,a)),u.close()}else Ut(cl,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.u_(a)}}),p(i,It.STAT_EVENT,t=>{t.stat===jt.PROXY?Ut(cl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===jt.NOPROXY&&Ut(cl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function dl(){return"undefined"!=typeof document?document:null}function hl(e){return new ji(e,!0)}class fl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Ut("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pl="PersistentStream";class ml{constructor(e,t,n,r,a,s,i,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=i,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fl(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===$t.RESOURCE_EXHAUSTED?(Bt(t.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===$t.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Yt($t.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ut(pl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Ut(pl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gl extends ml{constructor(e,t,n,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Gt(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Kt(void 0===t||"string"==typeof t,58123),Lr.fromBase64String(t||"")):(Kt(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Lr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(e){const t=void 0===e.code?$t.UNKNOWN:ci(e.code);return new Yt(t,e.message||"")}(i);n=new wi(r,a,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fi(e,r.document.name),s=Li(r.document.updateTime),i=r.document.createTime?Li(r.document.createTime):Mn.min(),o=new va({mapValue:{fields:r.document.fields}}),l=xa.newFoundDocument(a,s,i,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new bi(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Fi(e,r.document),s=r.readTime?Li(r.readTime):Mn.min(),i=xa.newNoDocument(a,s),o=r.removedTargetIds||[];n=new bi([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Fi(e,r.document),s=r.removedTargetIds||[];n=new bi([],s,a,null)}else{if(!("filter"in t))return Gt(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,s=new si(r,a),i=e.targetId;n=new xi(i,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mn.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Mn.min():t.readTime?Li(t.readTime):Mn.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Bi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ka(r)?{documents:Qi(e,r)}:{query:Ki(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Di(e,t.resumeToken);const r=Ii(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Mn.min())>0){n.readTime=Ai(e,t.snapshotVersion.toTimestamp());const r=Ii(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Bi(this.serializer),t.removeTarget=e,this.q_(t)}}class yl extends ml{constructor(e,t,n,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Kt(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Li(e.updateTime):Li(t);return n.isEqual(Mn.min())&&(n=Li(t)),new Vs(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Li(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Bi(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Gi(this.serializer,e))};this.q_(t)}}class vl{}class bl extends vl{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Yt($t.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,i]=a;return this.connection.Go(e,Oi(t,n),r,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yt($t.UNKNOWN,e.toString())})}Ho(e,t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,o]=s;return this.connection.Ho(e,Oi(t,n),r,i,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yt($t.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Bt(t),this.aa=!1):Ut("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const wl="RemoteStore";class kl{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Al(this)&&(Ut(wl,"Restarting streams for network reachability change."),await async function(e){const t=Wt(e);t.Ea.add(4),await Nl(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Sl(t)}(this))})}),this.Ra=new xl(n,r)}}async function Sl(e){if(Al(e))for(const t of e.da)await t(!0)}async function Nl(e){for(const t of e.da)await t(!1)}function El(e,t){const n=Wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Il(n)?jl(n):Yl(n).O_()&&Cl(n,t))}function _l(e,t){const n=Wt(e),r=Yl(n);n.Ia.delete(t),r.O_()&&Tl(n,t),0===n.Ia.size&&(r.O_()?r.L_():Al(n)&&n.Ra.set("Unknown"))}function Cl(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yl(e).Y_(t)}function Tl(e,t){e.Va.Ue(t),Yl(e).Z_(t)}function jl(e){e.Va=new Si({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Yl(e).start(),e.Ra.ua()}function Il(e){return Al(e)&&!Yl(e).x_()&&e.Ia.size>0}function Al(e){return 0===Wt(e).Ea.size}function Dl(e){e.Va=void 0}async function Ml(e){e.Ra.set("Online")}async function Ll(e){e.Ia.forEach((t,n)=>{Cl(e,t)})}async function Pl(e,t){Dl(e),Il(e)?(e.Ra.ha(t),jl(e)):e.Ra.set("Unknown")}async function Ol(e,t,n){if(e.Ra.set("Online"),t instanceof wi&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Ut(wl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Rl(e,n)}else if(t instanceof bi?e.Va.Ze(t):t instanceof xi?e.Va.st(t):e.Va.tt(t),!n.isEqual(Mn.min()))try{const t=await Go(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ia.get(r);a&&e.Ia.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Lr.EMPTY_BYTE_STRING,r.snapshotVersion)),Tl(e,t);const a=new ao(r.target,t,n,r.sequenceNumber);Cl(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ut(wl,"Failed to raise snapshot:",t),await Rl(e,t)}}async function Rl(e,t,n){if(!Gn(t))throw t;e.Ea.add(1),await Nl(e),e.Ra.set("Offline"),n||(n=()=>Go(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ut(wl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Sl(e)})}function zl(e,t){return t().catch(n=>Rl(e,n,t))}async function Fl(e){const t=Wt(e),n=Xl(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Kn;for(;Vl(t);)try{const e=await Ko(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Ul(t,e)}catch(e){await Rl(t,e)}Bl(t)&&ql(t)}function Vl(e){return Al(e)&&e.Ta.length<10}function Ul(e,t){e.Ta.push(t);const n=Xl(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Bl(e){return Al(e)&&!Xl(e).x_()&&e.Ta.length>0}function ql(e){Xl(e).start()}async function Hl(e){Xl(e).ra()}async function Gl(e){const t=Xl(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ql(e,t,n){const r=e.Ta.shift(),a=ri.from(r,t,n);await zl(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Fl(e)}async function Kl(e,t){t&&Xl(e).X_&&await async function(e,t){if(function(e){return li(e)&&e!==$t.ABORTED}(t.code)){const n=e.Ta.shift();Xl(e).B_(),await zl(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Fl(e)}}(e,t),Bl(e)&&ql(e)}async function Wl(e,t){const n=Wt(e);n.asyncQueue.verifyOperationInProgress(),Ut(wl,"RemoteStore received new credentials");const r=Al(n);n.Ea.add(3),await Nl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Sl(n)}async function $l(e,t){const n=Wt(e);t?(n.Ea.delete(2),await Sl(n)):t||(n.Ea.add(2),await Nl(n),n.Ra.set("Unknown"))}function Yl(e){return e.ma||(e.ma=function(e,t,n){const r=Wt(e);return r.sa(),new gl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Ml.bind(null,e),t_:Ll.bind(null,e),r_:Pl.bind(null,e),H_:Ol.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Il(e)?jl(e):e.Ra.set("Unknown")):(await e.ma.stop(),Dl(e))})),e.ma}function Xl(e){return e.fa||(e.fa=function(e,t,n){const r=Wt(e);return r.sa(),new yl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hl.bind(null,e),r_:Kl.bind(null,e),ta:Gl.bind(null,e),na:Ql.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Fl(e)):(await e.fa.stop(),e.Ta.length>0&&(Ut(wl,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Jl{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const s=Date.now()+n,i=new Jl(e,t,s,r,a);return i.start(n),i}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yt($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zl(e,t){if(Bt("AsyncQueue","".concat(t,": ").concat(e)),Gn(e))return new Yt($t.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ec{static emptySet(e){return new ec(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||xn.comparator(t.key,n.key):(e,t)=>xn.comparator(e.key,t.key),this.keyedMap=ms(),this.sortedSet=new Cr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ec))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ec;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tc{constructor(){this.ga=new Cr(xn.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Gt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class nc{constructor(e,t,n,r,a,s,i,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=i,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new nc(e,t,ec.emptySet(t),s,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&as(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rc{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ac{constructor(){this.queries=sc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Wt(e),r=n.queries;n.queries=sc(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Yt($t.ABORTED,"Firestore shutting down"))}}function sc(){return new ds(e=>ss(e),as)}async function ic(e,t){const n=Wt(e);let r=3;const a=t.query;let s=n.queries.get(a);s?!s.ba()&&t.Da()&&(r=2):(s=new rc,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=Zl(e,"Initialization of query '".concat(is(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&uc(n)}async function oc(e,t){const n=Wt(e),r=t.query;let a=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?a=t.Da()?0:1:!s.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lc(e,t){const n=Wt(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(a)&&(r=!0);t.wa=a}}r&&uc(n)}function cc(e,t,n){const r=Wt(e),a=r.queries.get(t);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(t)}function uc(e){e.Ca.forEach(e=>{e.next()})}var dc,hc;(hc=dc||(dc={})).Ma="default",hc.Cache="cache";class fc{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dc.Cache}}class pc{constructor(e){this.key=e}}class mc{constructor(e){this.key=e}}class gc{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ks(),this.mutatedKeys=ks(),this.eu=cs(e),this.tu=new ec(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new tc,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,s=r,i=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=os(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(i=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(i=!0)),f&&(u?(s=s.add(u),a=h?a.add(e):a.delete(e)):(s=s.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:i,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const i=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new nc(this.query,e.tu,a,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:i}:{au:i}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tc,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ks(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new mc(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new pc(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ks();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const yc="SyncEngine";class vc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bc{constructor(e){this.key=e,this.hu=!1}}class xc{constructor(e,t,n,r,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ds(e=>ss(e),as),this.Iu=new Map,this.Eu=new Set,this.du=new Cr(xn.comparator),this.Au=new Map,this.Ru=new To,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function wc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Bc(e);let a;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await Sc(r,t,n,!0),a}async function kc(e,t){const n=Bc(e);await Sc(n,t,!0,!1)}async function Sc(e,t,n,r){const a=await Wo(e.localStore,es(t)),s=a.targetId,i=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Nc(e,t,s,"current"===i,a.resumeToken)),e.isPrimaryClient&&n&&El(e.remoteStore,a),o}async function Nc(e,t,n,r,a){e.pu=(t,n,r)=>async function(e,t,n,r){let a=t.view.ru(n);a.Cs&&(a=await Yo(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,a)}));const s=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,s,i);return Oc(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await Yo(e.localStore,t,!0),i=new gc(t,s.Qs),o=i.ru(s.documents),l=vi.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=i.applyChanges(o,e.isPrimaryClient,l);Oc(e,n,c.au);const u=new vc(t,n,i);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Ec(e,t,n){const r=Wt(e),a=r.Tu.get(t),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter(e=>!as(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await $o(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&_l(r.remoteStore,a.targetId),Lc(r,a.targetId)}).catch(Bn)):(Lc(r,a.targetId),await $o(r.localStore,a.targetId,!0))}async function _c(e,t){const n=Wt(e),r=n.Tu.get(t),a=n.Iu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_l(n.remoteStore,r.targetId))}async function Cc(e,t){const n=Wt(e);try{const e=await function(e,t){const n=Wt(e),r=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const i=[];t.targetChanges.forEach((s,o)=>{const l=a.get(o);if(!l)return;i.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Lr.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),a=a.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&i.push(n.Pi.updateTargetData(e,c))});let o=fs(),l=ks();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),i.push(Qo(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(Mn.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));i.push(t)}return qn.waitFor(i).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Kt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Kt(r.hu,14607):e.removedDocuments.size>0&&(Kt(r.hu,42227),r.hu=!1))}),await Fc(n,e,t)}catch(e){await Bn(e)}}function Tc(e,t,n){const r=Wt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const a=r.view.va(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=Wt(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.Sa)a.va(t)&&(r=!0)}),r&&uc(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jc(e,t,n){const r=Wt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Au.get(t),s=a&&a.key;if(s){let e=new Cr(xn.comparator);e=e.insert(s,xa.newNoDocument(s,Mn.min()));const n=ks().add(s),a=new yi(Mn.min(),new Map,new Cr(cn),e,n);await Cc(r,a),r.du=r.du.remove(s),r.Au.delete(t),zc(r)}else await $o(r.localStore,t,!1).then(()=>Lc(r,t,n)).catch(Bn)}async function Ic(e,t){const n=Wt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,s=a.keys();let i=qn.resolve();return s.forEach(e=>{i=i.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Kt(null!==s,48541),t.version.compareTo(s)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),i.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ks();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Mc(n,r,null),Dc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fc(n,e)}catch(e){await Bn(e)}}async function Ac(e,t,n){const r=Wt(e);try{const e=await function(e,t){const n=Wt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Kt(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Mc(r,t,n),Dc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Fc(r,e)}catch(n){await Bn(n)}}function Dc(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Mc(e,t,n){const r=Wt(e);let a=r.Vu[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function Lc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Pc(e,t)})}function Pc(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(_l(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),zc(e))}function Oc(e,t,n){for(const r of n)r instanceof pc?(e.Ru.addReference(r.key,t),Rc(e,r)):r instanceof mc?(Ut(yc,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Pc(e,r.key)):Gt(19791,{wu:r})}function Rc(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Ut(yc,"New document in limbo: "+n),e.Eu.add(r),zc(e))}function zc(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new xn(yn.fromString(t)),r=e.fu.next();e.Au.set(r,new bc(n)),e.du=e.du.insert(n,r),El(e.remoteStore,new ao(es(Ya(n.path)),r,"TargetPurposeLimboResolution",Qn.ce))}}async function Fc(e,t,n){const r=Wt(e),a=[],s=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{i.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const a=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(e){a.push(e);const t=zo.As(o.targetId,e);s.push(t)}}))}),await Promise.all(i),r.Pu.H_(a),await async function(e,t){const n=Wt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>qn.forEach(t,t=>qn.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>qn.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Gn(e))throw e;Ut(Uo,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,a)}}}(r.localStore,s))}async function Vc(e,t){const n=Wt(e);if(!n.currentUser.isEqual(t)){Ut(yc,"User change. New user:",t.toKey());const e=await Ho(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Yt($t.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Fc(n,e.Ls)}}function Uc(e,t){const n=Wt(e),r=n.Au.get(t);if(r&&r.hu)return ks().add(r.key);{let e=ks();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Bc(e){const t=Wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jc.bind(null,t),t.Pu.H_=lc.bind(null,t.eventManager),t.Pu.yu=cc.bind(null,t.eventManager),t}function qc(e){const t=Wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ic.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ac.bind(null,t),t}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return qo(this.persistence,new Vo,e.initialUser,this.serializer)}Cu(e){return new Lo(Oo.mi,this.serializer)}Du(e){return new Zo}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class Gc extends Hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Kt(this.persistence.referenceDelegate instanceof Ro,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new bo(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new Lo(e=>Ro.mi(e,t),this.serializer)}}class Qc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Tc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vc.bind(null,this.syncEngine),await $l(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ac}createDatastore(e){const t=hl(e.databaseInfo.databaseId),n=function(e){return new ul(e)}(e.databaseInfo);return function(e,t,n,r){return new bl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new kl(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>Tc(this.syncEngine,e,0),nl.v()?new nl:new el)}createSyncEngine(e,t){return function(e,t,n,r,a,s,i){const o=new xc(e,t,n,r,a,s);return i&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Wt(e);Ut(wl,"RemoteStore shutting down."),t.Ea.add(5),await Nl(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Qc.provider={build:()=>new Qc};class Kc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Wc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Yt($t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Wt(e),r={documents:t.map(e=>zi(n.serializer,e))},a=await n.Ho("BatchGetDocuments",n.serializer.databaseId,yn.emptyPath(),r,t.length),s=new Map;a.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Kt(!!t.found,43571),t.found.name,t.found.updateTime;const n=Fi(e,t.found.name),r=Li(t.found.updateTime),a=t.found.createTime?Li(t.found.createTime):Mn.min(),s=new va({mapValue:{fields:t.found.fields}});return xa.newFoundDocument(n,r,a,s)}(e,t):"missing"in t?function(e,t){Kt(!!t.missing,3894),Kt(!!t.readTime,22933);const n=Fi(e,t.missing),r=Li(t.readTime);return xa.newNoDocument(n,r)}(e,t):Gt(7234,{result:t})}(n.serializer,e);s.set(t.key.toString(),t)});const i=[];return t.forEach(e=>{const t=s.get(e.toString());Kt(!!t,55234,{key:e}),i.push(t)}),i}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ei(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=xn.fromPath(t);this.mutations.push(new ti(n,this.precondition(n)))}),await async function(e,t){const n=Wt(e),r={writes:t.map(e=>Gi(n.serializer,e))};await n.Go("Commit",n.serializer.databaseId,yn.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gt(50498,{Gu:e.constructor.name});t=Mn.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Yt($t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mn.min())?Us.exists(!1):Us.updateTime(t):Us.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mn.min()))throw new Yt($t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Us.updateTime(t)}return Us.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $c{constructor(e,t,n,r,a){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=a,this.zu=n.maxAttempts,this.M_=new fl(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new Wc(this.datastore),t=this.Hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Yu(e)}))}).catch(e=>{this.Yu(e)})})}Hu(e){try{const t=this.updateFunction(e);return!Wn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if("FirebaseError"===(null===e||void 0===e?void 0:e.name)){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!li(t)}return!1}}const Yc="FirestoreClient";class Xc{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Rt.UNAUTHENTICATED,this.clientId=ln.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{Ut(Yc,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ut(Yc,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Zl(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Jc(e,t){e.asyncQueue.verifyOperationInProgress(),Ut(Yc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ho(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Zc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await eu(e);Ut(Yc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Wl(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Wl(t.remoteStore,n)),e._onlineComponents=t}async function eu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ut(Yc,"Using user provided OfflineComponentProvider");try{await Jc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===$t.FAILED_PRECONDITION||e.code===$t.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;qt("Error using user provided cache. Falling back to memory cache: "+n),await Jc(e,new Hc)}}else Ut(Yc,"Using default OfflineComponentProvider"),await Jc(e,new Gc(void 0));return e._offlineComponents}async function tu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ut(Yc,"Using user provided OnlineComponentProvider"),await Zc(e,e._uninitializedComponentsProvider._online)):(Ut(Yc,"Using default OnlineComponentProvider"),await Zc(e,new Qc))),e._onlineComponents}function nu(e){return tu(e).then(e=>e.syncEngine)}function ru(e){return tu(e).then(e=>e.datastore)}async function au(e){const t=await tu(e),n=t.eventManager;return n.onListen=wc.bind(null,t.syncEngine),n.onUnlisten=Ec.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=_c.bind(null,t.syncEngine),n}function su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Xt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const s=new Kc({next:o=>{s.Nu(),t.enqueueAndForget(()=>oc(e,i));const l=o.docs.has(n);!l&&o.fromCache?a.reject(new Yt($t.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?a.reject(new Yt($t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:e=>a.reject(e)}),i=new fc(Ya(n.path),s,{includeMetadataChanges:!0,qa:!0});return ic(e,i)}(await au(e),e.asyncQueue,t,n,r)),r.promise}function iu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Xt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const s=new Kc({next:n=>{s.Nu(),t.enqueueAndForget(()=>oc(e,i)),n.fromCache&&"server"===r.source?a.reject(new Yt($t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),i=new fc(n,s,{includeMetadataChanges:!0,qa:!0});return ic(e,i)}(await au(e),e.asyncQueue,t,n,r)),r.promise}function ou(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const lu=new Map,cu="firestore.googleapis.com",uu=!0;class du{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Yt($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cu,this.ssl=uu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:uu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ho;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<go)throw new Yt($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Yt($t.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ou(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Yt($t.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Yt($t.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Yt($t.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new du({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Yt($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yt($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new du(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zt;switch(e.type){case"firstParty":return new rn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Yt($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lu.get(e);t&&(Ut("ComponentProvider","Removing Datastore"),lu.delete(e),t.terminate())}(this),Promise.resolve()}}function fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=_n(e,hu);const a=O(t),s=e._getSettings(),i=c(c({},s),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);a&&(async function(e){(await fetch(e,{credentials:"include"})).ok}("https://".concat(o)),F("Firestore",!0)),s.host!==cu&&s.host!==o&&qt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},s),{},{host:o,ssl:a,emulatorOptions:r});if(!K(l,i)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Rt.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Yt($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Rt(a)}e._authCredentials=new en(new Jt(t,n))}}class pu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new pu(this.firestore,e,this._query)}}class mu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mu(this.firestore,e,this._key)}toJSON(){return{type:mu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(jn(t,mu._jsonSchema))return new mu(e,n||null,new xn(yn.fromString(t.referencePath)))}}mu._jsonSchemaVersion="firestore/documentReference/1.0",mu._jsonSchema={type:Tn("string",mu._jsonSchemaVersion),referencePath:Tn("string")};class gu extends pu{constructor(e,t,n){super(e,t,Ya(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mu(this.firestore,null,new xn(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function yu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=$(e),wn("collection","path",t),e instanceof hu){const n=yn.fromString(t,...r);return Sn(n),new gu(e,null,n)}{if(!(e instanceof mu||e instanceof gu))throw new Yt($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yn.fromString(t,...r));return Sn(n),new gu(e.firestore,null,n)}}function vu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=$(e),1===arguments.length&&(t=ln.newId()),wn("doc","path",t),e instanceof hu){const n=yn.fromString(t,...r);return kn(n),new mu(e,null,new xn(n))}{if(!(e instanceof mu||e instanceof gu))throw new Yt($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yn.fromString(t,...r));return kn(n),new mu(e.firestore,e instanceof gu?e.converter:null,new xn(n))}}const bu="AsyncQueue";class xu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fl(this,"async_queue_retry"),this._c=()=>{const e=dl();e&&Ut(bu,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=dl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Xt;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gn(e))throw e;Ut(bu,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Bt("INTERNAL UNHANDLED ERROR: ",wu(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Jl.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Gt(47125,{Pc:wu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function ku(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Su extends hu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new xu,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xu(e),this._firestoreClient=void 0,await e}}}function Nu(e){if(e._terminated)throw new Yt($t.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Eu(e),e._firestoreClient}function Eu(e){var t,n,r;const a=e._freezeSettings(),s=function(e,t,n,r){return new Qr(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ou(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||null!==(n=a.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=a.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Xc(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(Lr.fromBase64String(e))}catch(e){throw new Yt($t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new _u(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_u._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jn(e,_u._jsonSchema))return _u.fromBase64String(e.bytes)}}_u._jsonSchemaVersion="firestore/bytes/1.0",_u._jsonSchema={type:Tn("string",_u._jsonSchemaVersion),bytes:Tn("string")};class Cu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Yt($t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tu{constructor(e){this._methodName=e}}class ju{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yt($t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yt($t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ju._jsonSchemaVersion}}static fromJSON(e){if(jn(e,ju._jsonSchema))return new ju(e.latitude,e.longitude)}}ju._jsonSchemaVersion="firestore/geoPoint/1.0",ju._jsonSchema={type:Tn("string",ju._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};class Iu{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Iu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jn(e,Iu._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Iu(e.vectorValues);throw new Yt($t.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Iu._jsonSchemaVersion="firestore/vectorValue/1.0",Iu._jsonSchema={type:Tn("string",Iu._jsonSchemaVersion),vectorValues:Tn("object")};const Au=/^__.*__$/;class Du{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new $s(e,this.data,t,this.fieldTransforms)}}class Mu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt(40011,{Ac:e})}}class Pu{constructor(e,t,n,r,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pu(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Lu(this.Ac)&&Au.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ou{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||hl(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Pu({Ac:e,methodName:t,Dc:n,path:bn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ru(e){const t=e._freezeSettings(),n=hl(e._databaseId);return new Ou(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zu(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.Cc(s.merge||s.mergeFields?2:0,t,n,a);Qu("Data must be an object, but it was:",i,r);const o=Hu(r,i);let l,c;if(s.merge)l=new Dr(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const a=Ku(t,r,n);if(!i.contains(a))throw new Yt($t.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));Xu(e,a)||e.push(a)}l=new Dr(e),c=i.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=i.fieldTransforms;return new Du(new va(o),l,c)}class Fu extends Tu{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fu}}function Vu(e,t,n,r){const a=e.Cc(1,t,n);Qu("Data must be an object, but it was:",a,r);const s=[],i=va.empty();Er(r,(e,r)=>{const o=$u(t,e,n);r=$(r);const l=a.yc(o);if(r instanceof Fu)s.push(o);else{const e=qu(r,l);null!=e&&(s.push(o),i.set(o,e))}});const o=new Dr(s);return new Mu(i,o,a.fieldTransforms)}function Uu(e,t,n,r,a,s){const i=e.Cc(1,t,n),o=[Ku(t,r,n)],l=[a];if(s.length%2!=0)throw new Yt($t.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Ku(t,s[h])),l.push(s[h+1]);const c=[],u=va.empty();for(let h=o.length-1;h>=0;--h)if(!Xu(c,o[h])){const e=o[h];let t=l[h];t=$(t);const n=i.yc(e);if(t instanceof Fu)c.push(e);else{const r=qu(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Dr(c);return new Mu(u,d,i.fieldTransforms)}function Bu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return qu(n,e.Cc(r?4:3,t))}function qu(e,t){if(Gu(e=$(e)))return Qu("Unsupported field value:",t,e),Hu(e,t);if(e instanceof Tu)return function(e,t){if(!Lu(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=qu(a,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=$(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Cs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dn.fromDate(e);return{timestampValue:Ai(t.serializer,n)}}if(e instanceof Dn){const n=new Dn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ai(t.serializer,n)}}if(e instanceof ju)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _u)return{bytesValue:Di(t.serializer,e._byteString)};if(e instanceof mu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Pi(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Iu)return function(e,t){return{mapValue:{fields:{[$r]:{stringValue:Jr},[Zr]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Es(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(En(e)))}(e,t)}function Hu(e,t){const n={};return _r(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Er(e,(e,r)=>{const a=qu(r,t.mc(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function Gu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dn||e instanceof ju||e instanceof _u||e instanceof mu||e instanceof Tu||e instanceof Iu)}function Qu(e,t,n){if(!Gu(n)||!Nn(n)){const r=En(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Ku(e,t,n){if((t=$(t))instanceof Cu)return t._internalPath;if("string"==typeof t)return $u(e,t);throw Yu("Field path arguments must be of type string or ",e,!1,void 0,n)}const Wu=new RegExp("[~\\*/\\[\\]]");function $u(e,t,n){if(t.search(Wu)>=0)throw Yu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Cu(...t.split("."))._internalPath}catch(r){throw Yu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Yu(e,t,n,r,a){const s=r&&!r.isEmpty(),i=void 0!==a;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=" in field ".concat(r)),i&&(l+=" in document ".concat(a)),l+=")"),new Yt($t.INVALID_ARGUMENT,o+e+l)}function Xu(e,t){return e.some(e=>e.isEqual(t))}class Ju{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ed("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zu extends Ju{data(){return super.data()}}function ed(e,t){return"string"==typeof t?$u(e,t):t instanceof Cu?t._internalPath:t._delegate._internalPath}function td(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Yt($t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nd{}class rd extends nd{}function ad(e,t){let n=[];for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];t instanceof nd&&n.push(t),n=n.concat(a),function(e){const t=e.filter(e=>e instanceof id).length,n=e.filter(e=>e instanceof sd).length;if(t>1||t>0&&n>0)throw new Yt($t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class sd extends rd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new sd(e,t,n)}_apply(e){const t=this._parse(e);return hd(e._query,t),new pu(e.firestore,e.converter,ns(e._query,t))}_parse(e){const t=Ru(e.firestore),n=function(e,t,n,r,a,s,i){let o;if(a.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Yt($t.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){dd(i,s);const t=[];for(const n of i)t.push(ud(r,e,n));o={arrayValue:{values:t}}}else o=ud(r,e,i)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||dd(i,s),o=Bu(n,t,i,"in"===s||"not-in"===s);return Ca.create(a,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class id extends nd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new id(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ta.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const a of r)hd(n,a),n=ns(n,a)}(e._query,t),new pu(e.firestore,e.converter,ns(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class od extends rd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new od(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Yt($t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Yt($t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Na(t,n)}(e._query,this._field,this._direction);return new pu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Wa(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ld(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ed("orderBy",e);return od._create(n,t)}class cd extends rd{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new cd(e,t,n)}_apply(e){return new pu(e.firestore,e.converter,rs(e._query,this._limit,this._limitType))}}function ud(e,t,n){if("string"==typeof(n=$(n))){if(""===n)throw new Yt($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ja(t)&&-1!==n.indexOf("/"))throw new Yt($t.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(yn.fromString(n));if(!xn.isDocumentKey(r))throw new Yt($t.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ca(e,new xn(r))}if(n instanceof mu)return ca(e,n._key);throw new Yt($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(En(n),"."))}function dd(e,t){if(!Array.isArray(e)||0===e.length)throw new Yt($t.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function hd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Yt($t.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Yt($t.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class fd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Gt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Er(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Zr].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Rr(e.doubleValue));return new Iu(n)}convertGeoPoint(e){return new ju(Rr(e.latitude),Rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Hr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gr(e));default:return null}}convertTimestamp(e){const t=Or(e);return new Dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yn.fromString(e);Kt(ro(n),9688,{name:e});const r=new Wr(n.get(1),n.get(3)),a=new xn(n.popFirst(5));return r.isEqual(t)||Bt("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function pd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class md extends fd{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mu(this.firestore,null,t)}}class gd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yd extends Ju{constructor(e,t,n,r,a,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ed("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Yt($t.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=yd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}yd._jsonSchemaVersion="firestore/documentSnapshot/1.0",yd._jsonSchema={type:Tn("string",yd._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class vd extends yd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class bd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new vd(this._firestore,this._userDataWriter,n.key,n,new gd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Yt($t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new vd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new vd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,s=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:xd(t.type),doc:r,oldIndex:a,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Yt($t.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ln.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt(61501,{type:e})}}function wd(e){e=_n(e,mu);const t=_n(e.firestore,Su);return su(Nu(t),e._key).then(n=>Id(t,e,n))}bd._jsonSchemaVersion="firestore/querySnapshot/1.0",bd._jsonSchema={type:Tn("string",bd._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class kd extends fd{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mu(this.firestore,null,t)}}function Sd(e){e=_n(e,pu);const t=_n(e.firestore,Su),n=Nu(t),r=new kd(t);return td(e._query),iu(n,e._query).then(n=>new bd(t,r,e,n))}function Nd(e,t,n){e=_n(e,mu);const r=_n(e.firestore,Su),a=pd(e.converter,t,n);return jd(r,[zu(Ru(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Us.none())])}function Ed(e,t,n){e=_n(e,mu);const r=_n(e.firestore,Su),a=Ru(r);let s;for(var i=arguments.length,o=new Array(i>3?i-3:0),l=3;l<i;l++)o[l-3]=arguments[l];return s="string"==typeof(t=$(t))||t instanceof Cu?Uu(a,"updateDoc",e._key,t,n,o):Vu(a,"updateDoc",e._key,t),jd(r,[s.toMutation(e._key,Us.exists(!0))])}function _d(e){return jd(_n(e.firestore,Su),[new ei(e._key,Us.none())])}function Cd(e,t){const n=_n(e.firestore,Su),r=vu(e),a=pd(e.converter,t);return jd(n,[zu(Ru(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Us.exists(!1))]).then(()=>r)}function Td(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=$(e);let a={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||ku(n[s])||(a=n[s++]);const i={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ku(n[s])){var o,l,c;const e=n[s];n[s]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[s+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[s+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof mu)d=_n(e.firestore,Su),h=Ya(e._key.path),u={next:t=>{n[s]&&n[s](Id(d,e,t))},error:n[s+1],complete:n[s+2]};else{const t=_n(e,pu);d=_n(t.firestore,Su),h=t._query;const r=new kd(d);u={next:e=>{n[s]&&n[s](new bd(d,r,t,e))},error:n[s+1],complete:n[s+2]},td(e._query)}return function(e,t,n,r){const a=new Kc(r),s=new fc(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>ic(await au(e),s)),()=>{a.Nu(),e.asyncQueue.enqueueAndForget(async()=>oc(await au(e),s))}}(Nu(d),h,i,u)}function jd(e,t){return function(e,t){const n=new Xt;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=qc(e);try{const e=await function(e,t){const n=Wt(e),r=Dn.now(),a=t.reduce((e,t)=>e.add(t.key),ks());let s,i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=fs(),l=ks();return n.Ns.getEntries(e,a).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(a=>{s=a;const i=[];for(const e of t){const t=Ks(e,s.get(e.key).overlayedDocument);null!=t&&i.push(new Ys(e.key,t,ba(t.value.mapValue),Us.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)}).next(t=>{i=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:i.batchId,changes:gs(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Cr(cn)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Fc(r,e.changes),await Fl(r.remoteStore)}catch(e){const t=Zl(e,"Failed to persist write");n.reject(t)}}(await nu(e),t,n)),n.promise}(Nu(e),t)}function Id(e,t,n){const r=n.docs.get(t._key),a=new kd(e);return new yd(e,a,t._key,r,new gd(n.hasPendingWrites,n.fromCache),t.converter)}const Ad={maxAttempts:5};class Dd{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ru(e)}set(e,t,n){this._verifyNotCommitted();const r=Md(e,this._firestore),a=pd(r.converter,t,n),s=zu(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Us.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Md(e,this._firestore);let a;for(var s=arguments.length,i=new Array(s>3?s-3:0),o=3;o<s;o++)i[o-3]=arguments[o];return a="string"==typeof(t=$(t))||t instanceof Cu?Uu(this._dataReader,"WriteBatch.update",r._key,t,n,i):Vu(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(a.toMutation(r._key,Us.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Md(e,this._firestore);return this._mutations=this._mutations.concat(new ei(t._key,Us.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Yt($t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Md(e,t){if((e=$(e)).firestore!==t)throw new Yt($t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Ld{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ru(e)}get(e){const t=Md(e,this._firestore),n=new md(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Gt(24041);const r=e[0];if(r.isFoundDocument())return new Ju(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Ju(this._firestore,n,t._key,null,t.converter);throw Gt(18433,{doc:r})})}set(e,t,n){const r=Md(e,this._firestore),a=pd(r.converter,t,n),s=zu(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Md(e,this._firestore);let a;for(var s=arguments.length,i=new Array(s>3?s-3:0),o=3;o<s;o++)i[o-3]=arguments[o];return a="string"==typeof(t=$(t))||t instanceof Cu?Uu(this._dataReader,"Transaction.update",r._key,t,n,i):Vu(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,a),this}delete(e){const t=Md(e,this._firestore);return this._transaction.delete(t._key),this}}class Pd extends Ld{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Md(e,this._firestore),n=new kd(this._firestore);return super.get(e).then(e=>new yd(this._firestore,n,t._key,e._document,new gd(!1,!1),t.converter))}}function Od(e,t,n){e=_n(e,Su);const r=c(c({},Ad),n);return function(e){if(e.maxAttempts<1)throw new Yt($t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Xt;return e.asyncQueue.enqueueAndForget(async()=>{const a=await ru(e);new $c(e.asyncQueue,a,n,t,r).ju()}),r.promise}(Nu(e),n=>t(new Pd(e,n)),r)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zt=e}("12.6.0"),st(new Y("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const s=e.getProvider("app").getImmediate(),i=new Su(new tn(e.getProvider("auth-internal")),new sn(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yt($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wr(e.options.projectId,t)}(s,r),s);return a=c({useFetchStreams:t},a),i._setSettings(a),i},"PUBLIC").setMultipleInstances(!0)),ut(Pt,Ot,e),ut(Pt,Ot,"esm2020")}();ut("firebase","12.6.0","app");const Rd={apiKey:"AIzaSyCwQjAtEjJGhVv2KuB0HwazdqQ4lhP2I_w",authDomain:"nmsl-accounting.firebaseapp.com",projectId:"nmsl-accounting",storageBucket:"nmsl-accounting.firebasestorage.app",messagingSenderId:"623278577938",appId:"1:623278577938:web:a7fa005c80168303437bcb",measurementId:"G-0B3WN5F2CP"};let zd,Fd;try{zd=ct(Rd),Fd=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze;const t=tt.get(e);if(!t&&e===Ze&&L())return ct();if(!t)throw ot.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||Kr,a=it(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=M("firestore");e&&fu(a,...e)}return a}(zd)}catch(of){console.error("Firebase \u521d\u59cb\u5316\u5931\u6557\uff0c\u8acb\u6aa2\u67e5\u8a2d\u5b9a\u6a94",of)}const Vd=y("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Ud=y("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Bd=y("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),qd=y("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Hd=y("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Gd=y("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Qd=y("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Kd=y("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Wd=y("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),$d="1220v4",Yd=["\u6c34\u91ce","vina","Avalon","Ricky","\u4e94\u5341\u5d50","\u6c34\u6708","\u5f4c\u7802","Wolf","UBS"],Xd={"\u6c34\u91ce":"1571",vina:"7720",Avalon:"1018",Ricky:"0721","\u4e94\u5341\u5d50":"1225","\u6c34\u6708":"5230","\u5f4c\u7802":"3210",Wolf:"0821",UBS:"0663","\u8a2a\u5ba2":"0000"},Jd={WORLD:{label:"\u4e16\u754c",tax:.2},GENERAL:{label:"\u4e00\u822c",tax:.1}},Zd=(()=>{try{return"/team-accounting/map.jpg"}catch(e){return"/map.jpg"}})(),eh=async(e,t)=>{if(e)try{await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})})}catch(of){console.error("Discord \u901a\u77e5\u767c\u9001\u5931\u6557",of)}},th=e=>eh("https://discord.com/api/webhooks/1450050856094535745/0dvodClTjDzQEc_t5z_cCXNjPTF2wCyilpcWtJJNyX0xGhp4lYcRYOgzOam1IWT9Zqgo",e),nh=(e,t,n)=>{const r=(new Date).toLocaleString("zh-TW",{hour12:!1}),a="`[".concat(r,"]` **").concat(e||"\u672a\u5177\u540d","** ").concat(t,"\uff1a").concat(n);eh("https://discord.com/api/webhooks/1450325286062260296/_cNDE7s-GKL0QHVGKye5qIRA-xsQH-iOXUyFLWaDsGc0LwXTU94HC4yFdRW-eJm6KmTF",a)},rh=e=>{if(!e)return"\u7121\u7d00\u9304";try{return new Date(e).toLocaleString("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(t){return"\u65e5\u671f\u932f\u8aa4"}},ah=e=>{if(!e)return"--:--";try{return new Date(e).toLocaleString("zh-TW",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch(t){return"--:--"}},sh=e=>{try{return e.toLocaleString("zh-TW",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch(t){return"--:--:--"}},ih=e=>{try{const t=new Date(e),n=new Date;n.setHours(0,0,0,0);const r=new Date(t);r.setHours(0,0,0,0);const a=r.getTime()-n.getTime(),s=Math.round(a/864e5);return-1===s?"yesterday":0===s?"today":1===s?"tomorrow":"other"}catch(t){return"other"}},oh=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},lh=()=>{const e=new Date,t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0");return"".concat(t,":").concat(n,":").concat(r)},ch=()=>{const e=Math.floor(360*Math.random()),t=70+30*Math.random(),n=(45+15*Math.random())/100,r=t*Math.min(n,1-n)/100,a=t=>{const a=(t+e/30)%12,s=n-r*Math.max(Math.min(a-3,9-a,1),-1);return Math.round(255*s).toString(16).padStart(2,"0")};return"#".concat(a(0)).concat(a(8)).concat(a(4))},uh=e=>{if(!e)return"";const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:e};var dh=n(579);const hh=e=>{let{isDarkMode:t,currentUser:n}=e;const[a,s]=(0,r.useState)({}),[i,o]=(0,r.useState)(Yd),[l,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)({});(0,r.useEffect)(()=>{if(!Fd)return;const e=Td(vu(Fd,"member_characters","data"),e=>{e.exists()?s(e.data()):s({})});return()=>e()},[]),(0,r.useEffect)(()=>{if(!Fd)return;const e=async()=>{try{await Od(Fd,async e=>{const t=vu(Fd,"system_data","regen_status"),n=vu(Fd,"member_characters","data"),r=await e.get(t),a=await e.get(n);if(!a.exists())return;let s=0;r.exists()&&(s=r.data().lastCheckTime||0);const i=(new Date).getTime();if(i-s<6e4)return;const o=[2,5,8,11,14,17,20,23],l=[5,13,21];let u=a.data(),d=!1,h=s>0?s:i-1;const f=864e5;i-h>f&&(h=i-f);let p=0,m=0,g=new Date(h);for(g.setMinutes(0,0,0);g.getTime()<i;){g.setTime(g.getTime()+36e5);const e=g.getTime(),t=g.getHours();e>s&&e<=i&&(o.includes(t)&&(p+=15),l.includes(t)&&(m+=1))}0!==p||0!==m?(Object.keys(u).forEach(e=>{const t=u[e];if(Array.isArray(t)){const n=t.map(e=>"string"===typeof e?e:c(c({},e),{},{stamina:Math.min(9999,(parseInt(e.stamina)||0)+p),tickets:Math.min(99,(parseInt(e.tickets)||0)+m)}));u[e]=n,d=!0}}),d&&(e.set(n,u),e.set(t,{lastCheckTime:i},{merge:!0}),console.log("[Regen] \u5168\u9ad4\u56de\u5fa9: \u9ad4\u529b+".concat(p,", \u7968\u5377+").concat(m)))):e.set(t,{lastCheckTime:i},{merge:!0})})}catch(e){console.error("Auto Regen Failed",e)}};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[]);const m=async(e,t,r,s)=>{if("\u8a2a\u5ba2"===n)return;const i=[...a[e]||[]],o=i[t];let l="string"===typeof o?{name:o,gear:"",tickets:0,stamina:0,custom:0,note:""}:c({},o);l[r]=s,i[t]=l;try{await Nd(vu(Fd,"member_characters","data"),{[e]:i},{merge:!0})}catch(u){console.error("Update failed",u)}},g=async e=>{var t;if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");const r=null===(t=f[e])||void 0===t?void 0:t.trim();if(r)try{const t=[...a[e]||[]],s=[...t,{name:r,gear:"",tickets:0,stamina:0,custom:"",note:""}];await Nd(vu(Fd,"member_characters","data"),{[e]:s},{merge:!0}),p(t=>c(c({},t),{},{[e]:""})),nh(n,"\u65b0\u589e\u89d2\u8272","".concat(e,": ").concat(r))}catch(s){console.error("\u65b0\u589e\u5931\u6557",s),alert("\u65b0\u589e\u5931\u6557")}};return(0,dh.jsxs)("div",{className:"p-4 md:p-6 max-w-7xl mx-auto pb-20",children:[(0,dh.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,dh.jsxs)("div",{children:[(0,dh.jsx)("h2",{className:"text-2xl font-bold border-l-4 pl-3 border-green-500 mb-1",style:{color:"var(--app-text)"},children:"\u89d2\u8272 ID \u540d\u9304"}),(0,dh.jsx)("p",{className:"text-sm opacity-60",style:{color:"var(--app-text)"},children:"\u7ba1\u7406\u89d2\u8272\u8cc7\u8a0a\u3001\u9ad4\u529b\u8207\u7968\u5377\u3002\u6bcf\u65e5\u5b9a\u6642\u81ea\u52d5\u88dc\u7d66\u3002"})]}),(0,dh.jsx)("div",{className:"flex gap-2",children:n&&"\u8a2a\u5ba2"!==n&&(0,dh.jsxs)("button",{onClick:()=>u(!l),className:"flex items-center gap-2 px-3 py-2 rounded text-white shadow transition-all ".concat(l?"bg-green-600":"bg-gray-500"),children:[l?(0,dh.jsx)(Vd,{size:16}):(0,dh.jsx)(Ud,{size:16}),l?"\u5b8c\u6210\u7de8\u8f2f":"\u7de8\u8f2f\u6a21\u5f0f"]})})]}),(0,dh.jsxs)("div",{className:"p-4 rounded-xl shadow-sm mb-6 flex flex-wrap gap-2 transition-colors",style:{background:"var(--app-card-bg)"},children:[(0,dh.jsx)("button",{onClick:()=>o(i.length===Yd.length?[]:Yd),className:"px-3 py-1.5 rounded-full text-sm font-bold border transition-all ".concat(i.length===Yd.length?"bg-blue-600 text-white border-blue-600":"bg-transparent opacity-60 border-gray-500"),style:{color:i.length===Yd.length?"white":"var(--app-text)"},children:i.length===Yd.length?"\u5168\u9078":"\u5168\u4e0d\u9078"}),(0,dh.jsx)("div",{className:"w-px h-6 bg-gray-500/30 mx-2 self-center"}),Yd.map(e=>(0,dh.jsxs)("button",{onClick:()=>(e=>{i.includes(e)?o(i.filter(t=>t!==e)):o([...i,e])})(e),className:"px-3 py-1.5 rounded-full text-sm border transition-all flex items-center gap-1\n              ".concat(i.includes(e)?"bg-blue-500/20 border-blue-500 text-blue-500 font-bold":"bg-transparent border-gray-500/50 opacity-50"),style:{color:i.includes(e)?t?"#60a5fa":"#2563eb":"var(--app-text)",borderColor:i.includes(e)?t?"#60a5fa":"#2563eb":void 0},children:[i.includes(e)&&(0,dh.jsx)(Bd,{size:12}),e]},e))]}),(0,dh.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Yd.filter(e=>i.includes(e)).map(e=>{const t=a[e]||[];return(0,dh.jsxs)("div",{className:"rounded-xl overflow-hidden shadow-md flex flex-col border border-white/10 transition-colors",style:{background:"var(--app-card-bg)"},children:[(0,dh.jsx)("div",{className:"p-3 border-b border-white/10 flex justify-between items-center bg-black/10",children:(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("div",{className:"p-1.5 rounded-full bg-blue-500 text-white",children:(0,dh.jsx)(S,{size:16})}),(0,dh.jsx)("h3",{className:"font-bold text-lg",style:{color:"var(--app-text)"},children:e}),(0,dh.jsxs)("span",{className:"text-xs opacity-50 bg-black/20 px-2 py-0.5 rounded-full",style:{color:"var(--app-text)"},children:[t.length," \u89d2"]})]})}),(0,dh.jsxs)("div",{className:"p-3 flex-1 flex flex-col gap-3",children:[t.length>0?t.map((t,r)=>{const s="string"===typeof t?{name:t,gear:"",tickets:0,stamina:0,custom:"",note:""}:t;return(0,dh.jsxs)("div",{className:"flex flex-col gap-2 p-3 rounded border border-white/5 shadow-sm relative group bg-black/5",children:[(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("span",{className:"font-bold text-base flex-1 truncate",style:{color:"var(--card-text)"},children:s.name}),(0,dh.jsx)("input",{type:"text",maxLength:4,placeholder:"\u88dd\u7b49",className:"w-14 text-center text-sm p-1 rounded bg-black/10 border border-white/10 outline-none focus:border-blue-500",style:{color:"var(--card-text)"},value:s.gear||"",onChange:t=>m(e,r,"gear",t.target.value)}),(0,dh.jsx)("button",{onClick:()=>{return e=s.name,navigator.clipboard.writeText(e),h(e),void setTimeout(()=>h(null),1500);var e},className:"p-1.5 rounded transition-colors ".concat(d===s.name?"bg-green-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"),children:d===s.name?(0,dh.jsx)(Bd,{size:14}):(0,dh.jsx)(qd,{size:14})}),l&&(0,dh.jsx)("button",{onClick:()=>(async(e,t)=>{if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");const r=a[e]||[],s=r[t],i="string"===typeof s?s:s.name;if(window.confirm("\u78ba\u5b9a\u8981\u522a\u9664 ".concat(e,' \u7684\u89d2\u8272 "').concat(i,'" \u55ce\uff1f')))try{const a=r.filter((e,n)=>n!==t);await Nd(vu(Fd,"member_characters","data"),{[e]:a},{merge:!0}),nh(n,"\u522a\u9664\u89d2\u8272","".concat(e,": ").concat(i))}catch(o){console.error("\u522a\u9664\u5931\u6557",o),alert("\u522a\u9664\u5931\u6557")}})(e,r),className:"p-1.5 rounded bg-red-500/20 text-red-400 hover:bg-red-500 hover:text-white transition-colors",children:(0,dh.jsx)(Hd,{size:14})})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsxs)("div",{className:"flex items-center gap-1 flex-1 bg-black/10 rounded px-2 py-1 border border-white/5",children:[(0,dh.jsx)(Gd,{size:12,className:"text-yellow-500 flex-shrink-0"}),(0,dh.jsx)("input",{type:"number",maxLength:2,className:"w-full bg-transparent outline-none text-sm text-center font-mono",placeholder:"\u7968",style:{color:"var(--card-text)"},value:s.tickets||"",onChange:t=>m(e,r,"tickets",t.target.value)})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-1 flex-1 bg-black/10 rounded px-2 py-1 border border-white/5",children:[(0,dh.jsx)(Qd,{size:12,className:"text-blue-400 flex-shrink-0"}),(0,dh.jsx)("input",{type:"number",maxLength:4,className:"w-full bg-transparent outline-none text-sm text-center font-mono",placeholder:"\u9ad4\u529b",style:{color:"var(--card-text)"},value:s.stamina||"",onChange:t=>m(e,r,"stamina",t.target.value)})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-1",children:[(0,dh.jsx)("input",{type:"number",className:"w-8 text-center text-sm p-1 rounded bg-black/10 border border-white/10 outline-none",placeholder:"#",style:{color:"var(--card-text)"},value:s.custom||"",onChange:t=>m(e,r,"custom",t.target.value)}),(0,dh.jsxs)("button",{className:"bg-purple-600 hover:bg-purple-500 text-white text-[10px] px-2 py-1.5 rounded flex items-center gap-1 whitespace-nowrap shadow",title:"\u6263\u9664: ".concat(s.custom||0,"\u7968 / ").concat(80*(s.custom||0),"\u9ad4"),onClick:()=>(async(e,t)=>{if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");const r=[...a[e]||[]],s=r[t];if("string"===typeof s)return;const i=parseInt(s.custom)||0;if(i<=0)return alert("\u8acb\u8f38\u5165\u6709\u6548\u7684\u5834\u6b21\u6578\u91cf (\u5927\u65bc 0)");const o=1*i,l=80*i,u=(parseInt(s.tickets)||0)-o,d=(parseInt(s.stamina)||0)-l,h=c(c({},s),{},{tickets:u,stamina:d,custom:""});r[t]=h;try{await Nd(vu(Fd,"member_characters","data"),{[e]:r},{merge:!0}),nh(n,"\u5b8c\u6210\u5834\u6b21","".concat(s.name," \u5b8c\u6210 ").concat(i," \u5834 (\u7968-").concat(o,", \u9ad4-").concat(l,")")),alert("\u5df2\u6263\u9664 ".concat(i," \u5834\u6d88\u8017\uff01\n\u5269\u9918\u7968\u5377: ").concat(u,"\n\u5269\u9918\u9ad4\u529b: ").concat(d))}catch(f){console.error("Complete run failed",f),alert("\u66f4\u65b0\u5931\u6557")}})(e,r),children:[(0,dh.jsx)(Kd,{size:10})," \u5b8c\u5834"]})]})]}),(0,dh.jsx)("div",{children:(0,dh.jsx)("input",{type:"text",className:"w-full text-xs p-1 bg-transparent border-b border-white/10 outline-none focus:border-white/30 placeholder-white/20",placeholder:"\u5099\u8a3b...",style:{color:"var(--card-text)"},value:s.note||"",onChange:t=>m(e,r,"note",t.target.value)})})]},r)}):(0,dh.jsx)("div",{className:"text-center py-4 opacity-30 text-sm italic",style:{color:"var(--app-text)"},children:"\u5c1a\u7121\u89d2\u8272\u8cc7\u6599"}),l&&(0,dh.jsxs)("div",{className:"mt-2 flex gap-2 animate-in fade-in",children:[(0,dh.jsx)("input",{type:"text",placeholder:"\u8f38\u5165\u65b0\u89d2\u8272 ID...",className:"flex-1 p-2 text-sm rounded border border-gray-500/30 bg-black/20 outline-none focus:border-blue-500",style:{color:"var(--app-text)"},value:f[e]||"",onChange:t=>p(c(c({},f),{},{[e]:t.target.value})),onKeyDown:t=>"Enter"===t.key&&g(e)}),(0,dh.jsx)("button",{onClick:()=>g(e),className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",disabled:!f[e],children:(0,dh.jsx)(Wd,{size:18})})]})]})]},e)})})]})},fh=y("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),ph=y("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),mh=y("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),gh=y("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),yh=y("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),vh=y("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),bh=y("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),xh=e=>{let{videoId:t,isDarkMode:n}=e;const[a,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(50),[p,m]=(0,r.useState)(!0),[g,y]=(0,r.useState)(!1),v=(0,r.useRef)(g);(0,r.useEffect)(()=>{const e=localStorage.getItem("accounting_player_settings");if(e)try{const t=JSON.parse(e);void 0!==t.volume&&f(t.volume),void 0!==t.isMuted&&m(t.isMuted),void 0!==t.isLoop&&(y(t.isLoop),v.current=t.isLoop)}catch(t){console.error("\u8b80\u53d6\u64ad\u653e\u5668\u8a2d\u5b9a\u5931\u6557",t)}},[]),(0,r.useEffect)(()=>{const e={volume:h,isMuted:p,isLoop:g};localStorage.setItem("accounting_player_settings",JSON.stringify(e)),v.current=g},[h,p,g]),(0,r.useEffect)(()=>{if(!window.YT){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},[]),(0,r.useEffect)(()=>{if(t&&window.YT&&window.YT.Player){if(a)return void a.loadVideoById(t);const e=new window.YT.Player("youtube-player",{height:"0",width:"0",videoId:t,playerVars:{autoplay:0,controls:0,rel:0,playsinline:1},events:{onReady:e=>{d(!0),p?e.target.mute():e.target.unMute(),e.target.setVolume(h)},onStateChange:e=>{o(e.data===window.YT.PlayerState.PLAYING),0===e.data&&v.current&&e.target.playVideo()}}});s(e)}else if(t){const e=setInterval(()=>{window.YT&&window.YT.Player&&(clearInterval(e),s(null))},500);return()=>clearInterval(e)}},[t]);return t?(0,dh.jsxs)("div",{className:"fixed bottom-4 left-4 z-40 transition-all duration-300 shadow-xl rounded-lg border overflow-hidden\n      ".concat(n?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800","\n      ").concat(l?"w-10 h-10 rounded-full":"w-64 p-3","\n    "),children:[(0,dh.jsx)("div",{id:"youtube-player",className:"hidden"}),l?(0,dh.jsx)("button",{onClick:()=>c(!1),className:"w-full h-full flex items-center justify-center hover:bg-gray-200/20 rounded-full",children:(0,dh.jsx)(fh,{size:20,className:i?"animate-pulse text-green-500":"text-gray-400"})}):(0,dh.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,dh.jsxs)("div",{className:"flex justify-between items-center border-b pb-1 border-gray-500/20",children:[(0,dh.jsxs)("span",{className:"text-xs font-bold flex items-center gap-1",children:[(0,dh.jsx)(fh,{size:14})," \u97f3\u6a02\u64ad\u653e\u5668"]}),(0,dh.jsx)("button",{onClick:()=>c(!0),children:(0,dh.jsx)(ph,{size:16})})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-2 justify-center py-1",children:[(0,dh.jsx)("button",{onClick:()=>{a&&u&&(i?a.pauseVideo():a.playVideo())},className:"p-2 rounded-full transition-colors ".concat(i?"bg-red-500 text-white":"bg-green-500 text-white"),title:i?"\u66ab\u505c":"\u64ad\u653e",children:i?(0,dh.jsx)(mh,{size:16}):(0,dh.jsx)(gh,{size:16})}),(0,dh.jsx)("button",{onClick:()=>{a&&u&&(p?a.unMute():a.mute(),m(!p))},className:"p-2 rounded-full transition-colors ".concat(p?"bg-gray-600 text-white":"bg-gray-200 text-gray-700"),title:"\u975c\u97f3/\u53d6\u6d88\u975c\u97f3",children:p?(0,dh.jsx)(yh,{size:16}):(0,dh.jsx)(vh,{size:16})}),(0,dh.jsx)("button",{onClick:()=>{y(!g)},className:"p-2 rounded-full transition-colors ".concat(g?"bg-blue-500 text-white":"bg-gray-200 text-gray-400"),title:"\u5faa\u74b0\u64ad\u653e",children:(0,dh.jsx)(bh,{size:16})})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)(vh,{size:12,className:"opacity-50"}),(0,dh.jsx)("input",{type:"range",min:"0",max:"100",value:h,onChange:e=>{const t=parseInt(e.target.value);f(t),a&&u&&(a.setVolume(t),t>0&&p&&(a.unMute(),m(!1)))},className:"w-full h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),(0,dh.jsxs)("div",{className:"text-[10px] opacity-60 text-center truncate",children:["ID: ",t]})]})]}):null},wh=y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kh=y("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),Sh=y("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Nh=y("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),Eh=y("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),_h=e=>{let{isOpen:t,onClose:n,theme:a,currentSettings:s,isDarkMode:i,currentUser:o}=e;const[l,u]=(0,r.useState)({appVersion:$d,mapShowMins:60,mapBlinkMins:10,mapLineGapSecs:120,youtubeVideoId:"",geminiApiKey:""});if((0,r.useEffect)(()=>{s&&u(s)},[s]),!t)return null;return(0,dh.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:(0,dh.jsxs)("div",{className:"w-full max-w-lg p-6 rounded-xl shadow-2xl ".concat(a.card," max-h-[90vh] overflow-y-auto"),children:[(0,dh.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b pb-2 border-gray-600",children:[(0,dh.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 ".concat(a.text),children:[(0,dh.jsx)(k,{size:24})," \u7cfb\u7d71\u5168\u57df\u8a2d\u5b9a"]}),(0,dh.jsx)("button",{onClick:n,className:"p-1 rounded hover:bg-red-500 hover:text-white transition-colors",children:(0,dh.jsx)(wh,{size:24})})]}),(0,dh.jsxs)("div",{className:"space-y-6",children:[(0,dh.jsxs)("div",{className:"p-4 bg-blue-900/20 rounded-lg border border-blue-500/30",children:[(0,dh.jsxs)("h4",{className:"font-bold text-blue-500 mb-2 flex items-center gap-2",children:[(0,dh.jsx)(kh,{size:16})," \u7248\u672c\u865f\u63a7\u7ba1","Wolf"!==o&&(0,dh.jsxs)("span",{className:"text-xs text-red-400 bg-red-900/20 px-2 py-0.5 rounded ml-2 flex items-center gap-1",children:[(0,dh.jsx)(Sh,{size:10})," \u6b0a\u9650\u4e0d\u8db3"]})]}),(0,dh.jsx)("p",{className:"text-xs mb-3 opacity-70 ".concat(a.text),children:"* \u4fee\u6539\u6b64\u865f\u78bc\u8207\u4f7f\u7528\u8005\u7576\u524d\u7248\u672c\u4e0d\u540c\u6642\uff0c\u6703\u8df3\u51fa\u66f4\u65b0\u63d0\u793a\u3002"}),(0,dh.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dh.jsx)("label",{className:"text-sm w-24 font-bold ".concat(a.text),children:"\u96f2\u7aef\u7248\u672c"}),(0,dh.jsx)("input",{type:"text",className:"flex-1 p-2 rounded border ".concat(a.input," ").concat("Wolf"!==o?"opacity-50 cursor-not-allowed":""),value:l.appVersion||"",onChange:e=>u(c(c({},l),{},{appVersion:e.target.value})),disabled:"Wolf"!==o,title:"Wolf"!==o?"\u53ea\u6709 Wolf \u53ef\u4ee5\u4fee\u6539\u6b64\u6b04\u4f4d":""})]}),(0,dh.jsxs)("div",{className:"text-xs text-right mt-1 opacity-50",children:["\u60a8\u7684\u672c\u6a5f\u7248\u672c: ",$d]})]}),(0,dh.jsxs)("div",{className:"p-4 bg-yellow-900/20 rounded-lg border border-yellow-500/30",children:[(0,dh.jsxs)("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:[(0,dh.jsx)(Nh,{size:16})," AI \u8a2d\u5b9a (Gemini)"]}),(0,dh.jsx)("p",{className:"text-xs mb-3 opacity-70 ".concat(a.text),children:"* \u586b\u5165 Google Gemini API Key \u4ee5\u555f\u7528\u667a\u6167\u554f\u7b54\u529f\u80fd\u3002"}),(0,dh.jsx)("div",{className:"flex flex-col gap-2",children:(0,dh.jsx)("input",{type:"password",placeholder:"API Key (\u4f8b\u5982: AIzaSy...)",className:"w-full p-2 rounded border ".concat(a.input),value:l.geminiApiKey||"",onChange:e=>u(c(c({},l),{},{geminiApiKey:e.target.value}))})})]}),(0,dh.jsxs)("div",{className:"p-4 bg-purple-900/20 rounded-lg border border-purple-500/30",children:[(0,dh.jsxs)("h4",{className:"font-bold text-purple-500 mb-4 flex items-center gap-2",children:[(0,dh.jsx)(Eh,{size:16})," Boss \u5730\u5716\u53c3\u6578"]}),(0,dh.jsxs)("div",{className:"space-y-4",children:[(0,dh.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dh.jsx)("label",{className:"text-sm w-32 ".concat(a.text),children:"\u986f\u793a\u7bc4\u570d (\u5206)"}),(0,dh.jsx)("input",{type:"number",className:"w-24 p-2 rounded border ".concat(a.input),value:l.mapShowMins||60,onChange:e=>u(c(c({},l),{},{mapShowMins:Number(e.target.value)}))}),(0,dh.jsx)("span",{className:"text-xs opacity-50",children:"\u91cd\u751f\u524d N \u5206\u9418\u986f\u793a"})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dh.jsx)("label",{className:"text-sm w-32 ".concat(a.text),children:"\u9583\u720d\u63d0\u793a (\u5206)"}),(0,dh.jsx)("input",{type:"number",className:"w-24 p-2 rounded border ".concat(a.input),value:l.mapBlinkMins||10,onChange:e=>u(c(c({},l),{},{mapBlinkMins:Number(e.target.value)}))}),(0,dh.jsx)("span",{className:"text-xs opacity-50",children:"\u91cd\u751f\u524d N \u5206\u9418\u958b\u59cb\u9583\u720d"})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dh.jsx)("label",{className:"text-sm w-32 ".concat(a.text),children:"\u9023\u7dda\u7fa4\u7d44 (\u79d2)"}),(0,dh.jsx)("input",{type:"number",className:"w-24 p-2 rounded border ".concat(a.input),value:l.mapLineGapSecs||120,onChange:e=>u(c(c({},l),{},{mapLineGapSecs:Number(e.target.value)}))}),(0,dh.jsx)("span",{className:"text-xs opacity-50",children:"\u9593\u9694 N \u79d2\u5167\u8996\u70ba\u540c\u4e00\u7d44"})]})]})]}),(0,dh.jsxs)("div",{className:"p-4 bg-green-900/20 rounded-lg border border-green-500/30",children:[(0,dh.jsxs)("h4",{className:"font-bold text-green-500 mb-4 flex items-center gap-2",children:[(0,dh.jsx)(fh,{size:16})," \u80cc\u666f\u97f3\u6a02\u8a2d\u5b9a"]}),(0,dh.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,dh.jsx)("label",{className:"text-sm ".concat(a.text),children:"YouTube \u7db2\u5740\u6216 ID"}),(0,dh.jsx)("input",{type:"text",placeholder:"\u4f8b\u5982: dQw4w9WgXcQ",className:"w-full p-2 rounded border ".concat(a.input),value:l.youtubeVideoId||"",onChange:e=>u(c(c({},l),{},{youtubeVideoId:e.target.value}))}),(0,dh.jsx)("span",{className:"text-xs opacity-50",children:"* \u66f4\u65b0\u5f8c\uff0c\u6240\u6709\u5728\u7dda\u6210\u54e1\u7684\u64ad\u653e\u5668\u6703\u540c\u6b65\u8f09\u5165\u6b64\u5f71\u7247\u3002"})]})]})]}),(0,dh.jsxs)("div",{className:"mt-8 flex justify-end gap-3",children:[(0,dh.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"\u53d6\u6d88"}),(0,dh.jsxs)("button",{onClick:async()=>{if(Fd)try{const e=c(c({},l),{},{youtubeVideoId:uh(l.youtubeVideoId)});await Nd(vu(Fd,"system_data","global_settings"),e,{merge:!0}),nh(o,"\u4fee\u6539\u7cfb\u7d71\u8a2d\u5b9a","\u7248\u672c:".concat(e.appVersion,", \u97f3\u6a02:").concat(e.youtubeVideoId)),alert("\u8a2d\u5b9a\u5df2\u5132\u5b58\uff01"),n()}catch(e){console.error(e),alert("\u5132\u5b58\u5931\u6557")}},className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold flex items-center gap-2",children:[(0,dh.jsx)(Vd,{size:18})," \u5132\u5b58\u8a2d\u5b9a"]})]})]})})},Ch=e=>{let{isOpen:t,onSelectUser:n,theme:a}=e;const[s,i]=(0,r.useState)("SELECT"),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)("");if(!t)return null;const f=()=>{c===Xd[o]?(n(o),nh(o,"\u7d81\u5b9a\u8a2d\u5099","\u767b\u5165\u6210\u529f (\u65b0\u8a2d\u5099\u7d81\u5b9a)")):(h("\u5bc6\u78bc\u932f\u8aa4"),nh(o,"\u767b\u5165\u5931\u6557","\u5bc6\u78bc\u932f\u8aa4\u5617\u8a66"))};return(0,dh.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-md p-4",children:(0,dh.jsxs)("div",{className:"w-full max-w-md p-6 rounded-2xl shadow-2xl ".concat(a.card," text-center"),children:["SELECT"===s?(0,dh.jsxs)(dh.Fragment,{children:[(0,dh.jsx)(S,{size:64,className:"mx-auto mb-4 text-blue-500"}),(0,dh.jsx)("h2",{className:"text-2xl font-bold mb-2 ".concat(a.text),children:"\u6b61\u8fce\uff01\u8acb\u554f\u60a8\u662f\u54ea\u4f4d\u6210\u54e1\uff1f"}),(0,dh.jsx)("p",{className:"text-sm mb-6 ".concat(a.subText),children:"\u8acb\u9078\u64c7\u60a8\u7684\u8eab\u4efd\u4ee5\u7d81\u5b9a\u6b64\u8a2d\u5099\u3002"}),(0,dh.jsx)("div",{className:"grid grid-cols-3 gap-3",children:Yd.map(e=>(0,dh.jsx)("button",{onClick:()=>(e=>{Xd[e]?(l(e),i("PASSWORD"),h(""),u("")):alert("\u5c1a\u672a\u63d0\u4f9b\u5bc6\u78bc\uff0c\u8acb\u79c1\u8a0a Wolf \u7372\u53d6\u4e00\u7d44\u56db\u4f4d\u6578\u5bc6\u78bc\u3002")})(e),className:"p-3 rounded-xl bg-blue-600 hover:bg-blue-500 text-white font-bold transition-transform hover:scale-105 active:scale-95",children:e},e))})]}):(0,dh.jsxs)(dh.Fragment,{children:[(0,dh.jsx)(Sh,{size:64,className:"mx-auto mb-4 text-yellow-500"}),(0,dh.jsx)("h2",{className:"text-2xl font-bold mb-2 ".concat(a.text),children:"\u8acb\u8f38\u5165\u5bc6\u78bc"}),(0,dh.jsxs)("p",{className:"text-sm mb-4 ".concat(a.subText),children:["\u6b63\u5728\u9a57\u8b49\u8eab\u4efd\uff1a",(0,dh.jsx)("span",{className:"font-bold text-blue-500",children:o})]}),(0,dh.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,dh.jsx)("input",{type:"password",maxLength:"4",placeholder:"4\u4f4d\u6578\u5bc6\u78bc",className:"w-full p-3 rounded-lg text-center text-xl tracking-widest border-2 outline-none ".concat(d?"border-red-500":"border-gray-300"),value:c,onChange:e=>u(e.target.value),onKeyDown:e=>"Enter"===e.key&&f()}),d&&(0,dh.jsx)("p",{className:"text-red-500 text-sm font-bold animate-pulse",children:d}),(0,dh.jsxs)("div",{className:"flex gap-2",children:[(0,dh.jsx)("button",{onClick:()=>{i("SELECT"),l(null),u(""),h("")},className:"flex-1 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"\u8fd4\u56de"}),(0,dh.jsx)("button",{onClick:f,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold",children:"\u78ba\u8a8d"})]})]})]}),(0,dh.jsx)("div",{className:"mt-6 text-xs ".concat(a.subText),children:"* \u7d81\u5b9a\u5f8c\uff0c\u4e0b\u6b21\u958b\u555f\u7db2\u9801\u7121\u9700\u518d\u6b21\u767b\u5165\u3002"})]})})},Th=e=>{let{show:t,remoteVersion:n,onRefresh:r}=e;return t?(0,dh.jsx)("div",{className:"fixed bottom-6 right-6 z-[100] animate-[bounceIn_0.5s_ease-out]",children:(0,dh.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-5 rounded-2xl shadow-2xl border-2 border-white/20 max-w-sm",children:(0,dh.jsxs)("div",{className:"flex items-start gap-4",children:[(0,dh.jsx)("div",{className:"bg-white/20 p-2 rounded-full animate-pulse",children:(0,dh.jsx)(kh,{size:24,className:"text-white"})}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("h3",{className:"font-bold text-lg mb-1",children:"\ud83d\ude80 \u767c\u73fe\u65b0\u7248\u672c\uff01"}),(0,dh.jsxs)("p",{className:"text-sm opacity-90 mb-3 leading-relaxed",children:["\u70ba\u4e86\u78ba\u4fdd\u529f\u80fd\u6b63\u5e38\u8207\u8cc7\u6599\u540c\u6b65\uff0c\u8acb\u7acb\u5373\u66f4\u65b0\u7db2\u9801\u3002",(0,dh.jsx)("br",{}),(0,dh.jsxs)("span",{className:"text-xs opacity-70 font-mono mt-1 block",children:["Local: ",$d," ",(0,dh.jsx)("br",{})," New: ",n]})]}),(0,dh.jsx)("button",{onClick:r,className:"w-full bg-white text-blue-700 font-bold py-2 rounded-lg hover:bg-blue-50 transition-colors shadow-md active:scale-95",children:"\u7acb\u5373\u91cd\u65b0\u6574\u7406"})]})]})})}):null},jh=y("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Ih=e=>{let{isOpen:t,onClose:n,currentTheme:a,onSave:s}=e;const i={bgType:"solid",bgColor1:"#0f172a",bgColor2:"#1e293b",bgDirection:135,bgPosition:50,primaryType:"solid",primaryColor1:"#2563eb",primaryColor2:"#4f46e5",primaryDirection:90,textColor:"#ffffff",cardBgColor:"#1f2937",cardItemBg:"#374151",cardItemText:"#ffffff"},[o,l]=(0,r.useState)(a||i);if((0,r.useEffect)(()=>{a&&l(a)},[a]),!t)return null;const u=(e,t)=>{l(n=>c(c({},n),{},{[e]:t}))};return(0,dh.jsx)("div",{className:"fixed inset-0 z-[110] flex items-center justify-end pointer-events-none",children:(0,dh.jsxs)("div",{className:"h-full w-80 bg-white dark:bg-gray-900 shadow-2xl pointer-events-auto overflow-y-auto border-l border-gray-200 dark:border-gray-700 flex flex-col",children:[(0,dh.jsxs)("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[(0,dh.jsxs)("h3",{className:"font-bold flex items-center gap-2 dark:text-white",children:[(0,dh.jsx)(w,{size:18,className:"text-purple-500"})," \u5916\u89c0\u4e3b\u984c\u8a2d\u5b9a"]}),(0,dh.jsx)("button",{onClick:n,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 dark:text-gray-400",children:(0,dh.jsx)(wh,{size:20})})]}),(0,dh.jsxs)("div",{className:"p-4 space-y-6 flex-1",children:[(0,dh.jsxs)("div",{className:"space-y-3",children:[(0,dh.jsx)("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"\u5168\u7ad9\u80cc\u666f (Background)"}),(0,dh.jsxs)("div",{className:"flex gap-2 text-sm bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[(0,dh.jsx)("button",{onClick:()=>u("bgType","solid"),className:"flex-1 py-1 rounded ".concat("solid"===o.bgType?"bg-white shadow text-blue-600 font-bold":"text-gray-500"),children:"\u55ae\u8272"}),(0,dh.jsx)("button",{onClick:()=>u("bgType","gradient"),className:"flex-1 py-1 rounded ".concat("gradient"===o.bgType?"bg-white shadow text-blue-600 font-bold":"text-gray-500"),children:"\u6f38\u5c64"})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("input",{type:"color",value:o.bgColor1,onChange:e=>u("bgColor1",e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0"}),(0,dh.jsx)("span",{className:"text-xs text-gray-500",children:"\u4e3b\u8272"})]}),"gradient"===o.bgType&&(0,dh.jsxs)("div",{className:"space-y-2 pl-2 border-l-2 border-purple-500/30",children:[(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("input",{type:"color",value:o.bgColor2,onChange:e=>u("bgColor2",e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0"}),(0,dh.jsx)("span",{className:"text-xs text-gray-500",children:"\u6f38\u5c64\u8272"})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsxs)("label",{className:"text-xs text-gray-500 flex justify-between",children:["\u65b9\u5411: ",o.bgDirection,"\xb0"]}),(0,dh.jsx)("input",{type:"range",min:"0",max:"360",value:o.bgDirection,onChange:e=>u("bgDirection",e.target.value),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsxs)("label",{className:"text-xs text-gray-500 flex justify-between",children:["\u6f38\u5c64\u91cf: ",o.bgPosition,"%"]}),(0,dh.jsx)("input",{type:"range",min:"0",max:"100",value:o.bgPosition,onChange:e=>u("bgPosition",e.target.value),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]}),(0,dh.jsx)("hr",{className:"dark:border-gray-700"}),(0,dh.jsxs)("div",{className:"space-y-3",children:[(0,dh.jsx)("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"\u6309\u9215\u8207\u5f37\u8abf\u8272 (Buttons)"}),(0,dh.jsxs)("div",{className:"flex gap-2 text-sm bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[(0,dh.jsx)("button",{onClick:()=>u("primaryType","solid"),className:"flex-1 py-1 rounded ".concat("solid"===o.primaryType?"bg-white shadow text-blue-600 font-bold":"text-gray-500"),children:"\u55ae\u8272"}),(0,dh.jsx)("button",{onClick:()=>u("primaryType","gradient"),className:"flex-1 py-1 rounded ".concat("gradient"===o.primaryType?"bg-white shadow text-blue-600 font-bold":"text-gray-500"),children:"\u6f38\u5c64"})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("input",{type:"color",value:o.primaryColor1,onChange:e=>u("primaryColor1",e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0"}),(0,dh.jsx)("span",{className:"text-xs text-gray-500",children:"\u4e3b\u8272"})]}),"gradient"===o.primaryType&&(0,dh.jsxs)("div",{className:"space-y-2 pl-2 border-l-2 border-blue-500/30",children:[(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("input",{type:"color",value:o.primaryColor2,onChange:e=>u("primaryColor2",e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0"}),(0,dh.jsx)("span",{className:"text-xs text-gray-500",children:"\u6f38\u5c64\u8272"})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsxs)("label",{className:"text-xs text-gray-500 flex justify-between",children:["\u65b9\u5411: ",o.primaryDirection,"\xb0"]}),(0,dh.jsx)("input",{type:"range",min:"0",max:"360",value:o.primaryDirection,onChange:e=>u("primaryDirection",e.target.value),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]}),(0,dh.jsx)("hr",{className:"dark:border-gray-700"}),(0,dh.jsxs)("div",{className:"space-y-3",children:[(0,dh.jsx)("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"\u5361\u7247\u8207\u5217\u8868 (Cards)"}),(0,dh.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dh.jsx)("span",{className:"text-sm dark:text-gray-300",children:"\u9805\u76ee\u80cc\u666f\u8272"}),(0,dh.jsx)("input",{type:"color",value:o.cardItemBg||"#374151",onChange:e=>u("cardItemBg",e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0"})]}),(0,dh.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dh.jsx)("span",{className:"text-sm dark:text-gray-300",children:"\u9805\u76ee\u6587\u5b57\u8272"}),(0,dh.jsx)("input",{type:"color",value:o.cardItemText||"#ffffff",onChange:e=>u("cardItemText",e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0"})]})]}),(0,dh.jsx)("hr",{className:"dark:border-gray-700"}),(0,dh.jsxs)("div",{className:"space-y-3",children:[(0,dh.jsx)("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"\u5176\u4ed6 (Global)"}),(0,dh.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dh.jsx)("span",{className:"text-sm dark:text-gray-300",children:"\u5168\u7ad9\u6587\u5b57\u984f\u8272"}),(0,dh.jsx)("input",{type:"color",value:o.textColor,onChange:e=>u("textColor",e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0"})]}),(0,dh.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dh.jsx)("span",{className:"text-sm dark:text-gray-300",children:"\u4e3b\u8981\u5bb9\u5668\u80cc\u666f"}),(0,dh.jsx)("input",{type:"color",value:o.cardBgColor,onChange:e=>u("cardBgColor",e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0"})]})]})]}),(0,dh.jsxs)("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-between gap-2",children:[(0,dh.jsxs)("button",{onClick:()=>{l(i)},className:"px-3 py-2 text-sm text-gray-500 hover:text-red-500 flex items-center gap-1",children:[(0,dh.jsx)(jh,{size:14})," \u91cd\u7f6e"]}),(0,dh.jsxs)("button",{onClick:()=>s(o),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold flex items-center justify-center gap-2",children:[(0,dh.jsx)(Vd,{size:16})," \u5132\u5b58\u4e26\u5957\u7528"]})]})]})})},Ah=y("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Dh=y("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Mh=y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Lh=e=>{var t,n,r,a;let{item:s,isHistory:i,theme:o,updateItemValue:l,handleSettleAll:c,handleDelete:u,confirmSettleId:d,setConfirmSettleId:h,confirmDeleteId:f,setConfirmDeleteId:p,currentUser:m}=e;const g=s.listingHistory||[],{perPersonSplit:y,totalListingFee:v}=function(e,t,n){var r;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const i=parseFloat(e)||0,o=parseFloat(a)||0,l=i*((null===(r=Jd[t])||void 0===r?void 0:r.tax)||0),c=s.reduce((e,t)=>e+Math.floor(.02*(parseFloat(t)||0)),0),u=Math.floor(i-l-o-c),d=n>0?n:1;let h=Math.floor(u/d);return{afterTaxPrice:u,perPersonSplit:1e4*Math.floor(h/1e4),taxAmount:l,cost:o,totalListingFee:c}}(s.price,s.exchangeType,(null===(t=s.participants)||void 0===t?void 0:t.length)||0,s.cost,g);return(0,dh.jsxs)("div",{className:"rounded-xl shadow-md border-l-4 p-6 relative transition-colors ".concat(i?"border-gray-500 opacity-90":"border-blue-500"),style:{background:"var(--card-bg)",color:"var(--card-text)"},children:[(0,dh.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,dh.jsxs)("div",{className:"flex flex-col gap-1 w-full pr-10",children:[(0,dh.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,dh.jsx)("span",{className:"bg-blue-100 text-blue-800 font-bold px-2 py-1 rounded text-xs",children:s.seller}),(0,dh.jsx)("h3",{className:"text-xl font-bold",children:s.itemName}),(0,dh.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full border bg-green-100 text-green-700 border-green-200",children:(null===(n=Jd[s.exchangeType])||void 0===n?void 0:n.label)||"\u672a\u77e5"})]}),i&&(0,dh.jsxs)("div",{className:"text-xs text-gray-400 flex gap-2",children:[(0,dh.jsxs)("span",{children:["\u5efa: ",rh(s.createdAt)]}),(0,dh.jsxs)("span",{children:["\u7d50: ",rh(s.settledAt)]})]})]}),(0,dh.jsx)("div",{className:"absolute top-4 right-4 z-10",children:f===s.id?(0,dh.jsxs)("div",{className:"flex gap-2 bg-red-50 p-1 rounded border border-red-200",children:[(0,dh.jsx)("button",{onClick:()=>u(s.id),className:"text-xs bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 transition-colors",children:"\u522a\u9664"}),(0,dh.jsx)("button",{onClick:()=>p(null),className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-300 transition-colors",children:"\u53d6\u6d88"})]}):(0,dh.jsx)("button",{onClick:()=>{if(s.seller!==m)return alert("\u6b0a\u9650\u4e0d\u8db3\uff1a\u53ea\u6709\u8ca9\u8ce3\u4eba (".concat(s.seller,") \u53ef\u4ee5\u522a\u9664\u6b64\u9805\u76ee")),void nh(m,"\u6b0a\u9650\u4e0d\u8db3","\u5617\u8a66\u522a\u9664\u975e\u672c\u4eba\u7269\u54c1\uff1a".concat(s.itemName," (\u8ce3\u5bb6: ").concat(s.seller,")"));p(s.id),h(null)},className:"text-gray-400 hover:text-red-500 p-1 rounded hover:bg-gray-100 transition-colors",children:(0,dh.jsx)(Hd,{size:18})})})]}),(0,dh.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 rounded mb-4 bg-black/5",children:[(0,dh.jsxs)("div",{className:"flex flex-col",children:[(0,dh.jsx)("span",{className:"text-xs opacity-70",children:"\u552e\u50f9 (\u542b\u7a05)"}),(0,dh.jsx)("div",{className:"text-lg font-bold",children:i?s.price:(0,dh.jsx)("input",{type:"number",className:"bg-transparent w-full border-b border-gray-400/30 outline-none cursor-not-allowed opacity-80",value:s.price,readOnly:!0,title:"\u8acb\u900f\u904e\u53f3\u5074\u300c\u520a\u767b\u8cbb\u300d\u7684 + \u865f\u4f86\u66f4\u65b0\u552e\u50f9"})}),(0,dh.jsxs)("div",{className:"text-[10px] opacity-60 mt-1",children:["\u7a05: ",(s.price*((null===(r=Jd[s.exchangeType])||void 0===r?void 0:r.tax)||0)).toFixed(0)]})]}),(0,dh.jsxs)("div",{className:"flex flex-col",children:[(0,dh.jsxs)("span",{className:"text-xs opacity-70 flex items-center gap-1",children:["\u520a\u767b\u8cbb (2%)",!i&&(0,dh.jsx)("button",{onClick:()=>{const e=prompt("\u8acb\u8f38\u5165\u300c\u91cd\u65b0\u520a\u767b\u300d\u7684\u65b0\u50f9\u683c (\u7cfb\u7d71\u5c07\u81ea\u52d5\u66f4\u65b0\u552e\u50f9\u4e26\u8a08\u7b972%\u520a\u767b\u8cbb):",s.price);if(e){const t=parseFloat(e);if(!isNaN(t)){const e=[...g,t];l(s.id,"listingHistory",e),l(s.id,"price",t)}}},className:"bg-blue-500 text-white rounded-full p-0.5 hover:bg-blue-600 shadow",title:"\u91cd\u65b0\u520a\u767b (\u66f4\u65b0\u552e\u50f9)",children:(0,dh.jsx)(Wd,{size:10})})]}),(0,dh.jsxs)("div",{className:"flex flex-col gap-1 mt-1 max-h-20 overflow-y-auto",children:[g.map((e,t)=>(0,dh.jsxs)("div",{className:"flex items-center justify-between text-xs bg-black/10 p-1 rounded",children:[(0,dh.jsxs)("span",{children:["$",e," ",(0,dh.jsxs)("span",{className:"opacity-60",children:["\u2192 ",Math.floor(.02*e)]})]}),!i&&(0,dh.jsx)("button",{onClick:()=>(e=>{const t=g.filter((t,n)=>n!==e);l(s.id,"listingHistory",t)})(t),className:"text-red-400 hover:text-red-600",children:(0,dh.jsx)(wh,{size:10})})]},t)),0===g.length&&(0,dh.jsx)("span",{className:"opacity-40 text-xs",children:"- \u7121\u7d00\u9304 -"})]}),(0,dh.jsxs)("div",{className:"text-[10px] text-blue-500 mt-1 font-bold",children:["\u7e3d\u8a08: ",v]})]}),(0,dh.jsxs)("div",{className:"flex flex-col",children:[(0,dh.jsx)("span",{className:"text-xs opacity-70",children:"\u984d\u5916\u6210\u672c (\u624b\u52d5)"}),(0,dh.jsx)("div",{className:"flex items-center gap-2",children:i?(0,dh.jsxs)("span",{className:"text-red-400 font-mono",children:["-",s.cost||0]}):(0,dh.jsx)("input",{type:"number",className:"w-full text-right rounded border bg-transparent border-gray-400 text-sm p-1",value:s.cost||0,onChange:e=>l(s.id,"cost",e.target.value)})}),(0,dh.jsxs)("div",{className:"text-xs text-green-500 mt-2 font-bold border-t pt-1 border-gray-300",children:["\u6de8\u5229/\u4eba: ",y.toLocaleString()]})]})]}),(0,dh.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(a=s.participants)||void 0===a?void 0:a.map((e,t)=>(0,dh.jsx)("div",{className:"px-2 py-1 rounded border text-xs flex items-center select-none bg-black/10 opacity-80",children:e.name},t))}),!i&&(0,dh.jsx)("div",{className:"mt-4 flex justify-end",children:d===s.id?(0,dh.jsxs)("div",{className:"flex gap-2 items-center flex-wrap justify-end",children:[(0,dh.jsxs)("span",{className:"text-sm text-red-500",children:["\u5c07 ",(0,dh.jsxs)("b",{children:["$",y]}),"/\u4eba \u52a0\u5165\u9918\u984d\u8868?"]}),(0,dh.jsx)("button",{onClick:()=>c(s,y),className:"bg-red-500 text-white px-3 py-1 rounded text-sm",children:"\u78ba\u8a8d"}),(0,dh.jsx)("button",{onClick:()=>h(null),className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"\u53d6\u6d88"})]}):(0,dh.jsxs)("button",{onClick:()=>{if(s.seller!==m)return alert("\u6b0a\u9650\u4e0d\u8db3\uff1a\u53ea\u6709\u8ca9\u8ce3\u4eba (".concat(s.seller,") \u53ef\u4ee5\u57f7\u884c\u6b64\u64cd\u4f5c")),void nh(m,"\u6b0a\u9650\u4e0d\u8db3","\u5617\u8a66\u51fa\u552e\u975e\u672c\u4eba\u7269\u54c1\uff1a".concat(s.itemName," (\u8ce3\u5bb6: ").concat(s.seller,")"));h(s.id),p(null)},className:"flex items-center gap-2 px-4 py-2 rounded font-bold text-sm bg-blue-600 text-white shadow hover:bg-blue-700",children:[(0,dh.jsx)(Mh,{size:16})," \u5df2\u51fa\u552e"]})})]})},Ph=y("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Oh=e=>{let{isOpen:t,onClose:n,theme:a,isDarkMode:s,currentUser:i}=e;const[o,l]=(0,r.useState)({}),[u,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!t||!Fd)return;const e=Td(vu(Fd,"settlement_data","main_grid"),e=>{e.exists()?l(e.data().matrix||{}):l({}),d(!1)});return()=>e()},[t]);const h=e=>{const t=[];return Object.keys(e).forEach(n=>{const r=e[n];if(r>0){const[e,a]=n.split("_");t.push("".concat(e.padEnd(4,"\u3000")," \u2794 ").concat(a.padEnd(4,"\u3000")," : $").concat(r.toLocaleString()))}}),t.length>0?t.join("\n"):"(\u7121\u50b5\u52d9)"};if(!t)return null;const f={headerCell:s?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-700 border-gray-300",headerCellSticky:s?"bg-gray-800 text-gray-200 border-gray-600":"bg-gray-50 text-gray-700 border-gray-300",totalHeader:s?"bg-blue-900/50 text-blue-200 border-gray-600":"bg-blue-50 text-blue-800 border-gray-300",rowHeader:s?"bg-gray-800 text-gray-200 border-gray-600":"bg-gray-50 text-gray-800 border-gray-300",cell:s?"border-gray-600":"border-gray-300",input:s?"text-gray-100":"text-gray-800",selfCell:s?"bg-black/50":"bg-black/80",rowTotal:s?"bg-blue-900/30 text-blue-400 border-gray-600":"bg-blue-50/30 text-blue-600 border-gray-300",incomeHeader:s?"bg-green-900/50 text-green-200 border-gray-600":"bg-green-100 text-green-800 border-gray-300",incomeLabel:s?"bg-green-900/30 text-green-200 border-gray-600":"bg-green-50/50 text-green-800 border-gray-300",incomeCell:s?"text-green-400 border-gray-600":"text-green-600 border-gray-300",emptyCorner:s?"bg-gray-700 border-gray-600":"bg-gray-200 border-gray-300"};return(0,dh.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 overflow-auto",children:(0,dh.jsxs)("div",{className:"w-full max-w-6xl rounded-xl p-6 h-[90vh] flex flex-col ".concat(a.card),children:[(0,dh.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b pb-2 ".concat(s?"border-gray-700":"border-gray-200"),children:[(0,dh.jsxs)("div",{className:"flex items-center gap-4",children:[(0,dh.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 ".concat(a.text),children:[(0,dh.jsx)(Ah,{size:24})," \u6210\u54e1\u9918\u984d\u8868 (Excel \u6a21\u5f0f)"]}),(0,dh.jsxs)("button",{onClick:async()=>{if("\u8a2a\u5ba2"===i)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(!Fd)return;if(!window.confirm("\u78ba\u5b9a\u8981\u57f7\u884c\u300c\u81ea\u52d5\u5283\u5e33\u300d\u55ce\uff1f\n\u9019\u5c07\u6703\u91cd\u65b0\u8a08\u7b97\u4e26\u8986\u84cb\u76ee\u524d\u7684\u8868\u683c\uff0c\u5c07\u6240\u6709\u8907\u96dc\u7684\u50b5\u52d9\u7c21\u5316\u70ba\u6700\u5c11\u7b46\u6578\u3002"))return;const e=h(o),t={};Yd.forEach(e=>t[e]=0),Yd.forEach(e=>{Yd.forEach(n=>{if(e===n)return;const r=parseFloat(o["".concat(e,"_").concat(n)])||0;t[e]-=r,t[n]+=r})});let n=[],r=[];Yd.forEach(e=>{const a=t[e];a<-1?n.push({name:e,balance:Math.abs(a)}):a>1&&r.push({name:e,balance:a})}),n.sort((e,t)=>t.balance-e.balance),r.sort((e,t)=>t.balance-e.balance);const a={};let s=0,l=0;for(;s<n.length&&l<r.length;){let e=n[s],t=r[l],i=Math.min(e.balance,t.balance);const o="".concat(e.name,"_").concat(t.name);a[o]=(a[o]||0)+i,e.balance-=i,t.balance-=i,e.balance<1&&s++,t.balance<1&&l++}const c=h(a);try{await Nd(vu(Fd,"settlement_data","main_grid"),{matrix:a},{merge:!1});const t="\n\u2696\ufe0f **[\u81ea\u52d5\u5283\u5e33\u5831\u544a]** \u7531 ".concat(i," \u57f7\u884c\n\n**\ud83d\udccb \u5283\u5e33\u524d (\u539f\u59cb\u50b5\u52d9):**\n```text\n").concat(e,"\n```\n\n**\u2728 \u5283\u5e33\u5f8c (\u7c21\u5316\u50b5\u52d9):**\n```text\n").concat(c,"\n```\n");th(t),nh(i,"\u57f7\u884c\u81ea\u52d5\u5283\u5e33","\u91cd\u7f6e\u4e26\u7c21\u5316\u6240\u6709\u50b5\u52d9"),alert("\u5283\u5e33\u5b8c\u6210\uff01\u8a73\u7d30\u5831\u8868\u5df2\u767c\u9001\u81f3 Discord\u3002")}catch(u){console.error("Auto balance failed",u),alert("\u5283\u5e33\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002")}},className:"flex items-center gap-2 px-3 py-1 text-sm bg-purple-600 text-white rounded shadow transition-colors ".concat("\u8a2a\u5ba2"===i?"opacity-50 cursor-not-allowed":"hover:bg-purple-700"),title:"\u91cd\u65b0\u8a08\u7b97\u4e26\u7c21\u5316\u6240\u6709\u50b5\u52d9",children:[(0,dh.jsx)(Ph,{size:16})," \u81ea\u52d5\u5283\u5e33"]})]}),(0,dh.jsx)("button",{onClick:n,className:"p-1 rounded ".concat(s?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-200 text-gray-500"),children:(0,dh.jsx)(wh,{size:24})})]}),(0,dh.jsx)("div",{className:"flex-1 overflow-auto",children:u?(0,dh.jsx)("div",{className:"p-10 text-center ".concat(a.subText),children:"\u8f09\u5165\u4e2d..."}):(0,dh.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,dh.jsx)("thead",{children:(0,dh.jsxs)("tr",{children:[(0,dh.jsx)("th",{className:"p-2 border min-w-[100px] sticky top-0 left-0 z-20 font-bold ".concat(f.headerCell),children:"\u4ed8\u6b3e\\\u6536\u6b3e"}),Yd.map(e=>(0,dh.jsx)("th",{className:"p-2 border min-w-[100px] sticky top-0 z-10 font-bold ".concat(f.headerCellSticky),children:e},e)),(0,dh.jsx)("th",{className:"p-2 border min-w-[100px] sticky top-0 z-10 font-bold ".concat(f.totalHeader),children:"\u7e3d\u8a08\u652f\u51fa"})]})}),(0,dh.jsxs)("tbody",{children:[Yd.map(e=>{let t=0;return(0,dh.jsxs)("tr",{className:a.card,children:[(0,dh.jsx)("th",{className:"p-2 border sticky left-0 z-10 font-bold ".concat(f.rowHeader),children:e}),Yd.map(n=>{const r=e===n,a="".concat(e,"_").concat(n),s=o[a]||0;r||(t+=s);const u=e===i||n===i||"Wolf"===i;return(0,dh.jsx)("td",{className:"p-1 border text-center ".concat(f.cell," ").concat(r?f.selfCell:""),children:!r&&(0,dh.jsx)("input",{type:"number",className:"w-full h-full p-1 text-center bg-transparent outline-none font-mono ".concat(f.input," ").concat(s>0?"text-red-500 font-bold":"opacity-60"," ").concat(u&&"\u8a2a\u5ba2"!==i?"":"cursor-not-allowed opacity-30"),value:0===s?"":s,placeholder:"0",readOnly:!u||"\u8a2a\u5ba2"===i,onClick:()=>{"\u8a2a\u5ba2"!==i&&(u||(nh(i,"\u6b0a\u9650\u4e0d\u8db3","\u5617\u8a66\u4fee\u6539\u9918\u984d\u8868\uff1a".concat(e," -> ").concat(n)),alert("\u6b0a\u9650\u4e0d\u8db3\uff1a\u60a8\u53ea\u80fd\u4fee\u6539\u8207\u81ea\u5df1\u6709\u95dc\u7684\u5e33\u52d9\uff08\u60a8\u662f\u4ed8\u6b3e\u4eba\u6216\u6536\u6b3e\u4eba\uff09")))},onChange:e=>{if(!u||"\u8a2a\u5ba2"===i)return;const t=e.target.value;l(e=>c(c({},e),{},{[a]:t}))},onBlur:t=>(async(e,n,r)=>{if("\u8a2a\u5ba2"===i)return;const a="".concat(e,"_").concat(n),s=parseFloat(r)||0;if(e===i||n===i||"Wolf"===i)try{const t=vu(Fd,"settlement_data","main_grid"),r=await wd(t);let u=0;if(r.exists()){const e=r.data().matrix||{};u=parseFloat(e[a])||0}if(u!==s){const t="\ud83d\udcdd [\u5e33\u52d9\u4fee\u6539] ".concat(e," \u5c0d ").concat(n," \u7684\u6b20\u6b3e\u5df2\u7531 $").concat(u.toLocaleString()," \u4fee\u6539\u70ba $").concat(s.toLocaleString());th(t),nh(i,"\u4fee\u6539\u9918\u984d\u8868","".concat(e," -> ").concat(n," : ").concat(u," -> ").concat(s))}l(e=>c(c({},e),{},{[a]:s})),await Nd(t,{matrix:c(c({},o),{},{[a]:s})},{merge:!0})}catch(t){console.error("\u66f4\u65b0\u5931\u6557",t),alert("\u66f4\u65b0\u5931\u6557\uff0c\u8acb\u6aa2\u67e5\u7db2\u8def\u6216\u6b0a\u9650")}})(e,n,t.target.value)})},n)}),(0,dh.jsx)("td",{className:"p-2 border text-center font-bold ".concat(f.rowTotal),children:t.toLocaleString()})]},e)}),(0,dh.jsxs)("tr",{className:f.incomeLabel,children:[(0,dh.jsx)("td",{className:"p-2 border text-right sticky left-0 z-10 ".concat(f.incomeHeader),children:"\u9810\u5b9a\u6536\u5165"}),Yd.map(e=>{let t=0;return Yd.forEach(n=>{n!==e&&(t+=parseFloat(o["".concat(n,"_").concat(e)]||0))}),(0,dh.jsx)("td",{className:"p-2 border text-center ".concat(f.incomeCell),children:t.toLocaleString()},e)}),(0,dh.jsx)("td",{className:"p-2 border ".concat(f.emptyCorner)})]})]})]})}),(0,dh.jsxs)("div",{className:"mt-2 text-xs ".concat(a.subText),children:["* \u8aaa\u660e\uff1a\u8868\u683c\u6578\u5b57\u4ee3\u8868\u300c\u4ed8\u6b3e\u4eba\u300d\u6b20\u300c\u6536\u6b3e\u4eba\u300d\u7684\u91d1\u984d\u3002 ",(0,dh.jsx)("br",{}),"* \ud83d\udd12 \u60a8\u53ea\u80fd\u4fee\u6539\u8207\u81ea\u5df1\u6709\u95dc\u7684\u6b04\u4f4d\uff08\u60a8\u662f\u4ed8\u6b3e\u4eba\u6216\u6536\u6b3e\u4eba\uff09\u3002Wolf \u64c1\u6709\u6240\u6709\u4fee\u6539\u6b0a\u9650\u3002"]})]})})},Rh=y("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),zh=y("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Fh=y("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Vh=e=>{var t,n;let{isOpen:a,onClose:s,theme:i,isDarkMode:o}=e;const[l,u]=(0,r.useState)([{id:Date.now(),name:"",qty:1,price:0}]),[d,h]=(0,r.useState)(10),[f,p]=(0,r.useState)("GENERAL"),[m,g]=(0,r.useState)(0),[y,b]=(0,r.useState)(0),[x,w]=(0,r.useState)(0);if((0,r.useEffect)(()=>{var e;const t=l.reduce((e,t)=>e+Number(t.qty)*Number(t.price),0);g(t);const n=Math.ceil(t*(1+d/100));b(n);const r=1-((null===(e=Jd[f])||void 0===e?void 0:e.tax)||0)-.02;w(r>0&&t>0?Math.ceil(n/r):0)},[l,d,f]),!a)return null;const k=(e,t,n)=>{u(l.map(r=>r.id===e?c(c({},r),{},{[t]:n}):r))};return(0,dh.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:(0,dh.jsxs)("div",{className:"w-full max-w-4xl h-[85vh] rounded-xl shadow-2xl flex flex-col ".concat(i.card," border border-gray-500/30"),children:[(0,dh.jsxs)("div",{className:"p-4 border-b flex justify-between items-center ".concat(o?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"),children:[(0,dh.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 ".concat(i.text),children:[(0,dh.jsx)(v,{size:24,className:"text-orange-500"})," \u6210\u672c\u8a66\u7b97\u8207\u5b9a\u50f9\u5de5\u5177"]}),(0,dh.jsxs)("div",{className:"flex gap-2",children:[(0,dh.jsx)("button",{onClick:()=>{window.confirm("\u78ba\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u9805\u76ee\u55ce\uff1f")&&(u([{id:Date.now(),name:"",qty:1,price:0}]),h(10))},className:"p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500",title:"\u91cd\u7f6e",children:(0,dh.jsx)(Rh,{size:20})}),(0,dh.jsx)("button",{onClick:s,className:"p-2 rounded hover:bg-red-500 hover:text-white transition-colors",children:(0,dh.jsx)(wh,{size:24})})]})]}),(0,dh.jsxs)("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[(0,dh.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto border-r border-gray-200 dark:border-gray-700",children:[(0,dh.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,dh.jsx)("h4",{className:"font-bold opacity-70 ".concat(i.text),children:"\u539f\u6599\u6e05\u55ae (\u6210\u672c)"}),(0,dh.jsxs)("button",{onClick:()=>{u([...l,{id:Date.now(),name:"",qty:1,price:0}])},className:"flex items-center gap-1 text-xs bg-blue-600 text-white px-3 py-1.5 rounded hover:bg-blue-700",children:[(0,dh.jsx)(Wd,{size:14})," \u65b0\u589e\u9805\u76ee"]})]}),(0,dh.jsx)("div",{className:"space-y-3",children:l.map((e,t)=>(0,dh.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded ".concat(o?"bg-black/20":"bg-gray-50"),children:[(0,dh.jsxs)("span",{className:"text-xs opacity-50 w-6 text-center",children:[t+1,"."]}),(0,dh.jsx)("input",{type:"text",placeholder:"\u7269\u54c1\u540d\u7a31",className:"flex-1 p-2 rounded border text-sm ".concat(i.input),value:e.name,onChange:t=>k(e.id,"name",t.target.value)}),(0,dh.jsxs)("div",{className:"flex items-center gap-1",children:[(0,dh.jsx)("span",{className:"text-xs opacity-50",children:"\u6578\u91cf"}),(0,dh.jsx)("input",{type:"number",min:"1",className:"w-20 p-2 rounded border text-sm text-center ".concat(i.input),value:e.qty,onChange:t=>k(e.id,"qty",t.target.value)})]}),(0,dh.jsxs)("div",{className:"flex items-center gap-1",children:[(0,dh.jsx)("span",{className:"text-xs opacity-50",children:"\u55ae\u50f9"}),(0,dh.jsx)("input",{type:"number",min:"0",className:"w-24 p-2 rounded border text-sm text-right ".concat(i.input),value:e.price,onChange:t=>k(e.id,"price",t.target.value)})]}),(0,dh.jsxs)("div",{className:"w-24 text-right font-mono font-bold text-sm ".concat(i.subText),children:["$",(e.qty*e.price).toLocaleString()]}),(0,dh.jsx)("button",{onClick:()=>{return t=e.id,void u(l.filter(e=>e.id!==t));var t},className:"p-2 text-gray-400 hover:text-red-500",children:(0,dh.jsx)(Hd,{size:16})})]},e.id))}),(0,dh.jsxs)("div",{className:"mt-6 p-4 rounded-lg flex justify-between items-center ".concat(o?"bg-gray-800":"bg-gray-100"),children:[(0,dh.jsx)("span",{className:"font-bold opacity-70",children:"\u7e3d\u6210\u672c (Total Cost)"}),(0,dh.jsxs)("span",{className:"text-2xl font-mono font-bold text-blue-500",children:["$",m.toLocaleString()]})]})]}),(0,dh.jsxs)("div",{className:"w-full lg:w-96 p-6 flex flex-col gap-6 ".concat(o?"bg-gray-800/50":"bg-gray-50/50"),children:[(0,dh.jsxs)("div",{className:"space-y-4",children:[(0,dh.jsx)("h4",{className:"font-bold opacity-70 border-b pb-2 ".concat(i.text),children:"\u5b9a\u50f9\u53c3\u6578\u8a2d\u5b9a"}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"block text-xs mb-1.5 font-bold ".concat(i.subText),children:"\u4ea4\u6613\u7a05\u7387 (Exchange Type)"}),(0,dh.jsx)("div",{className:"flex gap-2",children:Object.keys(Jd).map(e=>(0,dh.jsxs)("button",{onClick:()=>p(e),className:"flex-1 py-2 rounded text-sm border transition-all\n                                        ".concat(f===e?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-transparent border-gray-300 opacity-60 hover:opacity-100"),children:[Jd[e].label," (",(100*Jd[e].tax).toFixed(0),"%)"]},e))})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"block text-xs mb-1.5 font-bold ".concat(i.subText),children:"\u9810\u671f\u5229\u6f64\u7387 (Profit Margin)"}),(0,dh.jsxs)("div",{className:"relative",children:[(0,dh.jsx)("input",{type:"number",className:"w-full p-3 rounded-lg border text-lg font-bold text-center ".concat(i.input," ").concat(d<0?"text-red-500":"text-green-500"),value:d,onChange:e=>h(parseFloat(e.target.value)||0)}),(0,dh.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-50 font-bold",children:"%"})]}),(0,dh.jsx)("p",{className:"text-[10px] mt-1 text-center opacity-50",children:"* \u8a2d\u5b9a 10% \u4ee3\u8868\u60a8\u5e0c\u671b\u6de8\u8cfa\u6210\u672c\u7684 1.1 \u500d"})]})]}),(0,dh.jsxs)("div",{className:"flex-1 flex flex-col justify-center space-y-2 py-4",children:[(0,dh.jsxs)("div",{className:"flex justify-between items-center text-sm opacity-60",children:[(0,dh.jsx)("span",{children:"\u539f\u59cb\u7e3d\u6210\u672c"}),(0,dh.jsxs)("span",{className:"font-mono",children:["$",m.toLocaleString()]})]}),(0,dh.jsx)("div",{className:"flex justify-center text-gray-400",children:(0,dh.jsx)(Wd,{size:16})}),(0,dh.jsxs)("div",{className:"flex justify-between items-center text-sm font-bold text-green-500",children:[(0,dh.jsxs)("span",{children:["\u9810\u671f\u6de8\u5229 (",d,"%)"]}),(0,dh.jsxs)("span",{className:"font-mono",children:["+$",(y-m).toLocaleString()]})]}),(0,dh.jsx)("div",{className:"flex justify-center text-gray-400",children:(0,dh.jsx)(zh,{size:16})}),(0,dh.jsxs)("div",{className:"p-3 rounded border flex justify-between items-center ".concat(o?"bg-green-900/20 border-green-500/30":"bg-green-50 border-green-200"),children:[(0,dh.jsx)("span",{className:"font-bold text-green-600",children:"\u76ee\u6a19\u6de8\u6536\u5165 (\u5165\u888b)"}),(0,dh.jsxs)("span",{className:"font-mono font-bold text-xl text-green-600",children:["$",y.toLocaleString()]})]})]}),(0,dh.jsxs)("div",{className:"p-5 rounded-xl shadow-lg border-2 ".concat(o?"bg-gray-900 border-orange-500":"bg-white border-orange-500"),children:[(0,dh.jsx)("h5",{className:"text-center text-sm font-bold opacity-70 mb-2 text-orange-500 uppercase tracking-widest",children:"\u5efa\u8b70\u520a\u767b\u50f9\u683c"}),(0,dh.jsxs)("div",{className:"flex justify-center items-center gap-1 text-4xl font-black text-orange-500 mb-2",children:[(0,dh.jsx)(Fh,{size:28,strokeWidth:3}),x.toLocaleString()]}),(0,dh.jsxs)("div",{className:"space-y-1 text-[10px] opacity-60 text-center border-t border-gray-500/20 pt-2 mt-2",children:[(0,dh.jsxs)("div",{className:"flex justify-between",children:[(0,dh.jsxs)("span",{children:["- \u4ea4\u6613\u7a05 (","WORLD"===f?"20%":"10%",")"]}),(0,dh.jsxs)("span",{children:["$",Math.floor(x*(null===(t=Jd[f])||void 0===t?void 0:t.tax)).toLocaleString()]})]}),(0,dh.jsxs)("div",{className:"flex justify-between",children:[(0,dh.jsx)("span",{children:"- \u520a\u767b\u8cbb (2%)"}),(0,dh.jsxs)("span",{children:["$",Math.floor(.02*x).toLocaleString()]})]}),(0,dh.jsxs)("div",{className:"flex justify-between font-bold text-green-500 pt-1",children:[(0,dh.jsx)("span",{children:"= \u5be6\u969b\u5165\u888b"}),(0,dh.jsxs)("span",{children:["$",(x-Math.floor(x*(null===(n=Jd[f])||void 0===n?void 0:n.tax))-Math.floor(.02*x)).toLocaleString()]})]})]})]})]})]})]})})},Uh=e=>{let{isDarkMode:t,dbReady:n,currentUser:a}=e;const[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[g,y]=(0,r.useState)(null),[b,x]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[S,N]=(0,r.useState)({name:"",date:"",dateType:"created"}),[E,_]=(0,r.useState)({seller:a||Yd[0],itemName:"",price:"",cost:0,exchangeType:"WORLD",participants:[...Yd]});(0,r.useEffect)(()=>{a&&_(e=>c(c({},e),{},{seller:a}))},[a]);const[C,T]=(0,r.useState)(Yd[0]);(0,r.useEffect)(()=>{if(!Fd)return;const e=Td(ad(yu(Fd,"active_items"),ld("createdAt","desc")),e=>{i(e.docs.map(e=>c(c({},e.data()),{},{id:e.id})))}),t=Td(ad(yu(Fd,"history_items"),ld("settledAt","desc")),e=>{l(e.docs.map(e=>c(c({},e.data()),{},{id:e.id})))});return()=>{e(),t()}},[n]);const j=async(e,t,n)=>{"\u8a2a\u5ba2"!==a&&Fd&&await Ed(vu(Fd,"active_items",e),{[t]:n})},I=async(e,t)=>{if("\u8a2a\u5ba2"===a)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(Fd)try{await Od(Fd,async n=>{const r=vu(Fd,"settlement_data","main_grid"),a=await n.get(r);let s={};a.exists()&&(s=a.data().matrix||{});const i=e.seller;e.participants.forEach(e=>{if(e.name!==i){const n="".concat(i,"_").concat(e.name),r=parseFloat(s[n])||0;s[n]=r+t}}),n.set(r,{matrix:s},{merge:!0})}),await Cd(yu(Fd,"history_items"),c(c({},e),{},{settledAt:(new Date).toISOString()})),await _d(vu(Fd,"active_items",e.id)),m(null);const n="\ud83d\udcb0 [\u51fa\u552e\u901a\u77e5] \n**".concat(e.seller,"** \u6210\u529f\u51fa\u552e\u4e86 **").concat(e.itemName,"**\uff01\n\u6bcf\u4eba\u5206\u7d05: **$").concat(t.toLocaleString(),"**\n(\u5df2\u81ea\u52d5\u8a08\u5165\u9918\u984d\u8868)");th(n),nh(a,"\u51fa\u552e\u7269\u54c1","".concat(e.itemName," (\u5206\u7d05: $").concat(t,")")),alert("\u5df2\u51fa\u552e\uff01\u6bcf\u4eba\u5206\u7d05 $".concat(t," \u5df2\u52a0\u5165\u9918\u984d\u8868\u3002"))}catch(n){console.error("Settle transaction failed: ",n),alert("\u51fa\u552e\u5931\u6557\uff0c\u8acb\u91cd\u8a66")}},A=async e=>{if("\u8a2a\u5ba2"===a)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(Fd)try{const t=vu(Fd,h?"history_items":"active_items",e),n=await wd(t);if(!n.exists())return void alert("\u627e\u4e0d\u5230\u8a72\u9805\u76ee\uff0c\u53ef\u80fd\u5df2\u88ab\u522a\u9664");const r=n.data();if(r.seller!==a)return alert("\u6b0a\u9650\u4e0d\u8db3\uff1a\u53ea\u6709\u8ca9\u8ce3\u4eba (".concat(r.seller,") \u53ef\u4ee5\u522a\u9664\u6b64\u9805\u76ee")),nh(a,"\u6b0a\u9650\u4e0d\u8db3","\u5617\u8a66\u522a\u9664\u975e\u672c\u4eba\u7269\u54c1\uff1a".concat(r.itemName," (\u8ce3\u5bb6: ").concat(r.seller,")")),void y(null);await _d(t),nh(a,"\u522a\u9664\u8a18\u5e33\u9805\u76ee","".concat(r.itemName," (").concat(h?"\u6b77\u53f2\u7d00\u9304":"\u9032\u884c\u4e2d",")")),y(null)}catch(of){console.error("Delete failed",of),alert("\u522a\u9664\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66")}},D={card:t?"bg-gray-800 border-gray-700":"bg-white border-gray-200",text:t?"text-gray-100":"text-gray-800",subText:t?"text-gray-400":"text-gray-500",input:t?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-200 text-gray-800",sectionBg:t?"bg-gray-700/30":"bg-gray-50"},M=o.filter(e=>{if(S.name&&!e.itemName.toLowerCase().includes(S.name.toLowerCase()))return!1;if(S.date){const t="created"===S.dateType?e.createdAt:e.settledAt;if(!t||!t.startsWith(S.date))return!1}return!0});return(0,dh.jsxs)("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[(0,dh.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,dh.jsx)("h2",{className:"text-xl font-bold border-l-4 pl-3 ".concat(h?"border-gray-500":"border-blue-500"," ").concat(D.text),children:h?"\u6b77\u53f2\u7d00\u9304 (".concat(M.length,")"):"\u9032\u884c\u4e2d\u9805\u76ee (".concat(s.length,")")}),(0,dh.jsxs)("div",{className:"flex gap-2",children:[(0,dh.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-3 py-2 rounded text-white shadow hover:opacity-80 transition-opacity bg-orange-500",children:[(0,dh.jsx)(v,{size:18})," \u6210\u672c\u8a66\u7b97"]}),(0,dh.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-3 py-2 rounded text-white shadow hover:opacity-80 transition-opacity",style:{background:"var(--app-primary)"},children:[(0,dh.jsx)(Ah,{size:18})," \u9918\u984d\u8868\u683c"]}),(0,dh.jsxs)("button",{onClick:()=>f(!h),className:"flex items-center gap-2 px-3 py-2 rounded ".concat(h?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:[(0,dh.jsx)(Dh,{size:18})," ",h?"\u8fd4\u56de":"\u6b77\u53f2"]}),!h&&(0,dh.jsxs)("button",{onClick:()=>{"\u8a2a\u5ba2"===a?alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd"):d(!0)},className:"flex items-center gap-2 px-3 py-2 rounded text-white shadow hover:opacity-80 transition-opacity ".concat("\u8a2a\u5ba2"===a?"opacity-50 cursor-not-allowed":""),style:{background:"var(--app-primary)"},children:[(0,dh.jsx)(Wd,{size:18})," \u65b0\u589e\u9805\u76ee"]})]})]}),h&&(0,dh.jsxs)("div",{className:"p-4 rounded mb-6 flex flex-wrap gap-4 items-end shadow-sm transition-colors",style:{background:"var(--app-card-bg)",color:"var(--app-text)"},children:[(0,dh.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,dh.jsx)("label",{className:"text-xs ".concat(D.subText),children:"\u641c\u5c0b\u540d\u7a31"}),(0,dh.jsx)("input",{type:"text",className:"w-full p-2 rounded border ".concat(D.input),value:S.name,onChange:e=>N(c(c({},S),{},{name:e.target.value}))})]}),(0,dh.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,dh.jsx)("label",{className:"text-xs ".concat(D.subText),children:"\u65e5\u671f"}),(0,dh.jsx)("input",{type:"date",className:"w-full p-2 rounded border ".concat(D.input),value:S.date,onChange:e=>N(c(c({},S),{},{date:e.target.value}))})]}),(0,dh.jsx)("button",{onClick:()=>N({name:"",date:"",dateType:"created"}),className:"p-2 bg-gray-200 rounded hover:bg-red-200",children:(0,dh.jsx)(wh,{size:20})})]}),(0,dh.jsxs)("div",{className:"space-y-6",children:[(h?M:s).map(e=>(0,dh.jsx)(Lh,{item:e,isHistory:h,theme:D,updateItemValue:j,handleSettleAll:I,handleDelete:A,confirmSettleId:p,setConfirmSettleId:m,confirmDeleteId:g,setConfirmDeleteId:y,currentUser:a},e.id)),0===(h?M:s).length&&(0,dh.jsx)("div",{className:"text-center py-20 ".concat(D.subText),children:"\u6c92\u6709\u8cc7\u6599"})]}),u&&(0,dh.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,dh.jsxs)("div",{className:"w-full max-w-2xl rounded-xl p-6 ".concat(t?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,dh.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\u5efa\u7acb\u65b0\u8a18\u5e33\u9805\u76ee"}),(0,dh.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"block text-xs mb-1 opacity-70",children:"\u8ca9\u8ce3\u4eba"}),(0,dh.jsx)("select",{className:"w-full p-2 rounded border ".concat(D.input," bg-gray-100 cursor-not-allowed"),value:E.seller,disabled:!0,children:Yd.map(e=>(0,dh.jsx)("option",{value:e,children:e},e))})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"block text-xs mb-1 opacity-70",children:"\u50f9\u683c"}),(0,dh.jsx)("input",{type:"number",className:"w-full p-2 rounded border ".concat(D.input),value:E.price,onChange:e=>_(c(c({},E),{},{price:e.target.value}))})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"block text-xs mb-1 opacity-70",children:"\u7269\u54c1\u540d\u7a31"}),(0,dh.jsx)("input",{type:"text",className:"w-full p-2 rounded border ".concat(D.input),value:E.itemName,onChange:e=>_(c(c({},E),{},{itemName:e.target.value}))})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"block text-xs mb-1 opacity-70",children:"\u984d\u5916\u6210\u672c (\u624b\u52d5)"}),(0,dh.jsx)("input",{type:"number",className:"w-full p-2 rounded border ".concat(D.input),value:E.cost,onChange:e=>_(c(c({},E),{},{cost:e.target.value}))})]})]}),(0,dh.jsx)("div",{className:"mb-4 flex gap-2",children:Object.keys(Jd).map(e=>(0,dh.jsx)("button",{onClick:()=>_(c(c({},E),{},{exchangeType:e})),className:"flex-1 py-1 rounded border ".concat(E.exchangeType===e?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 opacity-60"),children:Jd[e].label},e))}),(0,dh.jsxs)("div",{className:"mb-4 pt-4 border-t border-gray-200",children:[(0,dh.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,dh.jsx)("select",{className:"flex-1 p-2 rounded border ".concat(D.input),value:C,onChange:e=>T(e.target.value),children:Yd.map(e=>(0,dh.jsx)("option",{value:e,children:e},e))}),(0,dh.jsx)("button",{onClick:()=>{E.participants.includes(C)||_(c(c({},E),{},{participants:[...E.participants,C]}))},className:"bg-green-500 text-white p-2 rounded",children:(0,dh.jsx)(Wd,{})})]}),(0,dh.jsx)("div",{className:"flex flex-wrap gap-2",children:E.participants.map(e=>(0,dh.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded text-sm flex items-center gap-1 text-gray-700",children:[e,(0,dh.jsx)("button",{onClick:()=>{return t=e,void _(c(c({},E),{},{participants:E.participants.filter(e=>e!==t)}));var t},children:(0,dh.jsx)(wh,{size:12})})]},e))})]}),(0,dh.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,dh.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700",children:"\u53d6\u6d88"}),(0,dh.jsx)("button",{onClick:async()=>{if("\u8a2a\u5ba2"===a)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(!Fd)return;if(!E.itemName||!E.price)return void alert("\u8acb\u586b\u5beb\u7269\u54c1\u540d\u7a31\u8207\u50f9\u683c");const e=[...new Set([...E.participants,E.seller])],t=parseFloat(E.price)||0,n=c(c({},E),{},{cost:parseFloat(E.cost)||0,listingHistory:[t],participants:e.map(e=>({name:e})),isSold:!1,createdAt:(new Date).toISOString(),settledAt:null});await Cd(yu(Fd,"active_items"),n),nh(a,"\u65b0\u589e\u8a18\u5e33\u9805\u76ee","".concat(n.itemName," ($").concat(n.price,")")),_({seller:a||Yd[0],itemName:"",price:"",cost:0,exchangeType:"WORLD",participants:[...Yd]}),d(!1),f(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u5efa\u7acb\u9805\u76ee"})]})]})}),(0,dh.jsx)(Oh,{isOpen:b,onClose:()=>x(!1),theme:D,isDarkMode:t,currentUser:a}),(0,dh.jsx)(Vh,{isOpen:w,onClose:()=>k(!1),theme:D,isDarkMode:t})]})},Bh=y("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),qh=y("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Hh=y("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Gh=y("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),Qh=y("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Kh=e=>{let{message:t,isVisible:n}=e;return(0,dh.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[70] transition-all duration-300 pointer-events-none\n      ".concat(n?"translate-y-0 opacity-100":"-translate-y-10 opacity-0"),children:(0,dh.jsxs)("div",{className:"bg-green-600 text-white px-6 py-2 rounded-full shadow-lg font-bold flex items-center gap-2",children:[(0,dh.jsx)(Mh,{size:18}),t]})})},Wh=y("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),$h=y("skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]),Yh=e=>{let{event:t,theme:n,now:r,confirmDeleteId:a,setConfirmDeleteId:s,handleDeleteEvent:i,handleOpenEditEvent:o,handleQuickRefresh:l,handleUndo:c,hasUndo:u,currentUser:d}=e;const h=r&&r-new Date(t.respawnTime)>6e4;return(0,dh.jsxs)("div",{className:"p-3 mb-2 rounded shadow-sm flex justify-between items-center transition-colors relative group\n        ".concat(h?"border-4 border-red-600":"border-l-4"),style:{borderLeftColor:h?void 0:t.color,background:"var(--card-bg)",color:"var(--card-text)"},children:[(0,dh.jsxs)("div",{children:[(0,dh.jsxs)("div",{className:"font-bold text-sm flex items-center gap-2",children:[t.name,t.mapPos&&(0,dh.jsx)(Wh,{size:12,className:"text-blue-500"})]}),(e=>!e||e<=0?null:(0,dh.jsx)("div",{className:"flex gap-0.5 mt-1",children:[...Array(Math.min(e,10))].map((e,t)=>(0,dh.jsx)("img",{src:"/team-accounting/star.png",alt:"star",className:"w-3 h-3 block"},t))}))(t.stars),(0,dh.jsxs)("div",{className:"text-xs opacity-70 flex items-center gap-1 mt-1",children:[(0,dh.jsx)($h,{size:10})," \u4ea1: ",sh(new Date(t.deathTime))]}),(0,dh.jsxs)("div",{className:"text-lg font-mono font-bold flex items-center gap-1 ".concat(h?"text-red-500 animate-pulse":"text-blue-500"),children:[(0,dh.jsx)(Bh,{size:14})," ",sh(new Date(t.respawnTime))]})]}),(0,dh.jsxs)("div",{className:"flex flex-col gap-2 absolute right-3 top-3",children:[(0,dh.jsx)("button",{onClick:e=>{if(e.stopPropagation(),"\u8a2a\u5ba2"===d)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");l(t)},className:"p-1.5 bg-blue-500 text-white rounded-full shadow hover:bg-blue-600 transition-transform active:scale-95",title:"\u4ee5\u7576\u524d\u6642\u9593\u5237\u65b0",children:(0,dh.jsx)(Rh,{size:14})}),u&&(0,dh.jsx)("button",{onClick:e=>{if(e.stopPropagation(),"\u8a2a\u5ba2"===d)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");c(t)},className:"p-1.5 bg-gray-500 text-white rounded-full shadow hover:bg-gray-600 transition-transform active:scale-95",title:"\u56de\u5fa9\u4e0a\u4e00\u6b21\u6642\u9593 (\u6700\u591a3\u6b65)",children:(0,dh.jsx)(jh,{size:14})})]})]})},Xh=e=>{let{displayEvents:t,now:n,globalSettings:r}=e;if(!t||0===t.length)return null;const a=(null===r||void 0===r?void 0:r.mapLineGapSecs)||120,s=[...t].sort((e,t)=>new Date(e.respawnTime)-new Date(t.respawnTime)),i=[];if(s.length>0){let e=[s[0]];for(let t=1;t<s.length;t++){const n=e[e.length-1];Math.abs(new Date(s[t].respawnTime)-new Date(n.respawnTime))/1e3<=a?e.push(s[t]):(i.push(e),e=[s[t]])}i.push(e)}if(0===i.length)return null;if((new Date(i[0][0].respawnTime)-n)/1e3/60>10)return null;const o=[];for(let l=0;l<i.length-1;l++){const e=i[l],t=i[l+1];e.forEach(e=>{e.mapPos&&t.forEach(t=>{t.mapPos&&o.push((0,dh.jsx)("line",{x1:"".concat(e.mapPos.x,"%"),y1:"".concat(e.mapPos.y,"%"),x2:"".concat(t.mapPos.x,"%"),y2:"".concat(t.mapPos.y,"%"),stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:"2",strokeDasharray:"5,5",className:"path-flow"},"".concat(e.id,"-").concat(t.id)))})})}return(0,dh.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",children:[(0,dh.jsx)("style",{children:"\n          .path-flow {\n            animation: dash 1s linear infinite;\n          }\n          @keyframes dash {\n            to {\n              stroke-dashoffset: -10;\n            }\n          }\n        "}),o]})},Jh=e=>{let{isOpen:t,onClose:n,bossTemplates:r,handleAddQuickRecord:a,isDarkMode:s,theme:i}=e;return t?(0,dh.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:(0,dh.jsxs)("div",{className:"w-full max-w-5xl h-[85vh] rounded-xl flex flex-col relative shadow-2xl border-2 ".concat(s?"bg-gray-900 border-gray-700":"bg-white border-white"),children:[(0,dh.jsxs)("div",{className:"p-4 border-b flex justify-between items-center ".concat(s?"border-gray-700":"border-gray-200"),children:[(0,dh.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 ".concat(i.text),children:[(0,dh.jsx)(Qd,{size:24,className:"text-yellow-500"})," \u5feb\u901f\u6a19\u7c64 (\u9ede\u64ca\u5373\u7d00\u9304)"]}),(0,dh.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-red-500 hover:text-white transition-colors",children:(0,dh.jsx)(wh,{size:24})})]}),(0,dh.jsxs)("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[(0,dh.jsxs)("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center ".concat(s?"bg-gray-800":"bg-gray-100"),children:[(0,dh.jsxs)("div",{className:"relative w-auto h-auto max-w-full max-h-full",style:{aspectRatio:"1152/851"},children:[(0,dh.jsx)("img",{src:Zd,alt:"Map",className:"w-full h-full block pointer-events-none opacity-80"}),r.filter(e=>e.mapPos).map((e,t)=>(0,dh.jsx)("div",{onClick:()=>a(e),className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group hover:scale-110 transition-transform z-10",style:{left:"".concat(e.mapPos.x,"%"),top:"".concat(e.mapPos.y,"%")},title:"\u9ede\u64ca\u7d00\u9304: ".concat(e.name),children:(0,dh.jsxs)("div",{className:"relative",children:[(0,dh.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:e.color}}),(0,dh.jsx)("div",{className:"absolute top-5 left-1/2 -translate-x-1/2 text-[10px] px-1.5 py-0.5 rounded whitespace-nowrap font-bold shadow-md\n                        ".concat(s?"bg-black/80 text-white":"bg-white/90 text-gray-800"),children:e.name})]})},e.id))]}),(0,dh.jsx)("div",{className:"absolute bottom-4 left-4 text-xs opacity-50 bg-black/30 px-2 py-1 rounded text-white pointer-events-none",children:"* \u9ede\u64ca\u5730\u5716\u4e0a\u7684\u9ede\u6216\u53f3\u5074\u5217\u8868\u7686\u53ef\u5feb\u901f\u7d00\u9304"})]}),(0,dh.jsx)("div",{className:"w-full lg:w-72 border-l overflow-y-auto ".concat(s?"border-gray-700 bg-gray-900":"border-gray-200 bg-white"),children:(0,dh.jsxs)("div",{className:"p-3",children:[(0,dh.jsx)("h4",{className:"text-sm font-bold mb-3 opacity-70 ".concat(i.text),children:"Boss \u5217\u8868"}),(0,dh.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,dh.jsxs)("button",{onClick:()=>a(e),className:"w-full text-left p-2 rounded flex items-center gap-2 transition-all active:scale-95\n                      ".concat(s?"hover:bg-gray-800 border border-gray-700":"hover:bg-gray-50 border border-gray-100 shadow-sm"),children:[(0,dh.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,dh.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dh.jsx)("div",{className:"font-bold text-sm truncate ".concat(i.text),children:e.name}),(0,dh.jsxs)("div",{className:"text-xs opacity-60 ".concat(i.text),children:["CD: ",e.respawnMinutes,"m"]})]}),(0,dh.jsx)(Wd,{size:16,className:"opacity-40"})]},e.id))})]})})]})]})}):null},Zh=y("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ef=e=>{let{isOpen:t,onClose:n,isDarkMode:a,currentUser:s}=e;const[i,o]=(0,r.useState)([]),[l,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(new Date),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[b,x]=(0,r.useState)({name:"",interval:60,color:"#FF5733"}),[w,S]=(0,r.useState)({typeId:"",deathTime:"",deathDate:""});(0,r.useEffect)(()=>{if(!t||!Fd)return;const e=setInterval(()=>h(new Date),6e4);h(new Date);const n=Td(ad(yu(Fd,"timeline_types"),ld("interval")),e=>o(e.docs.map(e=>c({id:e.id},e.data())))),r=Td(ad(yu(Fd,"timeline_records"),ld("deathTimestamp","desc")),e=>u(e.docs.map(e=>c({id:e.id},e.data()))));return()=>{clearInterval(e),n(),r()}},[t]);const N=e=>{const t=new Date(e);t.setHours(0,0,0,0);const n=new Date(e);n.setHours(23,59,59,999);let r=[];l.forEach(e=>{const a=i.find(t=>t.id===e.typeId);if(!a)return;const s=60*a.interval*1e3;let o=e.deathTimestamp;if(o<t.getTime()){const e=t.getTime()-o;o+=Math.floor(e/s)*s}for(;o<=n.getTime()+s;){if(o>=t.getTime()&&o<=n.getTime()){const t=new Date(o),n=(60*t.getHours()+t.getMinutes())/1440*100;r.push({id:e.id+"_"+o,percent:n,time:ah(t),color:a.color,name:a.name,originalRecordId:e.id,interval:a.interval})}o+=s}}),r.sort((e,t)=>e.percent-t.percent);const a=[-10,-10,-10,-10];return r.map(e=>{let t=0;for(let n=0;n<a.length;n++){if(e.percent>a[n]+2.5){t=n,a[n]=e.percent;break}n===a.length-1&&(t=0,a[0]=e.percent)}return c(c({},e),{},{level:t})})};if(!t)return null;const E=new Date,_=new Date(E);_.setDate(E.getDate()+1);const C=N(E),T=N(_),j=(60*d.getHours()+d.getMinutes())/1440*100,I=[2,5,8,11,14,17,20,23],A=e=>{let{label:t,markers:n,showCurrentLine:r}=e;return(0,dh.jsxs)("div",{className:"mb-10 relative",children:[(0,dh.jsx)("div",{className:"flex justify-between items-end mb-6",children:(0,dh.jsx)("h4",{className:"font-bold text-lg ".concat(a?"text-gray-200":"text-gray-700"),children:t})}),(0,dh.jsxs)("div",{className:"h-16 w-full relative rounded border ".concat(a?"bg-gray-800 border-gray-600":"bg-gray-100 border-gray-300"),children:[I.map(e=>(0,dh.jsx)("div",{className:"absolute top-0 bottom-0 bg-yellow-500/10 border-x border-yellow-500/20 z-0",style:{left:"".concat(e/24*100,"%"),width:"".concat(1/24*100,"%")}},"hl-".concat(e))),[...Array(25)].map((e,t)=>(0,dh.jsx)("div",{className:"absolute top-0 bottom-0 border-l border-gray-400/30 z-10",style:{left:"".concat(t/24*100,"%")},children:(0,dh.jsx)("span",{className:"absolute -top-6 -translate-x-1/2 text-[10px] opacity-70 font-mono font-bold",children:t})},t)),r&&(0,dh.jsx)("div",{className:"absolute top-[-24px] bottom-[-10px] w-0.5 bg-red-500 z-20 shadow-[0_0_8px_rgba(239,68,68,0.8)] pointer-events-none",style:{left:"".concat(j,"%")},children:(0,dh.jsx)("div",{className:"absolute -top-1 -translate-x-1/2 bg-red-500 text-white text-[10px] px-1 rounded font-bold",children:"NOW"})}),n.map((e,t)=>{const n=25*e.level;return(0,dh.jsx)("div",{className:"absolute w-1.5 z-30 hover:z-40 group cursor-pointer transition-all hover:w-3 hover:brightness-125 border-l border-white/20",style:{left:"".concat(e.percent,"%"),backgroundColor:e.color,top:"".concat(n,"%"),height:"".concat(25,"%")},onClick:()=>{window.confirm("\u8981\u522a\u9664\u9019\u500b ".concat(e.name," (").concat(e.time,") \u7684\u6642\u9593\u7dda\u8ffd\u8e64\u55ce\uff1f"))&&(async e=>{if("\u8a2a\u5ba2"===s)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(window.confirm("\u78ba\u5b9a\u522a\u9664\u9019\u689d\u6642\u9593\u7dda\u7d00\u9304\u55ce\uff1f"))try{await _d(vu(Fd,"timeline_records",e))}catch(of){console.error("Delete Record Error:",of),alert("\u522a\u9664\u5931\u6557\uff1a"+of.message)}})(e.originalRecordId)},children:(0,dh.jsxs)("div",{className:"absolute bottom-full mb-1 left-1/2 -translate-x-1/2 px-2 py-1 rounded text-xs whitespace-nowrap shadow-lg hidden group-hover:block z-50 pointer-events-none ".concat(a?"bg-black text-white border border-gray-600":"bg-white text-gray-800 border border-gray-300"),children:[(0,dh.jsxs)("div",{className:"font-bold flex items-center gap-2",children:[(0,dh.jsx)("div",{className:"w-2 h-2 rounded-full",style:{background:e.color}}),e.name]}),(0,dh.jsxs)("div",{className:"font-mono text-center",children:[e.time," (CD:",e.interval,"m)"]})]})},t)})]})]})};return(0,dh.jsxs)("div",{className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:[(0,dh.jsxs)("div",{className:"w-full max-w-6xl h-[90vh] rounded-xl flex flex-col shadow-2xl ".concat(a?"bg-gray-900 text-white":"bg-white text-gray-800"),children:[(0,dh.jsxs)("div",{className:"p-4 border-b border-gray-500/30 flex justify-between items-center",children:[(0,dh.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dh.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,dh.jsx)(Hh,{size:24,className:"text-orange-500"})," Boss \u6642\u9593\u7dda (Timeline)"]}),(0,dh.jsx)("span",{className:"text-xs opacity-50 border px-2 py-0.5 rounded",children:"\u7368\u7acb\u7cfb\u7d71"})]}),(0,dh.jsxs)("div",{className:"flex gap-2",children:[(0,dh.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm",children:[(0,dh.jsx)(k,{size:14})," \u8a2d\u5b9a Boss"]}),(0,dh.jsxs)("button",{onClick:()=>{var e;const t=new Date;S({typeId:(null===(e=i[0])||void 0===e?void 0:e.id)||"",deathDate:t.toISOString().split("T")[0],deathTime:"".concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"))}),v(!0)},className:"flex items-center gap-1 px-3 py-1.5 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm",children:[(0,dh.jsx)(Bh,{size:14})," \u8a2d\u5b9a\u91cd\u751f\u6642\u9593"]}),(0,dh.jsx)("button",{onClick:n,className:"p-1.5 hover:bg-gray-500/20 rounded",children:(0,dh.jsx)(wh,{size:24})})]})]}),(0,dh.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 md:p-10",children:[(0,dh.jsx)(A,{label:"\u4eca\u5929 (Today 24hr)",markers:C,showCurrentLine:!0}),(0,dh.jsx)(A,{label:"\u660e\u5929 (Tomorrow 24hr)",markers:T,showCurrentLine:!1}),(0,dh.jsxs)("div",{className:"mt-8 p-4 rounded border border-gray-500/20 bg-gray-500/5 text-sm opacity-70",children:[(0,dh.jsx)("h5",{className:"font-bold mb-1",children:"\ud83d\udca1 \u8aaa\u660e\uff1a"}),(0,dh.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,dh.jsx)("li",{children:"\u7cfb\u7d71\u6703\u81ea\u52d5\u986f\u793a\u6bcf\u5c0f\u6642\u7684\u523b\u5ea6\u3002"}),(0,dh.jsx)("li",{children:"\u9ec3\u8272\u9ad8\u5149\u5340\u57df\u4ee3\u8868\u91cd\u9ede\u6642\u6bb5 (2, 5, 8, 11 \u9ede)\uff0c\u6642\u9593\u8ef8\u6a19\u8a18\u6703\u81ea\u52d5\u5206\u5c64\u3002"})]})]})]})]}),m&&(0,dh.jsx)("div",{className:"absolute inset-0 z-[70] bg-black/50 flex items-center justify-center p-4",children:(0,dh.jsxs)("div",{className:"w-96 p-6 rounded-lg shadow-xl border ".concat(a?"bg-gray-800 border-gray-600":"bg-white border-gray-200"),children:[(0,dh.jsxs)("h3",{className:"font-bold mb-4 flex justify-between items-center",children:["\u8a2d\u5b9a Boss \u985e\u578b ",(0,dh.jsx)("button",{onClick:()=>g(!1),children:(0,dh.jsx)(wh,{size:18})})]}),(0,dh.jsxs)("div",{className:"space-y-3",children:[(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u540d\u7a31"}),(0,dh.jsx)("input",{type:"text",className:"w-full p-2 border rounded ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),value:b.name,onChange:e=>x(c(c({},b),{},{name:e.target.value}))})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u9593\u9694 (\u5206)"}),(0,dh.jsx)("input",{type:"number",className:"w-full p-2 border rounded ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),value:b.interval,onChange:e=>x(c(c({},b),{},{interval:Number(e.target.value)}))})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u984f\u8272"}),(0,dh.jsx)("input",{type:"color",className:"w-full h-10 cursor-pointer rounded",value:b.color,onChange:e=>x(c(c({},b),{},{color:e.target.value}))})]}),(0,dh.jsx)("button",{onClick:async()=>{if("\u8a2a\u5ba2"===s)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(!b.name||b.interval<=0)return alert("\u8acb\u8f38\u5165\u540d\u7a31\u8207\u6709\u6548\u5206\u9418\u6578");p(!0);try{await Cd(yu(Fd,"timeline_types"),b),x({name:"",interval:60,color:"#FF5733"})}catch(of){console.error("Add Type Error:",of),alert("\u65b0\u589e\u5931\u6557\uff1a"+of.message)}finally{p(!1)}},disabled:f,className:"w-full py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700",children:f?(0,dh.jsx)(Zh,{size:16,className:"animate-spin"}):"\u65b0\u589e"})]}),(0,dh.jsxs)("div",{className:"mt-6 border-t pt-4 border-gray-500/30",children:[(0,dh.jsx)("h4",{className:"text-xs font-bold mb-2 opacity-70",children:"\u5df2\u5b58\u985e\u578b\uff1a"}),(0,dh.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-1 pr-1",children:i.map(e=>(0,dh.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 hover:bg-black/10 rounded border border-transparent hover:border-gray-500/20",children:[(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,dh.jsxs)("span",{children:[e.name," (",e.interval,"m)"]})]}),(0,dh.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),e.preventDefault(),"\u8a2a\u5ba2"===s)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(!t)return alert("\u932f\u8aa4\uff1a\u627e\u4e0d\u5230\u8a72\u8a2d\u5b9a\u7684 ID");if(window.confirm("\u522a\u9664\u6b64\u8a2d\u5b9a\u5c07\u4e0d\u6703\u522a\u9664\u5df2\u5b58\u5728\u7684\u7d00\u9304\uff0c\u78ba\u5b9a\u55ce\uff1f"))try{await _d(vu(Fd,"timeline_types",t))}catch(of){console.error("Delete Type Error:",of),alert("\u522a\u9664\u5931\u6557\uff1a"+of.message)}})(t,e.id),className:"text-gray-400 hover:text-red-500",children:(0,dh.jsx)(Hd,{size:14})})]},e.id))})]})]})}),y&&(0,dh.jsx)("div",{className:"absolute inset-0 z-[70] bg-black/50 flex items-center justify-center p-4",children:(0,dh.jsxs)("div",{className:"w-96 p-6 rounded-lg shadow-xl border ".concat(a?"bg-gray-800 border-gray-600":"bg-white border-gray-200"),children:[(0,dh.jsx)("h3",{className:"font-bold mb-4",children:"\u8a2d\u5b9a\u91cd\u751f\u6642\u9593"}),(0,dh.jsxs)("div",{className:"space-y-3",children:[(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u9078\u64c7 Boss"}),(0,dh.jsxs)("select",{className:"w-full p-2 border rounded ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),value:w.typeId,onChange:e=>S(c(c({},w),{},{typeId:e.target.value})),children:[(0,dh.jsx)("option",{value:"",children:"\u8acb\u9078\u64c7..."}),i.map(e=>(0,dh.jsxs)("option",{value:e.id,className:a?"bg-gray-700":"bg-white",children:[e.name," (",e.interval,"m)"]},e.id))]})]}),(0,dh.jsxs)("div",{className:"flex gap-2",children:[(0,dh.jsxs)("div",{className:"flex-1",children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u65e5\u671f"}),(0,dh.jsx)("input",{type:"date",className:"w-full p-2 border rounded ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),value:w.deathDate,onChange:e=>S(c(c({},w),{},{deathDate:e.target.value}))})]}),(0,dh.jsxs)("div",{className:"flex-1",children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u6642\u9593"}),(0,dh.jsx)("input",{type:"time",className:"w-full p-2 border rounded ".concat(a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),value:w.deathTime,onChange:e=>S(c(c({},w),{},{deathTime:e.target.value}))})]})]}),(0,dh.jsx)("button",{onClick:async()=>{if("\u8a2a\u5ba2"===s)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(!w.typeId||!w.deathDate||!w.deathTime)return alert("\u8cc7\u6599\u4e0d\u5b8c\u6574");p(!0);try{const e="".concat(w.deathDate,"T").concat(w.deathTime),t=new Date(e).getTime();await Cd(yu(Fd,"timeline_records"),{typeId:w.typeId,deathTimestamp:t,creator:s,createdAt:(new Date).getTime()}),v(!1)}catch(of){console.error("Add Record Error:",of),alert("\u65b0\u589e\u7d00\u9304\u5931\u6557\uff1a"+of.message)}finally{p(!1)}},disabled:f,className:"w-full py-2 bg-orange-600 text-white rounded font-bold hover:bg-orange-700 mt-2",children:f?(0,dh.jsx)(Zh,{size:16,className:"animate-spin"}):"\u958b\u59cb\u8ffd\u8e64"})]}),(0,dh.jsx)("button",{onClick:()=>v(!1),className:"mt-4 w-full py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"\u53d6\u6d88"})]})})]})},tf=e=>{let{isDarkMode:t,currentUser:n,globalSettings:a}=e;const[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[u,d]=(0,r.useState)(new Date),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)({}),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[x,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[N,E]=(0,r.useState)(null),[_,C]=(0,r.useState)(null),[T,j]=(0,r.useState)(null),[I,A]=(0,r.useState)("LIST"),[D,M]=(0,r.useState)({name:"",respawnMinutes:60,color:"#FF5733",mapPos:null,stars:0}),[L,P]=(0,r.useState)({templateId:"",timeMode:"current",specificDate:"",specificTime:""}),O=(null===a||void 0===a?void 0:a.mapShowMins)||60,R=(null===a||void 0===a?void 0:a.mapBlinkMins)||10,z={text:t?"text-gray-100":"text-gray-800",subText:t?"text-gray-400":"text-gray-500",card:t?"bg-gray-800 border-gray-700":"bg-white border-gray-200",input:t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"};(0,r.useEffect)(()=>{if(!Fd)return;const e=Td(yu(Fd,"boss_templates"),e=>{i(e.docs.map(e=>c({id:e.id},e.data())))}),t=Td(ad(yu(Fd,"boss_events"),ld("respawnTime","asc")),e=>{l(e.docs.map(e=>c({id:e.id},e.data())))});return()=>{e(),t()}},[]),(0,r.useEffect)(()=>{const e=setInterval(()=>{const e=new Date;d(e)},1e3);return()=>clearInterval(e)},[o]);const F=e=>{f(e),setTimeout(()=>f(null),2e3)},V=async e=>{if(!Fd)return;const t=s.find(t=>t.id===e.templateId);if(!t)return alert("\u627e\u4e0d\u5230\u539f\u59cb Boss \u8a2d\u5b9a (\u53ef\u80fd\u5df2\u88ab\u522a\u9664)\uff0c\u7121\u6cd5\u8a08\u7b97 CD");const r={deathTime:e.deathTime,respawnTime:e.respawnTime};m(t=>{const n=t[e.id]||[],a=[r,...n].slice(0,3);return c(c({},t),{},{[e.id]:a})});const a=new Date,i=new Date(a.getTime()+6e4*t.respawnMinutes);try{await Ed(vu(Fd,"boss_events",e.id),{deathTime:a.toISOString(),respawnTime:i.toISOString()}),nh(n,"\u5feb\u901f\u5237\u65b0","".concat(e.name)),F("\ud83d\udd04 \u5df2\u5237\u65b0\uff1a".concat(e.name))}catch(o){console.error(o),alert("\u5237\u65b0\u5931\u6557")}},U=async e=>{if(!Fd)return;const t=p[e.id];if(!t||0===t.length)return alert("\u6c92\u6709\u53ef\u56de\u5fa9\u7684\u7d00\u9304");const r=t[0];try{await Ed(vu(Fd,"boss_events",e.id),{deathTime:r.deathTime,respawnTime:r.respawnTime}),m(t=>c(c({},t),{},{[e.id]:t[e.id].slice(1)})),nh(n,"\u56de\u5fa9\u6642\u9593","".concat(e.name)),F("zk \u5df2\u56de\u5fa9\uff1a".concat(e.name))}catch(a){console.error(a),alert("\u56de\u5fa9\u5931\u6557")}},B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");e?(C(e.id),M({name:e.name,respawnMinutes:e.respawnMinutes,color:e.color,mapPos:e.mapPos||null,stars:e.stars||0})):(C(null),M({name:"",respawnMinutes:60,color:ch(),mapPos:null,stars:0})),y(!0)},q=e=>{if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");j(e.id);const t=new Date(e.deathTime),r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0"),l=String(t.getSeconds()).padStart(2,"0");P({templateId:e.templateId,timeMode:"specific",specificDate:"".concat(r,"-").concat(a,"-").concat(s),specificTime:"".concat(i,":").concat(o,":").concat(l)}),b(!0)},H=async e=>{if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");try{const t=o.find(t=>t.id===e);await _d(vu(Fd,"boss_events",e)),nh(n,"\u522a\u9664\u6642\u9593\u7d00\u9304",(null===t||void 0===t?void 0:t.name)||"\u672a\u77e5"),E(null)}catch(t){console.error(t)}},G={yesterday:o.filter(e=>"yesterday"===ih(e.respawnTime)),today:o.filter(e=>"today"===ih(e.respawnTime)),tomorrow:o.filter(e=>"tomorrow"===ih(e.respawnTime))},Q=o.sort((e,t)=>new Date(e.respawnTime)-new Date(t.respawnTime)),K=Q.filter(e=>(new Date(e.respawnTime)-u)/1e3/60<=O),W=o.filter(e=>new Date(e.respawnTime)>u).sort((e,t)=>new Date(e.respawnTime)-new Date(t.respawnTime))[0];return(0,dh.jsxs)("div",{className:"p-4 h-[calc(100vh-80px)] flex flex-col",children:[(0,dh.jsx)(Kh,{message:h,isVisible:!!h}),(0,dh.jsxs)("div",{className:"mb-6 p-4 rounded-xl shadow-lg flex flex-col md:flex-row items-center justify-between ".concat(t?"bg-indigo-900/50 text-white":"bg-indigo-600 text-white"),children:[(0,dh.jsxs)("div",{className:"flex items-center gap-4",children:[(0,dh.jsx)(Bh,{size:40,className:"opacity-80"}),(0,dh.jsxs)("div",{className:"flex flex-col",children:[(0,dh.jsx)("span",{className:"text-xs opacity-70 font-bold tracking-widest",children:"CURRENT TIME"}),(0,dh.jsx)("span",{className:"text-3xl font-mono font-bold",children:sh(u)})]})]}),W?(0,dh.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center gap-3 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm border border-white/20",children:[(0,dh.jsx)("span",{className:"text-xs font-bold opacity-70",children:"NEXT BOSS"}),(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("div",{className:"w-3 h-3 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.8)]",style:{backgroundColor:W.color}}),(0,dh.jsx)("span",{className:"text-xl font-bold",children:W.name}),(0,dh.jsx)("span",{className:"font-mono text-lg ml-2",children:ah(W.respawnTime)})]})]}):(0,dh.jsx)("div",{className:"mt-4 md:mt-0 text-white/50 text-sm italic",children:"\u76ee\u524d\u6c92\u6709\u7b49\u5f85\u4e2d\u7684 Boss"})]}),(0,dh.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,dh.jsxs)("button",{onClick:()=>B(),className:"flex items-center gap-2 text-white px-4 py-2 rounded shadow transition-opacity ".concat("\u8a2a\u5ba2"===n?"opacity-50 cursor-not-allowed":"hover:opacity-80"),style:{background:"var(--app-primary)"},children:[(0,dh.jsx)(Wd,{size:18})," \u5efa\u7acb Boss"]}),(0,dh.jsxs)("button",{onClick:()=>{var e;if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");P({templateId:(null===(e=s[0])||void 0===e?void 0:e.id)||"",timeMode:"current",specificDate:oh(),specificTime:lh(),mapPos:null}),b(!0)},className:"flex items-center gap-2 text-white px-4 py-2 rounded shadow transition-opacity ".concat("\u8a2a\u5ba2"===n?"opacity-50 cursor-not-allowed":"hover:opacity-80"),style:{background:"var(--app-primary)"},children:[(0,dh.jsx)(qh,{size:18})," \u65b0\u589e\u7d00\u9304"]}),(0,dh.jsxs)("button",{onClick:()=>"\u8a2a\u5ba2"===n?alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd"):w(!0),className:"flex items-center gap-2 bg-yellow-500 text-white px-4 py-2 rounded shadow ".concat("\u8a2a\u5ba2"===n?"opacity-50 cursor-not-allowed":"hover:bg-yellow-400"),children:[(0,dh.jsx)(Qd,{size:18})," \u5feb\u901f\u6a19\u7c64"]}),(0,dh.jsxs)("div",{className:"ml-auto bg-gray-200 rounded-lg p-1 flex",children:[(0,dh.jsxs)("button",{onClick:()=>S(!0),className:"px-3 py-1 rounded flex items-center gap-1 text-sm border-r border-gray-300 text-gray-500 hover:text-orange-500 hover:bg-gray-100",children:[(0,dh.jsx)(Hh,{size:14})," \u6642\u9593\u7dda"]}),(0,dh.jsxs)("button",{onClick:async()=>{if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(!Fd)return;if(!window.confirm("\u9019\u5c07\u6703\u6839\u64da\u76ee\u524d\u7684 Boss \u8a2d\u5b9a\uff0c\u66f4\u65b0\u6240\u6709\u9032\u884c\u4e2d\u8a08\u6642\u7684\u5730\u5716\u4f4d\u7f6e\u3002\n\u78ba\u5b9a\u8981\u57f7\u884c\u55ce\uff1f"))return;const e=(Nu(t=_n(t=Fd,Su)),new Dd(t,e=>jd(t,e)));var t;let r=0;if(o.forEach(t=>{const n=s.find(e=>e.id===t.templateId);if(n&&n.mapPos&&(!t.mapPos||t.mapPos.x!==n.mapPos.x||t.mapPos.y!==n.mapPos.y)){const a=vu(Fd,"boss_events",t.id);e.update(a,{mapPos:n.mapPos}),r++}}),r>0)try{await e.commit(),nh(n,"\u540c\u6b65\u4f4d\u7f6e","\u66f4\u65b0\u4e86 ".concat(r," \u7b46\u8a08\u6642")),alert("\u5df2\u66f4\u65b0 ".concat(r," \u7b46\u8a08\u6642\u7684\u5730\u5716\u4f4d\u7f6e\uff01"))}catch(t){console.error("Batch update failed",t),alert("\u66f4\u65b0\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66")}else alert("\u76ee\u524d\u6240\u6709\u8a08\u6642\u7684\u4f4d\u7f6e\u7686\u70ba\u6700\u65b0\u3002")},className:"px-3 py-1 rounded flex items-center gap-1 text-sm border-r border-gray-300 text-gray-500 hover:text-blue-500 hover:bg-gray-100",children:[(0,dh.jsx)(kh,{size:14})," \u540c\u6b65\u4f4d\u7f6e"]}),(0,dh.jsxs)("button",{onClick:()=>A("LIST"),className:"px-3 py-1 rounded flex items-center gap-1 text-sm ".concat("LIST"===I?"bg-white shadow text-blue-600":"text-gray-500"),children:[(0,dh.jsx)(Gh,{size:14})," \u5217\u8868"]}),(0,dh.jsxs)("button",{onClick:()=>A("MAP"),className:"px-3 py-1 rounded flex items-center gap-1 text-sm ".concat("MAP"===I?"bg-white shadow text-blue-600":"text-gray-500"),children:[(0,dh.jsx)(Eh,{size:14})," \u5730\u5716"]})]})]}),(0,dh.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 h-full overflow-hidden",children:["LIST"===I?(0,dh.jsx)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4 h-full overflow-y-auto pb-20",children:["yesterday","today","tomorrow"].map(e=>(0,dh.jsxs)("div",{className:"rounded-xl p-4 flex flex-col border border-white/10 transition-colors",style:{background:"var(--app-card-bg)",color:"var(--app-text)"},children:[(0,dh.jsx)("h3",{className:"font-bold mb-3 capitalize text-center py-2 border-b ".concat(z.text),children:"yesterday"===e?"\u6628\u5929":"today"===e?"\u4eca\u5929":"tomorrow"===e?"\u660e\u5929":"\u5176\u4ed6"}),(0,dh.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:G[e].length>0?G[e].map(e=>{var t;const r=s.find(t=>t.id===e.templateId),a=r?r.stars||0:e.stars||0;return(0,dh.jsx)(Yh,{event:c(c({},e),{},{stars:a}),theme:z,now:u,confirmDeleteId:N,setConfirmDeleteId:E,handleDeleteEvent:H,handleOpenEditEvent:q,handleQuickRefresh:V,handleUndo:U,hasUndo:(null===(t=p[e.id])||void 0===t?void 0:t.length)>0,currentUser:n},e.id)}):(0,dh.jsx)("div",{className:"text-center text-sm opacity-40 py-4",children:"\u7121\u91cd\u751f\u7d00\u9304"})})]},e))}):(0,dh.jsx)("div",{className:"flex-1 relative rounded-xl overflow-hidden shadow-inner flex items-center justify-center ".concat(t?"bg-gray-900":"bg-gray-200"),children:(0,dh.jsxs)("div",{className:"relative w-auto h-auto max-w-full max-h-full",style:{aspectRatio:"1152/851"},children:[(0,dh.jsx)("img",{src:Zd,alt:"Game Map",className:"w-full h-full block",onError:e=>{const t=e.target.parentElement;t&&(e.target.style.display="none",t.classList.add("flex","items-center","justify-center","text-gray-500","text-xs","bg-gray-300","h-64"),t.innerText="\u8acb\u5c07 map.jpg \u653e\u5165 public \u8cc7\u6599\u593e")}}),(0,dh.jsx)(Xh,{displayEvents:K,now:u,globalSettings:a}),K.filter(e=>e.mapPos).map((e,n)=>{const r=new Date(e.respawnTime)-u<=60*R*1e3;return(0,dh.jsxs)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center group cursor-pointer z-10",style:{left:"".concat(e.mapPos.x,"%"),top:"".concat(e.mapPos.y,"%")},onClick:()=>q(e),title:"\u9ede\u64ca\u7de8\u8f2f",children:[(0,dh.jsxs)("div",{className:"relative flex items-center justify-center",children:[r&&(0,dh.jsx)("div",{className:"absolute w-full h-full rounded-full animate-ping opacity-75",style:{backgroundColor:e.color,transform:"scale(1.5)"}}),(0,dh.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-white shadow-md flex items-center justify-center relative z-10",style:{backgroundColor:e.color},children:(0,dh.jsx)("span",{className:"text-white text-[10px] font-bold pointer-events-none",children:n+1})})]}),(0,dh.jsx)("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 text-[10px] px-1.5 py-0.5 rounded whitespace-nowrap font-bold shadow-md z-20 pointer-events-none\n                        ".concat(t?"bg-black/80 text-white":"bg-white/90 text-gray-800"),children:e.name}),(0,dh.jsxs)("div",{className:"absolute top-12 bg-black/90 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity z-30 pointer-events-none border border-white/20",children:[n+1,". ",e.name," (",sh(new Date(e.respawnTime)),")"]})]},e.id)})]})}),(0,dh.jsxs)("div",{className:"w-full lg:w-80 rounded-xl p-4 flex flex-col shadow border border-white/10 transition-colors",style:{background:"var(--app-card-bg)",color:"var(--app-text)"},children:[(0,dh.jsxs)("h3",{className:"font-bold mb-3 flex items-center gap-2 ".concat(z.text),children:[(0,dh.jsx)(Gh,{size:20})," \u91cd\u751f\u9806\u5e8f\u5217\u8868"]}),(0,dh.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:Q.length>0?Q.map(e=>(0,dh.jsxs)("div",{className:"flex items-center p-2 mb-1 rounded relative transition-colors border-b border-white/5",style:{background:"var(--card-bg)",color:"var(--card-text)"},children:[(0,dh.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0 mr-2",children:[(0,dh.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,dh.jsx)("span",{className:"text-sm truncate ".concat(z.text),title:e.name,children:e.name})]}),(0,dh.jsx)("div",{className:"w-28 mr-2 text-right font-mono font-bold ".concat(new Date(e.respawnTime)-u<=60*R*1e3?"text-red-500 animate-pulse":"text-blue-500"),children:sh(new Date(e.respawnTime))}),(0,dh.jsxs)("div",{className:"flex gap-1",children:[(0,dh.jsx)("button",{onClick:()=>q(e),className:"text-gray-400 p-1 rounded ".concat("\u8a2a\u5ba2"===n?"opacity-30":"hover:text-blue-500"),title:"\u7de8\u8f2f",children:(0,dh.jsx)(Ud,{size:14})}),N===e.id?(0,dh.jsx)("button",{onClick:()=>H(e.id),className:"bg-red-500 text-white text-[10px] px-2 py-0.5 rounded animate-bounce",children:"\u78ba\u8a8d"}):(0,dh.jsx)("button",{onClick:()=>"\u8a2a\u5ba2"===n?alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd"):E(e.id),className:"text-gray-400 p-1 rounded ".concat("\u8a2a\u5ba2"===n?"opacity-30":"hover:text-red-500"),title:"\u522a\u9664",children:(0,dh.jsx)(Hd,{size:14})})]})]},"list"+e.id)):(0,dh.jsx)("div",{className:"text-center opacity-50 py-4",children:"\u76ee\u524d\u6c92\u6709\u7b49\u5f85\u4e2d\u7684 Boss"})}),(0,dh.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,dh.jsx)("h4",{className:"text-xs font-bold mb-2 opacity-70",children:"Boss \u8a2d\u5b9a\u5217\u8868"}),(0,dh.jsx)("div",{className:"flex flex-col gap-2 max-h-40 overflow-y-auto pr-1",children:s.map(e=>(0,dh.jsxs)("div",{className:"text-xs px-2 py-1.5 rounded flex items-center justify-between mb-1",style:{background:"var(--card-bg)",color:"var(--card-text)"},children:[(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.color}}),(0,dh.jsxs)("span",{className:z.text,children:[e.name," (",e.respawnMinutes,"m)"]})]}),(0,dh.jsxs)("div",{className:"flex gap-2",children:[(0,dh.jsx)("button",{onClick:()=>B(e),className:"text-blue-500 ".concat("\u8a2a\u5ba2"===n?"opacity-30":"hover:text-blue-600"),children:(0,dh.jsx)(Ud,{size:12})}),(0,dh.jsx)("button",{onClick:()=>(async e=>{if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(window.confirm("\u78ba\u5b9a\u8981\u522a\u9664\u9019\u500b Boss \u8a2d\u5b9a\u55ce\uff1f"))try{const t=s.find(t=>t.id===e);await _d(vu(Fd,"boss_templates",e)),nh(n,"\u522a\u9664Boss\u8a2d\u5b9a",(null===t||void 0===t?void 0:t.name)||"\u672a\u77e5")}catch(t){console.error(t)}})(e.id),className:"text-gray-400 ".concat("\u8a2a\u5ba2"===n?"opacity-30":"hover:text-red-500"),children:(0,dh.jsx)(wh,{size:12})})]})]},e.id))})]})]})]}),g&&(0,dh.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,dh.jsxs)("div",{className:"w-full max-w-lg rounded-xl p-6 ".concat(t?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,dh.jsx)("h3",{className:"text-lg font-bold mb-4",children:_?"\u7de8\u8f2f Boss \u8a2d\u5b9a":"\u5efa\u7acb Boss \u8a2d\u5b9a"}),(0,dh.jsxs)("div",{className:"space-y-4",children:[(0,dh.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"Boss \u540d\u7a31"}),(0,dh.jsx)("input",{type:"text",className:"w-full p-2 rounded border ".concat(z.input),value:D.name,onChange:e=>M(c(c({},D),{},{name:e.target.value}))})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u91cd\u751f\u6642\u9593 (\u5206\u9418)"}),(0,dh.jsx)("input",{type:"number",className:"w-full p-2 rounded border ".concat(z.input),value:D.respawnMinutes,onChange:e=>M(c(c({},D),{},{respawnMinutes:parseInt(e.target.value)||0}))})]})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u6a19\u7c64\u984f\u8272"}),(0,dh.jsxs)("div",{className:"flex gap-2",children:[(0,dh.jsx)("input",{type:"color",className:"flex-1 h-10 rounded cursor-pointer",value:D.color,onChange:e=>M(c(c({},D),{},{color:e.target.value}))}),(0,dh.jsx)("button",{onClick:()=>M(c(c({},D),{},{color:ch()})),className:"bg-gray-200 text-gray-700 px-3 rounded hover:bg-gray-300",title:"\u96a8\u6a5f\u984f\u8272",children:(0,dh.jsx)(Rh,{size:16})})]})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u661f\u7d1a (0-10)"}),(0,dh.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dh.jsx)("input",{type:"number",min:"0",max:"10",className:"w-20 p-2 rounded border ".concat(z.input),value:D.stars,onChange:e=>M(c(c({},D),{},{stars:parseInt(e.target.value)||0}))}),(0,dh.jsx)("div",{className:"flex gap-0.5",children:[...Array(Math.min(D.stars||0,10))].map((e,t)=>(0,dh.jsx)(Qh,{size:12,className:"fill-yellow-500 text-yellow-500"},t))})]})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u91cd\u751f\u4f4d\u7f6e (\u8acb\u76f4\u63a5\u9ede\u64ca\u5730\u5716)"}),(0,dh.jsxs)("div",{className:"relative w-full h-auto bg-gray-200 mt-1 cursor-crosshair rounded overflow-hidden",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100,r=(e.clientY-t.top)/t.height*100;M(e=>c(c({},e),{},{mapPos:{x:n,y:r}}))},children:[(0,dh.jsx)("img",{src:Zd,alt:"Map",className:"w-full h-auto block pointer-events-none",onError:e=>{const t=e.target.parentElement;t&&(e.target.style.display="none",t.classList.add("flex","items-center","justify-center","text-gray-500","text-xs","bg-gray-300","h-64"),t.innerText="\u8acb\u5c07 map.jpg \u653e\u5165 public \u8cc7\u6599\u593e")}}),D.mapPos&&(0,dh.jsx)("div",{className:"absolute w-4 h-4 bg-red-500 rounded-full border-2 border-white transform -translate-x-1/2 -translate-y-1/2 pointer-events-none shadow",style:{left:"".concat(D.mapPos.x,"%"),top:"".concat(D.mapPos.y,"%")}})]}),(0,dh.jsx)("div",{className:"text-[10px] text-gray-400 mt-1 text-center",children:D.mapPos?"\u5df2\u8a2d\u5b9a\u4f4d\u7f6e: ".concat(D.mapPos.x.toFixed(1),"%, ").concat(D.mapPos.y.toFixed(1),"%"):"\u5c1a\u672a\u8a2d\u5b9a\u4f4d\u7f6e (\u9078\u586b)"})]})]}),(0,dh.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,dh.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"\u53d6\u6d88"}),(0,dh.jsx)("button",{onClick:async()=>"\u8a2a\u5ba2"===n?alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd"):D.name?(_?(await Ed(vu(Fd,"boss_templates",_),D),nh(n,"\u4fee\u6539Boss\u8a2d\u5b9a",D.name)):(await Cd(yu(Fd,"boss_templates"),D),nh(n,"\u65b0\u589eBoss\u8a2d\u5b9a",D.name)),void y(!1)):alert("\u8acb\u8f38\u5165 Boss \u540d\u7a31"),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:_?"\u66f4\u65b0":"\u5efa\u7acb"})]})]})}),v&&(0,dh.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,dh.jsxs)("div",{className:"w-full max-w-sm rounded-xl p-6 ".concat(t?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,dh.jsx)("h3",{className:"text-lg font-bold mb-4",children:T?"\u7de8\u8f2f\u6a19\u7c64\u6642\u9593":"\u65b0\u589e Boss \u6a19\u7c64"}),(0,dh.jsxs)("div",{className:"space-y-4",children:[(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u9078\u64c7 Boss"}),(0,dh.jsxs)("select",{className:"w-full p-2 rounded border ".concat(z.input),value:L.templateId,onChange:e=>P(c(c({},L),{},{templateId:e.target.value})),disabled:!!T,children:[(0,dh.jsx)("option",{value:"",disabled:!0,children:"\u8acb\u9078\u64c7..."}),s.map(e=>(0,dh.jsxs)("option",{value:e.id,children:[e.name," (CD: ",e.respawnMinutes,"m)"]},e.id))]})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u6b7b\u4ea1\u6642\u9593\u57fa\u6e96"}),!T&&(0,dh.jsxs)("div",{className:"flex gap-2 mt-1 mb-2",children:[(0,dh.jsx)("button",{onClick:()=>P(c(c({},L),{},{timeMode:"current"})),className:"flex-1 py-2 rounded text-sm border ".concat("current"===L.timeMode?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 opacity-60"),children:"\u7576\u524d\u6642\u9593"}),(0,dh.jsx)("button",{onClick:()=>P(c(c({},L),{},{timeMode:"specific"})),className:"flex-1 py-2 rounded text-sm border ".concat("specific"===L.timeMode?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 opacity-60"),children:"\u6307\u5b9a\u6642\u9593"})]})]}),("specific"===L.timeMode||T)&&(0,dh.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u65e5\u671f"}),(0,dh.jsx)("input",{type:"date",className:"w-full p-2 rounded border ".concat(z.input),value:L.specificDate,onChange:e=>P(c(c({},L),{},{specificDate:e.target.value}))})]}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("label",{className:"text-xs opacity-70",children:"\u6642\u9593 (24h)"}),(0,dh.jsx)("input",{type:"time",step:"1",className:"w-full p-2 rounded border ".concat(z.input),value:L.specificTime,onChange:e=>P(c(c({},L),{},{specificTime:e.target.value}))})]})]})]}),(0,dh.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,dh.jsx)("button",{onClick:()=>{b(!1),j(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"\u53d6\u6d88"}),(0,dh.jsx)("button",{onClick:async()=>{var e;if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(!L.templateId)return alert("\u8acb\u9078\u64c7 Boss");const t=s.find(e=>e.id===L.templateId);let r,a,i,l,c,u=new Date;if("specific"===L.timeMode){if(!L.specificDate||!L.specificTime)return alert("\u8acb\u8f38\u5165\u5b8c\u6574\u7684\u65e5\u671f\u8207\u6642\u9593");u=new Date("".concat(L.specificDate,"T").concat(L.specificTime))}if(t)r=new Date(u.getTime()+6e4*t.respawnMinutes),a=t.name,i=t.color,l=t.mapPos,c=t.stars||0;else{if(!T)return alert("\u627e\u4e0d\u5230 Boss \u8a2d\u5b9a (\u53ef\u80fd\u5df2\u88ab\u522a\u9664)");{const e=o.find(e=>e.id===T);if(!e)return alert("\u627e\u4e0d\u5230\u539f\u59cb Boss \u8a2d\u5b9a\uff0c\u7121\u6cd5\u7de8\u8f2f");{const t=new Date(e.respawnTime)-new Date(e.deathTime);r=new Date(u.getTime()+t),a=e.name,i=e.color,l=e.mapPos,c=e.stars||0}}}const d={templateId:L.templateId,name:a,color:i,mapPos:l||null,stars:c||0,deathTime:u.toISOString(),respawnTime:r.toISOString()};T?(await Ed(vu(Fd,"boss_events",T),d),nh(n,"\u4fee\u6539\u6642\u9593\u7d00\u9304",a)):(d.createdAt=(new Date).toISOString(),await Cd(yu(Fd,"boss_events"),d),nh(n,"\u624b\u52d5\u65b0\u589e\u7d00\u9304",a)),b(!1),j(null),P({templateId:(null===(e=s[0])||void 0===e?void 0:e.id)||"",timeMode:"current",specificDate:oh(),specificTime:lh()})},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:T?"\u66f4\u65b0":"\u5efa\u7acb"})]})]})}),(0,dh.jsx)(Jh,{isOpen:x,onClose:()=>w(!1),bossTemplates:s,handleAddQuickRecord:async e=>{if("\u8a2a\u5ba2"===n)return alert("\u8a2a\u5ba2\u6b0a\u9650\u50c5\u4f9b\u700f\u89bd");if(!Fd||!e)return;const t=new Date,r=new Date(t.getTime()+6e4*e.respawnMinutes),a={templateId:e.id,name:e.name,color:e.color,mapPos:e.mapPos||null,stars:e.stars||0,deathTime:t.toISOString(),respawnTime:r.toISOString(),createdAt:(new Date).toISOString()};try{await Cd(yu(Fd,"boss_events"),a),nh(n,"\u5feb\u901f\u7d00\u9304","".concat(e.name)),F("\u2705 \u5df2\u7d00\u9304\uff1a".concat(e.name))}catch(s){console.error("Quick add failed",s),alert("\u65b0\u589e\u5931\u6557")}},isDarkMode:t,theme:z}),(0,dh.jsx)(ef,{isOpen:k,onClose:()=>S(!1),isDarkMode:t,currentUser:n})]})},nf=y("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),rf=e=>{let{isDarkMode:t,currentUser:n,globalSettings:a,theme:s}=e;const[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)([{role:"assistant",content:"\u4f60\u597d\uff01\u6211\u662f\u4f60\u7684\u8a18\u5e33\u52a9\u624b\u3002\u6211\u53ef\u4ee5\u5e6b\u4f60\u67e5\u8a62\u8ab0\u8ce3\u4e86\u591a\u5c11\u9322\u3001\u76ee\u524d\u7684\u6b20\u6b3e\u72c0\u6cc1\u6216\u662f\u6700\u8fd1\u7684\u4ea4\u6613\u7d00\u9304\u3002\u8acb\u554f\u6709\u4ec0\u9ebc\u53ef\u4ee5\u5e6b\u4f60\u7684\u55ce\uff1f"}]),[u,d]=(0,r.useState)(!1),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[l]);const f=async()=>{if(!i.trim())return;if(!a.geminiApiKey)return c(e=>[...e,{role:"user",content:i},{role:"assistant",content:"\u26a0\ufe0f \u8acb\u5148\u81f3\u300c\u7cfb\u7d71\u5168\u57df\u8a2d\u5b9a\u300d\u4e2d\u8a2d\u5b9a Google Gemini API Key \u624d\u80fd\u4f7f\u7528\u6b64\u529f\u80fd\u3002"}]),void o("");const e=i;c(t=>[...t,{role:"user",content:e}]),o(""),d(!0);try{var t,n,r,s,l;const i=ad(yu(Fd,"history_items"),ld("settledAt","desc"),(Cn("limit",u=50),cd._create("limit",u,"F"))),o=await Sd(i),d=await Sd(yu(Fd,"active_items")),h=await wd(vu(Fd,"settlement_data","main_grid")),f=o.docs.map(e=>{const t=e.data();return{"\u540d\u7a31":t.itemName,"\u8ce3\u5bb6":t.seller,"\u50f9\u683c":t.price,"\u53c3\u8207\u8005":(t.participants||[]).map(e=>e.name).join(","),"\u6642\u9593":t.settledAt?t.settledAt.split("T")[0]:"\u672a\u77e5"}}),p=d.docs.map(e=>{const t=e.data();return{"\u540d\u7a31":t.itemName,"\u8ce3\u5bb6":t.seller,"\u50f9\u683c":t.price,"\u53c3\u8207\u8005":(t.participants||[]).map(e=>e.name).join(","),"\u72c0\u614b":"\u8ca9\u8ce3\u4e2d"}}),m=h.exists()?h.data().matrix:{},g="\n          \u4f60\u662f\u4e00\u500b\u8a18\u5e33\u52a9\u624b\u3002\n          \u8acb\u6839\u64da\u4ee5\u4e0b\u7684 JSON \u8cc7\u6599\u56de\u7b54\u4f7f\u7528\u8005\u7684\u554f\u984c\u3002\n          \u8acb\u7528\u7e41\u9ad4\u4e2d\u6587\u56de\u7b54\uff0c\u8a9e\u6c23\u53cb\u5584\u3002\n          \n          [\u76ee\u524d\u7684\u6b20\u6b3e\u72c0\u6cc1 (A_B \u4ee3\u8868 A \u6b20 B \u591a\u5c11\u9322)]:\n          ".concat(JSON.stringify(m),"\n\n          [\u6700\u8fd1 50 \u7b46\u5df2\u51fa\u552e\u7d00\u9304]:\n          ").concat(JSON.stringify(f),"\n\n          [\u6b63\u5728\u8ca9\u8ce3\u4e2d\u7684\u7269\u54c1]:\n          ").concat(JSON.stringify(p),"\n\n          \u5982\u679c\u8cc7\u6599\u4e2d\u6c92\u6709\u7b54\u6848\uff0c\u8acb\u76f4\u63a5\u8aaa\u4f60\u4e0d\u77e5\u9053\uff0c\u4e0d\u8981\u7de8\u9020\u3002\n          \u56de\u7b54\u8acb\u7c21\u6f54\u6709\u529b\u3002\n        "),y=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=".concat(a.geminiApiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:g+"\n\n\u4f7f\u7528\u8005\u554f\u984c: "+e}]}]})}),v=await y.json();if(v.error)throw new Error(v.error.message);const b=(null===(t=v.candidates)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.content)||void 0===r||null===(s=r.parts)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.text)||"\u62b1\u6b49\uff0c\u6211\u7121\u6cd5\u89e3\u8b80\u8cc7\u6599\u3002";c(e=>[...e,{role:"assistant",content:b}])}catch(u){console.error("AI Error:",u),c(e=>[...e,{role:"assistant",content:"\u767c\u751f\u932f\u8aa4: ".concat(u.message)}])}finally{d(!1)}var u};return(0,dh.jsxs)("div",{className:"flex flex-col h-full rounded-xl overflow-hidden ".concat(s.card," shadow-xl border-2 border-yellow-500/30"),children:[(0,dh.jsxs)("div",{className:"p-4 border-b flex items-center gap-3 ".concat(t?"bg-yellow-900/20 border-yellow-500/30":"bg-yellow-50 border-yellow-200"),children:[(0,dh.jsx)("div",{className:"bg-yellow-500 p-2 rounded-full text-white shadow-lg",children:(0,dh.jsx)(x,{size:24})}),(0,dh.jsxs)("div",{children:[(0,dh.jsx)("h3",{className:"font-bold text-lg ".concat(s.text),children:"AI \u8ca1\u52d9\u52a9\u624b"}),(0,dh.jsx)("p",{className:"text-xs opacity-60 ".concat(s.text),children:"Powered by Gemini 1.5 Flash"})]})]}),(0,dh.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-black/5",children:[l.map((e,n)=>(0,dh.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,dh.jsx)("div",{className:"max-w-[80%] p-3 rounded-2xl shadow-sm whitespace-pre-wrap ".concat("user"===e.role?"bg-blue-600 text-white rounded-br-none":"".concat(t?"bg-gray-700 text-gray-100":"bg-white text-gray-800"," rounded-bl-none")),children:e.content})},n)),u&&(0,dh.jsx)("div",{className:"flex justify-start",children:(0,dh.jsxs)("div",{className:"p-3 rounded-2xl rounded-bl-none flex items-center gap-2 ".concat(t?"bg-gray-700":"bg-white"),children:[(0,dh.jsx)(Nh,{size:16,className:"animate-spin text-yellow-500"}),(0,dh.jsx)("span",{className:"text-xs opacity-50",children:"AI \u6b63\u5728\u601d\u8003\u4e2d..."})]})}),(0,dh.jsx)("div",{ref:h})]}),(0,dh.jsxs)("div",{className:"p-4 border-t ".concat(t?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"),children:[(0,dh.jsxs)("div",{className:"flex gap-2",children:[(0,dh.jsx)("input",{type:"text",className:"flex-1 p-3 rounded-xl border focus:ring-2 focus:ring-yellow-500 outline-none transition-all ".concat(s.input),placeholder:"\u8f38\u5165\u554f\u984c\uff0c\u4f8b\u5982\uff1a\u6c34\u91ce\u8ce3\u4e86\u591a\u5c11\u9322\uff1f",value:i,onChange:e=>o(e.target.value),onKeyDown:e=>"Enter"===e.key&&f()}),(0,dh.jsx)("button",{onClick:f,disabled:u,className:"p-3 rounded-xl bg-yellow-500 text-white hover:bg-yellow-600 transition-colors shadow-lg ".concat(u?"opacity-50 cursor-not-allowed":""),children:(0,dh.jsx)(nf,{size:20})})]}),(0,dh.jsx)("div",{className:"text-[10px] text-center mt-2 opacity-40",children:"* AI \u56de\u7b54\u50c5\u4f9b\u53c3\u8003\uff0c\u8acb\u4ee5\u5be6\u969b\u8868\u683c\u70ba\u6e96\u3002"})]})]})};function af(){const[e,t]=(0,r.useState)("BOSS_TIMER"),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)({appVersion:$d,mapShowMins:60,mapBlinkMins:10,mapLineGapMins:2,youtubeVideoId:"",geminiApiKey:""}),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[_,C]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!o||!Fd)return;const e=localStorage.getItem("theme_".concat(o));if(e)try{C(JSON.parse(e))}catch(n){}const t=Td(vu(Fd,"user_settings",o),e=>{e.exists()&&e.data().theme&&C(e.data().theme)});return()=>t()},[o,Fd]);const[T,j]=(0,r.useState)(!1),[I,A]=(0,r.useState)("");(0,r.useEffect)(()=>{Fd&&i(!0);const e=localStorage.getItem("accounting_user");if(e?l(e):d(!0),Fd){const e=Td(vu(Fd,"system_data","global_settings"),e=>{if(e.exists()){const t=e.data();f(t),t.appVersion&&t.appVersion!==$d?(A(t.appVersion),j(!0)):j(!1)}});return()=>e()}},[Fd]);const D={bg:n?"bg-gray-900":"bg-slate-100",nav:n?"bg-gray-800":"bg-slate-900",text:n?"text-gray-100":"text-gray-800",card:n?"bg-gray-800":"bg-white",subText:n?"text-gray-400":"text-gray-500",input:n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"};return(0,dh.jsx)("div",{className:"min-h-screen font-sans transition-colors duration-300",style:c({background:_?"var(--app-bg)":void 0,color:_?"var(--app-text)":void 0},(()=>{if(!_)return{};const e="gradient"===_.bgType?"linear-gradient(".concat(_.bgDirection,"deg, ").concat(_.bgColor1," ").concat(_.bgPosition,"%, ").concat(_.bgColor2," 100%)"):_.bgColor1,t="gradient"===_.primaryType?"linear-gradient(".concat(_.primaryDirection,"deg, ").concat(_.primaryColor1,", ").concat(_.primaryColor2,")"):_.primaryColor1;return{"--app-bg":e,"--app-text":_.textColor,"--app-card-bg":_.cardBgColor,"--app-primary":t,"--card-bg":_.cardItemBg||"#374151","--card-text":_.cardItemText||"#ffffff"}})()),children:(0,dh.jsxs)("div",{className:"min-h-screen ".concat(_?"":n?"bg-gray-900 text-gray-100":"bg-slate-100 text-gray-800"),children:[!s&&(0,dh.jsx)("div",{className:"bg-red-600 text-white p-2 text-center text-sm font-bold sticky top-0 z-50",children:"\u5c1a\u672a\u521d\u59cb\u5316 Firebase\uff0c\u8acb\u6aa2\u67e5\u91d1\u9470\u8a2d\u5b9a\uff01"}),(0,dh.jsx)("div",{className:"absolute top-0 left-0 p-1 text-[10px] text-gray-500 opacity-50 pointer-events-none z-50",children:$d}),(0,dh.jsx)(Th,{show:T,remoteVersion:I,onRefresh:()=>{window.location.reload()}}),(0,dh.jsx)("nav",{className:"px-4 py-3 shadow-lg sticky top-0 z-40 transition-colors duration-300",style:{background:"var(--app-card-bg)",color:"var(--app-text)"},children:(0,dh.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,dh.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dh.jsx)("div",{className:"p-2 rounded-lg text-white shadow-md transition-all duration-300",style:{background:"var(--app-primary)"},children:"ACCOUNTING"===e?(0,dh.jsx)(v,{size:24}):"BOSS_TIMER"===e?(0,dh.jsx)(b,{size:24}):(0,dh.jsx)(x,{size:24})}),(0,dh.jsx)("h1",{className:"text-2xl font-bold tracking-wider hidden md:block",children:"ACCOUNTING"===e?"\u5718\u968a\u8a18\u5e33\u8868":"BOSS_TIMER"===e?"Boss \u91cd\u751f\u8a08\u6642":"CHARACTER_LIST"===e?"\u89d2\u8272 ID \u540d\u9304":"AI \u8ca1\u52d9\u52a9\u624b"}),(0,dh.jsxs)("div",{className:"flex md:hidden rounded-lg p-1",style:{background:"rgba(0,0,0,0.2)"},children:[(0,dh.jsx)("button",{onClick:()=>t("ACCOUNTING"),className:"px-2 py-1 rounded text-xs ".concat("ACCOUNTING"===e?"bg-blue-600 text-white":""),children:"\u8a18\u5e33"}),(0,dh.jsx)("button",{onClick:()=>t("BOSS_TIMER"),className:"px-2 py-1 rounded text-xs ".concat("BOSS_TIMER"===e?"bg-purple-600 text-white":""),children:"Boss"}),(0,dh.jsx)("button",{onClick:()=>t("AI_ASSISTANT"),className:"px-2 py-1 rounded text-xs ".concat("AI_ASSISTANT"===e?"bg-yellow-500 text-white":""),children:"AI"}),(0,dh.jsx)("button",{onClick:()=>t("CHARACTER_LIST"),className:"px-2 py-1 rounded text-xs ".concat("CHARACTER_LIST"===e?"bg-green-600 text-white":""),children:"ID\u8868"})]})]}),(0,dh.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,dh.jsx)("button",{onClick:()=>y(!0),className:"p-2 rounded-full hover:bg-black/10 transition-colors",title:"\u81ea\u5b9a\u7fa9\u5916\u89c0",children:(0,dh.jsx)(w,{size:20})}),(0,dh.jsx)("button",{onClick:()=>m(!0),className:"p-2 rounded-full hover:bg-black/10 transition-colors",title:"\u7cfb\u7d71\u5168\u57df\u8a2d\u5b9a",children:(0,dh.jsx)(k,{size:20})}),o&&(0,dh.jsxs)("div",{className:"flex items-center gap-2 bg-black/10 px-3 py-1 rounded-full text-sm",children:[(0,dh.jsx)(S,{size:14})," ",o,(0,dh.jsx)("button",{onClick:()=>{localStorage.removeItem("accounting_user"),l(null),d(!0)},className:"ml-2 p-1 bg-red-500/80 hover:bg-red-600 rounded text-white transition-colors",children:(0,dh.jsx)(N,{size:12})})]}),(0,dh.jsxs)("div",{className:"hidden md:flex gap-2 mr-4 p-1 rounded-lg",style:{background:"rgba(0,0,0,0.1)"},children:[(0,dh.jsxs)("button",{onClick:()=>t("ACCOUNTING"),className:"flex items-center gap-2 px-4 py-1.5 rounded-md transition-all ".concat("ACCOUNTING"===e?"bg-blue-600 text-white shadow":"hover:bg-white/10 opacity-70"),children:[(0,dh.jsx)(v,{size:16})," \u5718\u968a\u8a18\u5e33"]}),(0,dh.jsxs)("button",{onClick:()=>t("BOSS_TIMER"),className:"flex items-center gap-2 px-4 py-1.5 rounded-md transition-all ".concat("BOSS_TIMER"===e?"bg-purple-600 text-white shadow":"hover:bg-white/10 opacity-70"),children:[(0,dh.jsx)(b,{size:16})," Boss \u6642\u9593"]}),(0,dh.jsxs)("button",{onClick:()=>t("AI_ASSISTANT"),className:"flex items-center gap-2 px-4 py-1.5 rounded-md transition-all ".concat("AI_ASSISTANT"===e?"bg-yellow-500 text-white shadow":"hover:bg-white/10 opacity-70"),children:[(0,dh.jsx)(x,{size:16})," AI \u52a9\u624b"]}),(0,dh.jsxs)("button",{onClick:()=>t("CHARACTER_LIST"),className:"flex items-center gap-2 px-4 py-1.5 rounded-md transition-all ".concat("CHARACTER_LIST"===e?"bg-green-600 text-white shadow":"hover:bg-white/10 opacity-70"),children:[(0,dh.jsx)(E,{size:16})," \u89d2\u8272 ID"]})]})]})]})}),(0,dh.jsxs)("main",{className:"relative h-[calc(100vh-80px)] overflow-hidden",children:[(0,dh.jsx)(Ch,{isOpen:u,onSelectUser:e=>{l(e),localStorage.setItem("accounting_user",e),d(!1)},theme:D}),(0,dh.jsx)(_h,{isOpen:p,onClose:()=>m(!1),theme:D,currentSettings:h,isDarkMode:n,currentUser:o}),(0,dh.jsx)(Ih,{isOpen:g,onClose:()=>y(!1),currentTheme:_,onSave:async e=>{if(C(e),y(!1),localStorage.setItem("theme_".concat(o),JSON.stringify(e)),o&&Fd)try{await Nd(vu(Fd,"user_settings",o),{theme:e,updatedAt:(new Date).toISOString()},{merge:!0})}catch(t){console.error("\u4e3b\u984c\u96f2\u7aef\u5099\u4efd\u5931\u6557",t),alert("\u4e3b\u984c\u50c5\u5132\u5b58\u65bc\u672c\u6a5f (\u96f2\u7aef\u540c\u6b65\u5931\u6557)")}}}),(0,dh.jsx)(xh,{videoId:h.youtubeVideoId,isDarkMode:n}),(0,dh.jsx)("div",{className:"h-full overflow-y-auto",children:"ACCOUNTING"===e?(0,dh.jsx)(Uh,{isDarkMode:n,dbReady:s,currentUser:o}):"BOSS_TIMER"===e?(0,dh.jsx)(tf,{isDarkMode:n,currentUser:o,globalSettings:h}):"CHARACTER_LIST"===e?(0,dh.jsx)(hh,{isDarkMode:n,currentUser:o}):(0,dh.jsx)("div",{className:"p-4 h-full max-w-4xl mx-auto",children:(0,dh.jsx)(rf,{isDarkMode:n,currentUser:o,globalSettings:h,theme:D})})})]})]})})}const sf=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:s,getTTFB:i}=t;n(e),r(e),a(e),s(e),i(e)})};a.createRoot(document.getElementById("root")).render((0,dh.jsx)(r.StrictMode,{children:(0,dh.jsx)(af,{})})),sf()})();
//# sourceMappingURL=main.abb31d21.js.map