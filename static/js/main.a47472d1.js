/*! For license information please see main.a47472d1.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return j(e(t))}catch(fn){}}return null}var M=Array.isArray,P=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},R=[],z=-1;function F(e){return{current:e}}function V(e){0>z||(e.current=R[z],R[z]=null,z--)}function U(e,t){z++,R[z]=e.current,e.current=t}var B,q,H=F(null),G=F(null),Q=F(null),K=F(null);function W(e,t){switch(U(Q,t),U(G,e),U(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bh(t=vh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(H),U(H,e)}function Y(){V(H),V(G),V(Q)}function X(e){null!==e.memoizedState&&U(K,e);var t=H.current,n=bh(t,e.type);t!==n&&(U(G,e),U(H,n))}function $(e){G.current===e&&(V(H),V(G)),K.current===e&&(V(K),hd._currentValue=O)}function J(e){if(void 0===B)try{throw Error()}catch(fn){var t=fn.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<fn.stack.indexOf("\n    at")?" (<anonymous>)":-1<fn.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(fn){var r=fn}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(fn){return"\nError generating stack: "+fn.message+"\n"+fn.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var ke=256,Ee=262144,_e=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=Ne(r):0!==(a&=o)?i=Ne(a):n||0!==(n=o&~e)&&(i=Ne(n)):0!==(o=r&~s)?i=Ne(o):0!==a?i=Ne(a):n||0!==(n=r&~e)&&(i=Ne(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function De(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Cd(e.type)}function Fe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ve=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Ve,Be="__reactProps$"+Ve,qe="__reactContainer$"+Ve,He="__reactEvents$"+Ve,Ge="__reactListeners$"+Ve,Qe="__reactHandles$"+Ve,Ke="__reactResources$"+Ve,We="__reactMarker$"+Ve;function Ye(e){delete e[Ue],delete e[Be],delete e[He],delete e[Ge],delete e[Qe]}function Xe(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Rh(e);null!==e;){if(n=e[Ue])return n;e=Rh(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ue]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[We]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(i=t,re.call(ot,i)||!re.call(at,i)&&(st.test(i)?ot[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?wt(e,a,ht(t)):null!=n?wt(e,a,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ht(o):e.removeAttribute("name")}function bt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(M(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Nt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Nt(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jt(){}var Mt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ot=null;function Rt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Be]||null;if(!i)throw Error(a(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ft(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Lt||null!==Ot)&&(eu(),Lt&&(t=Lt,e=Ot,Ot=Lt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ut)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Jd){Bt=!1}var Ht=null,Gt=null,Qt=null;function Kt(){if(Qt)return Qt;var e,t,n=Gt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function $t(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),sn=$t(rn),an=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=$t(an),ln=$t(f({},an,{dataTransfer:0})),cn=$t(f({},rn,{relatedTarget:0})),un=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=$t(f({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function vn(){return yn}var bn=$t(f({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=$t(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),Sn=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=$t(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=$t(f({},tn,{newState:0,oldState:0})),_n=[9,13,27,32],Nn=Ut&&"CompositionEvent"in window,Cn=null;Ut&&"documentMode"in document&&(Cn=document.documentMode);var Tn=Ut&&"TextEvent"in window&&!Cn,In=Ut&&(!Nn||Cn&&8<Cn&&11>=Cn),An=String.fromCharCode(32),Dn=!1;function jn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Rn(e,t,n,r){Lt?Ot?Ot.push(r):Ot=[r]:Lt=r,0<(t=ih(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Fn=null;function Vn(e){Xu(e,0)}function Un(e){if(pt(Je(e)))return e}function Bn(e,t){if("change"===e)return t}var qn=!1;if(Ut){var Hn;if(Ut){var Gn="oninput"in document;if(!Gn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Gn="function"===typeof Qn.oninput}Hn=Gn}else Hn=!1;qn=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){zn&&(zn.detachEvent("onpropertychange",Wn),Fn=zn=null)}function Wn(e){if("value"===e.propertyName&&Un(Fn)){var t=[];Rn(t,Fn,e,Pt(e)),Ft(Vn,t)}}function Yn(e,t,n){"focusin"===e?(Kn(),Fn=n,(zn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Kn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Fn)}function $n(e,t){if("click"===e)return Un(t)}function Jn(e,t){if("input"===e||"change"===e)return Un(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Ut&&"documentMode"in document&&11>=document.documentMode,or=null,lr=null,cr=null,ur=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==or||or!==mt(r)||("selectionStart"in(r=or)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&er(cr,r)||(cr=r,0<(r=ih(lr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},pr={},mr={};function gr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}Ut&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var yr=gr("animationend"),vr=gr("animationiteration"),br=gr("animationstart"),wr=gr("transitionrun"),xr=gr("transitionstart"),Sr=gr("transitioncancel"),kr=gr("transitionend"),Er=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Er.set(e,t),rt(t,[e])}_r.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Ir=0,Ar=0;function Dr(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var s=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Lr(n,i,s)}}function jr(e,t,n,r){Tr[Ir++]=e,Tr[Ir++]=t,Tr[Ir++]=n,Tr[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return jr(e,t,n,r),Or(e)}function Pr(e,t){return jr(e,null,null,t),Or(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Or(e){if(50<Gc)throw Gc=0,Qc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new zr(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Vr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Fr(31,n,t,i)).elementType=C,e.lanes=s,e;case y:return Hr(n.children,i,s,t);case v:o=8,i|=24;break;case b:return(e=Fr(12,n,t,2|i)).elementType=b,e.lanes=s,e;case k:return(e=Fr(13,n,t,i)).elementType=k,e.lanes=s,e;case E:return(e=Fr(19,n,t,i)).elementType=E,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case w:o=9;break e;case S:o=11;break e;case _:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Hr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Qr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=Wr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Wr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Xr=[],$r=0,Jr=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function si(e,t){Xr[$r++]=Zr,Xr[$r++]=Jr,Jr=e,Zr=t}function ai(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ri=1<<32-we(t)+i|n<<i|r,ii=s+e}else ri=1<<s|n<<i|r,ii=e}function oi(e){null!==e.return&&(si(e,1),ai(e,1,0))}function li(e){for(;e===Jr;)Jr=Xr[--$r],Xr[$r]=null,Zr=Xr[--$r],Xr[$r]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ci(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ui=null,hi=null,di=!1,fi=null,pi=!1,mi=Error(a(519));function gi(e){throw Si(Yr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function yi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Be]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Wu.length;n++)$u(Wu[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||uh(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=jt),t=!0):t=!1,t||gi(e,!0)}function vi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ui=ui.return}}function bi(e){if(e!==ui)return!1;if(!di)return vi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wh(e.type,e.memoizedProps)),t=!t),t&&hi&&gi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));hi=Oh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));hi=Oh(e)}else 27===n?(n=hi,Ch(e.type)?(e=Lh,Lh=null,hi=e):hi=n):hi=ui?Ph(e.stateNode.nextSibling):null;return!0}function wi(){hi=ui=null,di=!1}function xi(){var e=fi;return null!==e&&(null===Dc?Dc=e:Dc.push.apply(Dc,e),fi=null),e}function Si(e){null===fi?fi=[e]:fi.push(e)}var ki=F(null),Ei=null,_i=null;function Ni(e,t,n){U(ki,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=ki.current,V(ki)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ti(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ai(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(hd):e=[hd])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Di(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Ei=e,_i=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Mi(e){return Li(Ei,e)}function Pi(e,t){return null===Ei&&ji(e),Li(e,t)}function Li(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===_i){if(null===e)throw Error(a(308));_i=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _i=_i.next=t;return n}var Oi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ri=r.unstable_scheduleCallback,zi=r.unstable_NormalPriority,Fi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Oi,data:new Map,refCount:0}}function Ui(e){e.refCount--,0===e.refCount&&Ri(zi,function(){e.controller.abort()})}var Bi=null,qi=0,Hi=0,Gi=null;function Qi(){if(0===--qi&&null!==Bi){null!==Gi&&(Gi.status="fulfilled");var e=Bi;Bi=null,Hi=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=P.S;P.S=function(e,t){Pc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,Hi=qu(),Gi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Qi,Qi)}(0,t),null!==Ki&&Ki(e,t)};var Wi=F(null);function Yi(){var e=Wi.current;return null!==e?e:mc.pooledCache}function Xi(e,t){U(Wi,null===t?Wi.current:t.pool)}function $i(){var e=Yi();return null===e?null:{parent:Fi._currentValue,pool:e}}var Ji=Error(a(460)),Zi=Error(a(474)),es=Error(a(542)),ts={then:function(){}};function ns(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(jt,jt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(jt,jt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw ss=t,Ji}}function is(e){try{return(0,e._init)(e._payload)}catch(fn){if(null!==fn&&"object"===typeof fn&&"function"===typeof fn.then)throw ss=fn,Ji;throw fn}}var ss=null;function as(){if(null===ss)throw Error(a(459));var e=ss;return ss=null,e}function os(e){if(e===Ji||e===es)throw Error(a(483))}var ls=null,cs=0;function us(e){var t=cs;return cs+=1,null===ls&&(ls=[]),rs(ls,e,t)}function hs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&is(s)===t.type)?(hs(t=i(t,n.props),n),t.return=e,t):(hs(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return hs(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case N:return d(e,t=is(t),n)}if(M(t)||A(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,us(t),n);if(t.$$typeof===x)return d(e,Pi(e,t),n);ds(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,n=is(n),r)}if(M(n)||A(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,us(n),r);if(n.$$typeof===x)return f(e,t,Pi(e,n),r);ds(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,r=is(r),i)}if(M(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,us(r),i);if(r.$$typeof===x)return p(e,t,n,Pi(t,r),i);ds(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&is(b)===c.type){n(l,c.sibling),hs(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((h=Hr(u.props.children,l.mode,h,u.key)).return=l,l=h):(hs(h=qr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Kr(u,l.mode,h)).return=l,l=h}return o(l);case N:return v(l,c,u=is(u),h)}if(M(u))return function(i,a,o,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===o.length)return n(i,h),di&&si(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===u?c=h:u.sibling=h,u=h);return di&&si(i,m),c}for(h=r(h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),di&&si(i,m),c}(l,c,u,h);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),di&&si(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return di&&si(i,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),di&&si(i,g),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,us(u),h);if(u.$$typeof===x)return v(l,c,Pi(l,u),h);ds(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Gr(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,r){try{cs=0;var i=v(e,t,n,r);return ls=null,i}catch(fn){if(fn===Ji||fn===es)throw fn;var s=Fr(29,fn,null,e.mode);return s.lanes=r,s.return=e,s}}}var ps=fs(!0),ms=fs(!1),gs=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Lr(e,null,n),t}return jr(e,r,t,n),Or(e)}function xs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function Ss(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ks=!1;function Es(){if(ks){if(null!==Gi)throw Gi}}function _s(e,t,n,r){ks=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=-536870913&o.lane,p=d!==o.lane;if(p?(yc&d)===d:(r&d)===d){0!==d&&d===Hi&&(ks=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;d=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break e;h=f({},h,d);break e;case 2:gs=!0}}null!==(d=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),_c|=a,e.lanes=a,e.memoizedState=h}}function Ns(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Cs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ns(n[e],t)}var Ts=F(null),Is=F(0);function As(e,t){U(Is,e=kc),U(Ts,t),kc=e|t.baseLanes}function Ds(){U(Is,kc),U(Ts,Ts.current)}function js(){kc=Is.current,V(Ts),V(Is)}var Ms=F(null),Ps=null;function Ls(e){var t=e.alternate;U(Vs,1&Vs.current),U(Ms,e),null===Ps&&(null===t||null!==Ts.current||null!==t.memoizedState)&&(Ps=e)}function Os(e){U(Vs,Vs.current),U(Ms,e),null===Ps&&(Ps=e)}function Rs(e){22===e.tag?(U(Vs,Vs.current),U(Ms,e),null===Ps&&(Ps=e)):zs()}function zs(){U(Vs,Vs.current),U(Ms,Ms.current)}function Fs(e){V(Ms),Ps===e&&(Ps=null),V(Vs)}var Vs=F(0);function Us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||jh(n)||Mh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bs=0,qs=null,Hs=null,Gs=null,Qs=!1,Ks=!1,Ws=!1,Ys=0,Xs=0,$s=null,Js=0;function Zs(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,i,s){return Bs=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?yo:vo,Ws=!1,s=n(r,i),Ws=!1,Ks&&(s=ra(t,n,r,i)),na(e),s}function na(e){P.H=go;var t=null!==Hs&&null!==Hs.next;if(Bs=0,Gs=Hs=qs=null,Qs=!1,Xs=0,$s=null,t)throw Error(a(300));null===e||Po||null!==(e=e.dependencies)&&Di(e)&&(Po=!0)}function ra(e,t,n,r){qs=e;var i=0;do{if(Ks&&($s=null),Xs=0,Ks=!1,25<=i)throw Error(a(301));if(i+=1,Gs=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}P.H=bo,s=t(n,r)}while(Ks);return s}function ia(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?ua(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(qs.flags|=1024),t}function sa(){var e=0!==Ys;return Ys=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oa(e){if(Qs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Qs=!1}Bs=0,Gs=Hs=qs=null,Ks=!1,Xs=Ys=0,$s=null}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gs?qs.memoizedState=Gs=e:Gs=Gs.next=e,Gs}function ca(){if(null===Hs){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Gs?qs.memoizedState:Gs.next;if(null!==t)Gs=t,Hs=e;else{if(null===e){if(null===qs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Gs?qs.memoizedState=Gs=e:Gs=Gs.next=e}return Gs}function ua(e){var t=Xs;return Xs+=1,null===$s&&($s=[]),e=rs($s,e,t),t=qs,null===(null===Gs?t.memoizedState:Gs.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?yo:vo),e}function ha(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ua(e);if(e.$$typeof===x)return Mi(e)}throw Error(a(438,String(e)))}function da(e){var t=null,n=qs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function fa(e,t){return"function"===typeof t?t(e):t}function pa(e){return ma(ca(),Hs,e)}function ma(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(yc&d)===d:(Bs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Hi&&(h=!0);else{if((Bs&f)===f){u=u.next,f===Hi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=s):c=c.next=d,qs.lanes|=f,_c|=f}d=u.action,Ws&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,qs.lanes|=d,_c|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Zn(s,e.memoizedState)&&(Po=!0,h&&null!==(n=Gi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ga(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Zn(s,t.memoizedState)||(Po=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ya(e,t,n){var r=qs,i=ca(),s=di;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Zn((Hs||i).memoizedState,n);if(o&&(i.memoizedState=n,Po=!0),i=i.queue,Ba(wa.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Gs&&1&Gs.memoizedState.tag){if(r.flags|=2048,Ra(9,{destroy:void 0},ba.bind(null,r,i,n,t),null),null===mc)throw Error(a(349));s||0!==(127&Bs)||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,r){t.value=n,t.getSnapshot=r,xa(t)&&Sa(e)}function wa(e,t,n){return n(function(){xa(t)&&Sa(e)})}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function Sa(e){var t=Pr(e,2);null!==t&&Yc(t,e,2)}function ka(e){var t=la();if("function"===typeof e){var n=e;if(e=n(),Ws){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function Ea(e,t,n,r){return e.baseState=n,ma(e,Hs,"function"===typeof r?r:fa)}function _a(e,t,n,r,i){if(fo(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==P.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=P.T,a={};P.T=a;try{var o=n(i,r),l=P.S;null!==l&&l(a,o),Ca(e,t,o)}catch(c){Ia(e,t,c)}finally{null!==s&&null!==a.types&&(s.types=a.types),P.T=s}}else try{Ca(e,t,s=n(i,r))}catch(u){Ia(e,t,u)}}function Ca(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ta(e,t,n)},function(n){return Ia(e,t,n)}):Ta(e,t,n)}function Ta(e,t,n){t.status="fulfilled",t.value=n,Aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Na(e,n)))}function Ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Aa(t),t=t.next}while(t!==r)}e.action=null}function Aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Da(e,t){return t}function ja(e,t){if(di){var n=mc.formState;if(null!==n){e:{var r=qs;if(di){if(hi){t:{for(var i=hi,s=pi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Ph(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){hi=Ph(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=la()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},n.queue=r,n=co.bind(null,qs,r),r.dispatch=n,r=ka(!1),s=ho.bind(null,qs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=la()).queue=i,n=_a.bind(null,qs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ma(e){return Pa(ca(),Hs,e)}function Pa(e,t,n){if(t=ma(e,t,Da)[0],e=pa(fa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ua(t)}catch(fn){if(fn===Ji)throw es;throw fn}else r=t;var i=(t=ca()).queue,s=i.dispatch;return n!==t.memoizedState&&(qs.flags|=2048,Ra(9,{destroy:void 0},La.bind(null,i,n),null)),[r,s,e]}function La(e,t){e.action=t}function Oa(e){var t=ca(),n=Hs;if(null!==n)return Pa(t,n,e);ca(),t=t.memoizedState;var r=(n=ca()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ra(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return ca().memoizedState}function Fa(e,t,n,r){var i=la();qs.flags|=e,i.memoizedState=Ra(1|t,{destroy:void 0},n,void 0===r?null:r)}function Va(e,t,n,r){var i=ca();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Hs&&null!==r&&ea(r,Hs.memoizedState.deps)?i.memoizedState=Ra(t,s,n,r):(qs.flags|=e,i.memoizedState=Ra(1|t,s,n,r))}function Ua(e,t){Fa(8390656,8,e,t)}function Ba(e,t){Va(2048,8,e,t)}function qa(e){var t=ca().memoizedState;return function(e){qs.flags|=4;var t=qs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return Va(4,2,e,t)}function Ga(e,t){return Va(4,4,e,t)}function Qa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Qa.bind(null,t,e),n)}function Wa(){}function Ya(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ea(t,r[1]))return r[0];if(r=e(),Ws){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $a(e,t,n){return void 0===n||0!==(1073741824&Bs)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Wc(),qs.lanes|=e,_c|=e,n)}function Ja(e,t,n,r){return Zn(n,t)?n:null!==Ts.current?(e=$a(e,n,r),Zn(e,t)||(Po=!0),e):0===(42&Bs)||0!==(1073741824&Bs)&&0===(261930&yc)?(Po=!0,e.memoizedState=n):(e=Wc(),qs.lanes|=e,_c|=e,t)}function Za(e,t,n,r,i){var s=L.p;L.p=0!==s&&8>s?s:8;var a=P.T,o={};P.T=o,ho(e,!1,t,n);try{var l=i(),c=P.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else uo(e,t,r,Kc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{L.p=s,null!==a&&null!==o.types&&(a.types=o.types),P.T=a}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=no(e).queue;Za(e,i,t,O,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Kc())}function io(){return Mi(hd)}function so(){return ca().memoizedState}function ao(){return ca().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=ws(t,e=bs(n),n);return null!==r&&(Yc(r,t,n),xs(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?po(t,n):null!==(n=Mr(e,t,n,r))&&(Yc(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Kc())}function uo(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))po(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Zn(o,a))return jr(e,t,i,0),null===mc&&Dr(),!1}catch(l){}if(null!==(n=Mr(e,t,i,r)))return Yc(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(a(479))}else null!==(t=Mr(e,n,r,2))&&Yc(t,e,2)}function fo(e){var t=e.alternate;return e===qs||null!==t&&t===qs}function po(e,t){Ks=Qs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var go={readContext:Mi,use:ha,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};go.useEffectEvent=Zs;var yo={readContext:Mi,use:ha,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:Mi,useEffect:Ua,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4194308,4,Qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){Fa(4,2,e,t)},useMemo:function(e,t){var n=la();t=void 0===t?null:t;var r=e();if(Ws){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=la();if(void 0!==n){var i=n(t);if(Ws){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=lo.bind(null,qs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},la().memoizedState=e},useState:function(e){var t=(e=ka(e)).queue,n=co.bind(null,qs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wa,useDeferredValue:function(e,t){return $a(la(),e,t)},useTransition:function(){var e=ka(!1);return e=Za.bind(null,qs,e.queue,!0,!1),la().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qs,i=la();if(di){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===mc)throw Error(a(349));0!==(127&yc)||va(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ua(wa.bind(null,r,s,e),[e]),r.flags|=2048,Ra(9,{destroy:void 0},ba.bind(null,r,s,n,t),null),n},useId:function(){var e=la(),t=mc.identifierPrefix;if(di){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-we(ri)-1)).toString(32)+n),0<(n=Ys++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Js++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:ja,useActionState:ja,useOptimistic:function(e){var t=la();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,qs,!0,n),n.dispatch=t,[e,t]},useMemoCache:da,useCacheRefresh:function(){return la().memoizedState=oo.bind(null,qs)},useEffectEvent:function(e){var t=la(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:Mi,use:ha,useCallback:Ya,useContext:Mi,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Xa,useReducer:pa,useRef:za,useState:function(){return pa(fa)},useDebugValue:Wa,useDeferredValue:function(e,t){return Ja(ca(),Hs.memoizedState,e,t)},useTransition:function(){var e=pa(fa)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:ya,useId:so,useHostTransitionStatus:io,useFormState:Ma,useActionState:Ma,useOptimistic:function(e,t){return Ea(ca(),0,e,t)},useMemoCache:da,useCacheRefresh:ao};vo.useEffectEvent=qa;var bo={readContext:Mi,use:ha,useCallback:Ya,useContext:Mi,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Xa,useReducer:ga,useRef:za,useState:function(){return ga(fa)},useDebugValue:Wa,useDeferredValue:function(e,t){var n=ca();return null===Hs?$a(n,e,t):Ja(n,Hs.memoizedState,e,t)},useTransition:function(){var e=ga(fa)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:ya,useId:so,useHostTransitionStatus:io,useFormState:Oa,useActionState:Oa,useOptimistic:function(e,t){var n=ca();return null!==Hs?Ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:da,useCacheRefresh:ao};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=qa;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=bs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&(Yc(t,e,r),xs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=bs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&(Yc(t,e,r),xs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=bs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ws(e,r,n))&&(Yc(t,e,n),xs(t,e,n))}};function So(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(i,s))}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function Eo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function _o(e){Cr(e)}function No(e){console.error(e)}function Co(e){Cr(e)}function To(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Io(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ao(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){To(e,t)},n}function Do(e){return(e=bs(e)).tag=3,e}function jo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Io(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Io(t,n,r),"function"!==typeof i&&(null===Rc?Rc=new Set([this]):Rc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Mo=Error(a(461)),Po=!1;function Lo(e,t,n,r){t.child=null===e?ms(t,null,n,r):ps(t,e.child,n,r)}function Oo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return ji(t),r=ta(e,t,n,a,s,i),o=sa(),null===e||Po?(di&&o&&oi(t),t.flags|=1,Lo(e,t,r,i),t.child):(aa(e,t,i),sl(e,t,i))}function Ro(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Vr(s)||void 0!==s.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zo(e,t,s,r,i))}if(s=e.child,!al(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:er)(a,r)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,(e=Ur(s,r)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(er(s,r)&&e.ref===t.ref){if(Po=!1,t.pendingProps=r=s,!al(e,i))return t.lanes=e.lanes,sl(e,t,i);0!==(131072&e.flags)&&(Po=!0)}}return Go(e,t,n,r,i)}function Fo(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Uo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Uo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==s?s.cachePool:null),null!==s?As(t,s):Ds(),Rs(t)}else null!==s?(Xi(0,s.cachePool),As(t,s),zs(),t.memoizedState=null):(null!==e&&Xi(0,null),Ds(),zs());return Lo(e,t,i,n),t.child}function Vo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,r,i){var s=Yi();return s=null===s?null:{parent:Fi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Xi(0,null),Ds(),Rs(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function Bo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,n){return ps(t,e.child,null,n),(e=Bo(t,t.pendingProps)).flags|=2,Fs(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Go(e,t,n,r,i){return ji(t),n=ta(e,t,n,r,void 0,i),r=sa(),null===e||Po?(di&&r&&oi(t),t.flags|=1,Lo(e,t,n,i),t.child):(aa(e,t,i),sl(e,t,i))}function Qo(e,t,n,r,i,s){return ji(t),t.updateQueue=null,n=ra(t,r,n,i),na(e),r=sa(),null===e||Po?(di&&r&&oi(t),t.flags|=1,Lo(e,t,n,s),t.child):(aa(e,t,s),sl(e,t,s))}function Ko(e,t,n,r,i){if(ji(t),null===t.stateNode){var s=Rr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Mi(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=xo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ys(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Mi(a):Rr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(wo(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&xo.enqueueReplaceState(s,s.state,null),_s(t,r,s,i),Es(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=Eo(n,o);s.props=l;var c=s.context,u=n.contextType;a=Rr,"object"===typeof u&&null!==u&&(a=Mi(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&ko(t,s,r,a),gs=!1;var d=t.memoizedState;s.state=d,_s(t,r,s,i),Es(),c=t.memoizedState,o||d!==c||gs?("function"===typeof h&&(wo(t,n,h,r),c=t.memoizedState),(l=gs||So(t,n,l,r,d,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),u=Eo(n,a=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Mi(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&ko(t,s,r,l),gs=!1,d=t.memoizedState,s.state=d,_s(t,r,s,i),Es();var f=t.memoizedState;a!==h||d!==f||gs||null!==e&&null!==e.dependencies&&Di(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),f=t.memoizedState),(u=gs||So(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Di(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ho(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ps(t,e.child,null,i),t.child=ps(t,null,n,i)):Lo(e,t,n,i),t.memoizedState=s.state,e=t.child):e=sl(e,t,i),e}function Wo(e,t,n,r){return wi(),t.flags|=256,Lo(e,t,n,r),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:$i()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Jo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Vs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(s?Ls(t):zs(),(e=hi)?null!==(e=null!==(e=Dh(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Qr(e)).return=t,t.child=n,ui=t,hi=null):e=null,null===e)throw gi(t);return Mh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(zs(),l=el({mode:"hidden",children:l},s=t.mode),i=Hr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Xo(n),i.childLanes=$o(e,r,n),t.memoizedState=Yo,Vo(null,i)):(Ls(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ls(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(zs(),t.child=e.child,t.flags|=128,t=null):(zs(),l=i.fallback,s=t.mode,i=el({mode:"visible",children:i.children},s),(l=Hr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ps(t,e.child,null,n),(i=t.child).memoizedState=Xo(n),i.childLanes=$o(e,r,n),t.memoizedState=Yo,t=Vo(null,i));else if(Ls(t),Mh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,Si({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Po||Ai(e,t,n,!1),r=0!==(n&e.childLanes),Po||r){if(null!==(r=mc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Pr(e,i),Yc(r,e,i),Mo;jh(l)||ou(),t=tl(e,t,n)}else jh(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,hi=Ph(l.nextSibling),ui=t,di=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Zo(t,i.children)).flags|=4096);return t}return s?(zs(),l=i.fallback,s=t.mode,u=(c=e.child).sibling,(i=Ur(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ur(u,l):(l=Hr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Vo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Xo(n):(null!==(s=l.cachePool)?(c=Fi._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=$i(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=$o(e,r,n),t.memoizedState=Yo,Vo(e.child,i)):(Ls(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return ps(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function rl(e,t,n,r,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=Vs.current,o=0!==(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,U(Vs,a),Lo(e,t,r,n),r=di?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,s,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Di(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Po=!0;else{if(!al(e,n)&&0===(128&t.flags))return Po=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),Ni(0,Fi,e.memoizedState.cache),wi();break;case 27:case 5:X(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:Ni(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Os(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ls(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(Ls(t),null!==(e=sl(e,t,n))?e.sibling:null);Ls(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Vs,Vs.current),r)break;return null;case 22:return t.lanes=0,Fo(e,t,n,t.pendingProps);case 24:Ni(0,Fi,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);Po=0!==(131072&e.flags)}else Po=!1,di&&0!==(1048576&t.flags)&&ai(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=is(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===S){t.tag=11,t=Oo(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Ro(null,t,e,r,n);break e}}throw t=j(e)||e,Error(a(306,t,""))}Vr(e)?(r=Eo(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Go(null,t,e,r,n))}return t;case 0:return Go(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,i=Eo(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,vs(e,t),_s(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ni(0,Fi,r),r!==s.cache&&Ii(t,[Fi],n,!0),Es(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Wo(e,t,r,n);break e}if(r!==i){Si(i=Yr(Error(a(424)),t)),t=Wo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(hi=Ph(e.firstChild),ui=t,di=!0,fi=null,pi=!0,n=ms(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=sl(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Qh(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=yh(Q.current).createElement(n))[Ue]=t,r[Be]=e,fh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Qh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&di&&(r=t.stateNode=zh(t.type,t.pendingProps,Q.current),ui=t,pi=!0,i=hi,Ch(t.type)?(Lh=i,hi=Ph(r.firstChild)):hi=i),Lo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=hi)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Ph(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ui=t,hi=Ph(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),X(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,wh(i,s)?r=null:null!==o&&wh(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ta(e,t,ia,null,null,n),hd._currentValue=i),Ho(e,t),Lo(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=hi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ph(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ui=t,hi=null,e=!0):e=!1),e||gi(t)),null;case 13:return Jo(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ps(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ni(0,t.type,r.value),Lo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ji(t),r=r(i=Mi(i)),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return zo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Bo(t,r),t.lanes=536870912,Vo(null,e);if(Os(t),(e=hi)?null!==(e=null!==(e=Dh(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Qr(e)).return=t,t.child=n,ui=t,hi=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Bo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Os(t),i)if(256&t.flags)t.flags&=-257,t=qo(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Po||Ai(e,t,n,!1),i=0!==(n&e.childLanes),Po||i){if(null!==(r=mc)&&0!==(o=Le(r,n))&&o!==s.retryLane)throw s.retryLane=o,Pr(e,o),Yc(r,e,o),Mo;ou(),t=qo(e,t,n)}else e=s.treeContext,hi=Ph(o.nextSibling),ui=t,di=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Bo(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fo(e,t,n,t.pendingProps);case 24:return ji(t),r=Mi(Fi),null===e?(null===(i=Yi())&&(i=mc,s=Vi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ys(t),Ni(0,Fi,i)):(0!==(e.lanes&n)&&(vs(e,t),_s(t,null,null,n),Es()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ni(0,Fi,r)):(r=s.cache,Ni(0,Fi,r),r!==i.cache&&Ii(t,[Fi],n,!0))),Lo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ss=ts,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sd(t)){if(!iu())throw ss=ts,Zi;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Ic|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(Fi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),fl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ll(t),null!==s?(fl(t),ul(t,s)):(fl(t),cl(t,i,0,0,n))):s?s!==e.memoizedState?(ll(t),fl(t),ul(t,s)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if($(t),n=Q.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return fl(t),null}e=H.current,bi(t)?yi(t):(e=zh(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return fl(t),null}if(s=H.current,bi(t))yi(t);else{var o=yh(Q.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}s[Ue]=t,s[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(fh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=Q.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||uh(e.nodeValue,n)))||gi(t,!0)}else(e=yh(e).createTextNode(r))[Ue]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Ue]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fs(t),t):(Fs(t),null);if(0!==(128&t.flags))throw Error(a(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ue]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Fs(t),t):(Fs(t),null)}return Fs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&eh(t.stateNode.containerInfo),fl(t),null;case 10:return Ci(t.type),fl(t),null;case 19:if(V(Vs),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)dl(r,!1);else{if(0!==Ec||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Us(e))){for(t.flags|=128,dl(r,!1),e=s.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return U(Vs,1&Vs.current|2),di&&si(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Lc&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Us(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!di)return fl(t),null}else 2*le()-r.renderingStartTime>Lc&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Vs.current,U(Vs,i?1&n|2:1&n),di&&si(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Fs(t),js(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&hl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Wi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(Fi),fl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(Fi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Fs(t),null===t.alternate)throw Error(a(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Vs),null;case 4:return Y(),null;case 10:return Ci(t.type),null;case 22:case 23:return Fs(t),js(),null!==e&&V(Wi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(Fi),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ci(Fi),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Fs(t);break;case 13:Fs(t);break;case 19:V(Vs);break;case 10:Ci(t.type);break;case 22:case 23:Fs(t),js(),null!==e&&V(Wi);break;case 24:Ci(Fi)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Eu(t,t.return,o)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){Eu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){Eu(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Cs(t,n)}catch(r){Eu(e,e.return,r)}}}function wl(e,t,n){n.props=Eo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Eu(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Eu(e,t,i)}}function Sl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Eu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Eu(e,t,s)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Eu(e,e.return,i)}}function El(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||hh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&hh(e,t,f,p,r,d)}}return void vt(e,o,l,c,u,h,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||hh(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&hh(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hh(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&hh(e,t,o,i,r,s)}return void St(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hh(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else hh(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&hh(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:hh(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||dh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&hh(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||hh(e,t,d,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(i){Eu(e,e.return,i)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ch(e.type)||4===e.tag}function Nl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ch(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jt));else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fh(t,r,n),t[Ue]=e,t[Be]=n}catch(s){Eu(e,e.return,s)}}var Al=!1,Dl=!1,jl=!1,Ml="function"===typeof WeakSet?WeakSet:Set,Pl=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&yl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Eu(n,n.return,a)}else{var i=Eo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Eu(n,n.return,o)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Cs(e,t)}catch(a){Eu(n,n.return,a)}}break;case 27:null===t&&4&r&&Il(n);case 26:case 5:Yl(e,n),null===t&&4&r&&kl(n),512&r&&xl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Ul(e,n);break;case 13:Yl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Dl,i=Al;var s=Dl;Al=r,(Dl=t)&&!s?$l(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Al=i,Dl=s}break;case 30:break;default:Yl(e,n)}}function Ol(e){var t=e.alternate;null!==t&&(e.alternate=null,Ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rl=null,zl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Vl(e,t,n),n=n.sibling}function Vl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Dl||Sl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Dl||Sl(n,t);var r=Rl,i=zl;Ch(n.type)&&(Rl=n.stateNode,zl=!1),Fl(e,t,n),Fh(n.stateNode),Rl=r,zl=i;break;case 5:Dl||Sl(n,t);case 6:if(r=Rl,i=zl,Rl=null,Fl(e,t,n),zl=i,null!==(Rl=r))if(zl)try{(9===Rl.nodeType?Rl.body:"HTML"===Rl.nodeName?Rl.ownerDocument.body:Rl).removeChild(n.stateNode)}catch(a){Eu(n,t,a)}else try{Rl.removeChild(n.stateNode)}catch(a){Eu(n,t,a)}break;case 18:null!==Rl&&(zl?(Th(9===(e=Rl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Gd(e)):Th(Rl,n.stateNode));break;case 4:r=Rl,i=zl,Rl=n.stateNode.containerInfo,zl=!0,Fl(e,t,n),Rl=r,zl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Dl||vl(4,n,t),Fl(e,t,n);break;case 1:Dl||(Sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Dl=(r=Dl)||null!==n.memoizedState,Fl(e,t,n),Dl=r;break;default:Fl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Gd(e)}catch(n){Eu(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Gd(e)}catch(n){Eu(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ml),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ml),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Ch(l.type)){Rl=l.stateNode,zl=!1;break e}break;case 5:Rl=l.stateNode,zl=!1;break e;case 3:case 4:Rl=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Rl)throw Error(a(160));Vl(s,o,i),Rl=null,zl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ql(t,e),t=t.sibling}var Gl=null;function Ql(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&r&&(Dl||null===n||Sl(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Gl;if(Hl(t,e),Kl(e),512&r&&(Dl||null===n||Sl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[We]||s[Ue]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),fh(s,r,n),s[Ue]=e,et(s),r=s;break e;case"link":var o=rd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}fh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=rd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}fh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Ue]=e,et(s),r=s}e.stateNode=r}else id(i,e.type,e.stateNode);else e.stateNode=Jh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?id(i,e.type,e.stateNode):Jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&El(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&r&&(Dl||null===n||Sl(n,n.return)),null!==n&&4&r&&El(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&r&&(Dl||null===n||Sl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){Eu(e,e.return,m)}}4&r&&null!=e.stateNode&&El(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(jl=!0);break;case 6:if(Hl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Eu(e,e.return,m)}}break;case 3:if(nd=null,i=Gl,Gl=Bh(t.containerInfo),Hl(t,e),Gl=i,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gd(t.containerInfo)}catch(m){Eu(e,e.return,m)}jl&&(jl=!1,Wl(e));break;case 4:r=Gl,Gl=Bh(e.stateNode.containerInfo),Hl(t,e),Kl(e),Gl=r;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Mc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,h=Dl;if(Al=u||i,Dl=h||c,Hl(t,e),Dl=h,Al=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Al||Dl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Eu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Eu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Ih(p,!0):Ih(c.stateNode,!1)}catch(m){Eu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_l(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;Tl(e,Nl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(Et(s,""),n.flags&=-33),Tl(e,Nl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Cl(e,Nl(e),o);break;default:throw Error(a(161))}}catch(l){Eu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Wl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Wl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Xl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Xl(t);break;case 27:Fh(t.stateNode);case 26:case 5:Sl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:$l(i,s,n),yl(4,s);break;case 1:if($l(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Eu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ns(l[i],o)}catch(c){Eu(r,r.return,c)}}n&&64&a&&bl(s),xl(s,s.return);break;case 27:Il(s);case 26:case 5:$l(i,s,n),n&&null===r&&4&a&&kl(s),xl(s,s.return);break;case 12:$l(i,s,n);break;case 31:$l(i,s,n),n&&4&a&&Ul(i,s);break;case 13:$l(i,s,n),n&&4&a&&Bl(i,s);break;case 22:null===s.memoizedState&&$l(i,s,n),xl(s,s.return);break;case 30:break;default:$l(i,s,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ui(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Eu(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?ec(e,t,n,r):rc(e,t):2&s._visibility?ec(e,t,n,r):(s._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(a,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:nc(s,a,o,l,i),yl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?nc(s,a,o,l,i):rc(s,a):(u._visibility|=2,nc(s,a,o,l,i)),i&&2048&c&&Jl(a.alternate,a);break;case 24:nc(s,a,o,l,i),i&&2048&c&&Zl(a.alternate,a);break;default:nc(s,a,o,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function sc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kh(r.href),s=t.querySelector(Wh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Yh(r),(i=Vh.get(i))&&ed(r,i),et(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Gl,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var r=Gl;Gl=Bh(e.stateNode.containerInfo),sc(e,t,n),Gl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,sc(e,t,n),ic=r):sc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Pl=r,hc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Pl=r,hc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function hc(e,t){for(;null!==Pl;){var n=Pl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Pl=r;else e:for(n=e;null!==Pl;){var i=(r=Pl).sibling,s=r.return;if(Ol(r),r===n){Pl=null;break e}if(null!==i){i.return=s,Pl=i;break e}Pl=s}}}var dc={getCacheForType:function(e){var t=Mi(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Mi(Fi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,yc=0,vc=0,bc=null,wc=!1,xc=!1,Sc=!1,kc=0,Ec=0,_c=0,Nc=0,Cc=0,Tc=0,Ic=0,Ac=null,Dc=null,jc=!1,Mc=0,Pc=0,Lc=1/0,Oc=null,Rc=null,zc=0,Fc=null,Vc=null,Uc=0,Bc=0,qc=null,Hc=null,Gc=0,Qc=null;function Kc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==P.T?qu():ze()}function Wc(){if(0===Tc)if(0===(536870912&yc)||di){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Tc=e}else Tc=536870912;return null!==(e=Ms.current)&&(e.flags|=32),Tc}function Yc(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Tc,!1)),je(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Nc|=n),4===Ec&&Zc(e,yc,Tc,!1)),Ou(e))}function Xc(e,t,n){if(0!==(6&pc))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=su(),i=au();mc!==e||yc!==t?(Oc=null,Lc=le()+500,nu(e,t)):xc=Te(e,t);e:for(;;)try{if(0!==vc&&null!==gc){t=gc;var s=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,s,1);break;case 2:case 9:if(ns(s)){vc=0,bc=null,du(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),Ou(e)},s.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ns(s)?(vc=0,bc=null,du(t)):(vc=0,bc=null,fu(e,t,s,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?sd(o):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}vc=0,bc=null,fu(e,t,s,5);break;case 6:vc=0,bc=null,fu(e,t,s,6);break;case 8:tu(),Ec=6;break e;default:throw Error(a(462))}}uu();break}catch(h){ru(e,h)}return _i=Ei=null,P.H=r,P.A=i,pc=n,null!==gc?0:(mc=null,yc=0,Dr(),Ec)}(e,t):lu(e,t,!0),s=r;;){if(0===i){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Jc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=s,Nc|=s,i=4;break e}s=Dc,Dc=i,null!==s&&(null===Dc?Dc=s:Dc.push.apply(Dc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Tc,!wc);break e;case 2:Dc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Mc+300-le())){if(Zc(r,t,Tc,!wc),0!==Ce(r,0,!0))break e;Uc=t,r.timeoutHandle=Sh($c.bind(null,r,n,Dc,Oc,jc,t,Tc,Nc,Ic,wc,s,"Throttled",-0,0),i)}else $c(r,n,Dc,Oc,jc,t,Tc,Nc,Ic,wc,s,null,-0,0)}break}i=lu(e,t,!1),s=!1}Ou(e)}function $c(e,t,n,r,i,s,a,o,l,c,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){ac(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt});var p=(62914560&s)===s?Mc-le():(4194048&s)===s?Pc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&cd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ad&&(ad=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&ph(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,h=l.initiatorType;u&&ph(h)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ad?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p),null!==p)return Uc=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,i,a,o,l,u,h,null,d,f)),void Zc(e,s,a,!c)}gu(e,t,s,n,r,i,a,o,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Cc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Me(e,n,t)}function eu(){return 0!==(6&pc)||(Ru(0,!1),!1)}function tu(){if(null!==gc){if(0===vc)var e=gc.return;else _i=Ei=null,oa(e=gc),ls=null,cs=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,tu(),mc=e,gc=n=Ur(e.current,null),yc=t,vc=0,bc=null,wc=!1,xc=Te(e,t),Sc=!1,Ic=Tc=Cc=Nc=_c=Ec=0,Dc=Ac=null,jc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return kc=t,Dr(),n}function ru(e,t){qs=null,P.H=go,t===Ji||t===es?(t=as(),vc=3):t===Zi?(t=as(),vc=4):vc=t===Mo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Ec=1,To(e,Yr(t,e.current)))}function iu(){var e=Ms.current;return null===e||((4194048&yc)===yc?null===Ps:((62914560&yc)===yc||0!==(536870912&yc))&&e===Ps)}function su(){var e=P.H;return P.H=go,null===e?go:e}function au(){var e=P.A;return P.A=dc,e}function ou(){Ec=4,wc||(4194048&yc)!==yc&&null!==Ms.current||(xc=!0),0===(134217727&_c)&&0===(134217727&Nc)||null===mc||Zc(mc,yc,Tc,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=su(),s=au();mc===e&&yc===t||(Oc=null,nu(e,t)),t=!1;var a=Ec;e:for(;;)try{if(0!==vc&&null!==gc){var o=gc,l=bc;switch(vc){case 8:tu(),a=6;break e;case 3:case 2:case 9:case 6:null===Ms.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,o,l,c),n&&xc){a=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,o,l,c)}}cu(),a=Ec;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,_i=Ei=null,pc=r,P.H=i,P.A=s,null===gc&&(mc=null,yc=0,Dr()),a}function cu(){for(;null!==gc;)hu(gc)}function uu(){for(;null!==gc&&!ae();)hu(gc)}function hu(e){var t=ol(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qo(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Qo(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:oa(t);default:gl(n,t),t=ol(n,t=gc=Br(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){_i=Ei=null,oa(t),ls=null,cs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=Ms.current)){switch(n.tag){case 31:case 13:return null===Ps?ou():null===n.alternate&&0===Ec&&(Ec=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_u(e,r,i)),!1;case 22:return n.flags|=65536,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_u(e,r,i)),!1}throw Error(a(435,n.tag))}return _u(e,r,i),ou(),!1}if(di)return null!==(t=Ms.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&Si(Yr(e=Error(a(422),{cause:r}),n))):(r!==mi&&Si(Yr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),Ss(e,i=Ao(e.stateNode,r,i)),4!==Ec&&(Ec=2)),!1;var s=Error(a(520),{cause:r});if(s=Yr(s,n),null===Ac?Ac=[s]:Ac.push(s),4!==Ec&&(Ec=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ss(n,e=Ao(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Rc||!Rc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,jo(i=Do(i),e,n,r),Ss(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yc))return Ec=1,To(e,Yr(n,e.current)),void(gc=null)}catch(s){if(null!==i)throw gc=i,s;return Ec=1,To(e,Yr(n,e.current)),void(gc=null)}32768&t.flags?(di||1===r?e=!0:xc||0!==(536870912&yc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ms.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=pl(t.alternate,t,kc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Ec&&(Ec=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Ec=6,gc=null}function gu(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==zc);if(0!==(6&pc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Me(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Ar,o,l,c),e===mc&&(gc=mc=null,yc=0),Vc=t,Fc=e,Uc=n,Bc=s,qc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=P.T,P.T=null,i=L.p,L.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,mh=wd,sr(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},wd=!1,Pl=t;null!==Pl;)if(e=(t=Pl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Pl=e;else for(;null!==Pl;){switch(s=(t=Pl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Eo(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Eu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ah(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ah(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Pl=e;break}Pl=t.return}}(e,t)}finally{pc=o,L.p=i,P.T=r}}zc=1,yu(),vu(),bu()}}function yu(){if(1===zc){zc=0;var e=Fc,t=Vc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Ql(t,e);var s=gh,a=ir(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&rr(o.ownerDocument.documentElement,o)){if(null!==l&&sr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=nr(o,m),v=nr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wd=!!mh,gh=mh=null}finally{pc=i,L.p=r,P.T=n}}e.current=t,zc=2}}function vu(){if(2===zc){zc=0;var e=Fc,t=Vc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=P.T,P.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Ll(e,t.alternate,t)}finally{pc=i,L.p=r,P.T=n}}zc=3}}function bu(){if(4===zc||3===zc){zc=0,oe();var e=Fc,t=Vc,n=Uc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?zc=5:(zc=0,Vc=Fc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Rc=null),Re(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=P.T,i=L.p,L.p=2,P.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{P.T=t,L.p=i}}0!==(3&Uc)&&xu(),Ou(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Qc?Gc++:(Gc=0,Qc=e):Gc=0,Ru(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ui(t)))}function xu(){return yu(),vu(),bu(),Su()}function Su(){if(5!==zc)return!1;var e=Fc,t=Bc;Bc=0;var n=Re(Uc),r=P.T,i=L.p;try{L.p=32>n?32:n,P.T=null,n=qc,qc=null;var s=Fc,o=Uc;if(zc=0,Vc=Fc=null,Uc=0,0!==(6&pc))throw Error(a(331));var l=pc;if(pc|=4,cc(s.current),tc(s,s.current,o,n),pc=l,Ru(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(c){}return!0}finally{L.p=i,P.T=r,wu(e,t)}}function ku(e,t,n){t=Yr(n,t),null!==(e=ws(e,t=Ao(e.stateNode,t,2),2))&&(je(e,2),Ou(e))}function Eu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rc||!Rc.has(r))){e=Yr(n,e),null!==(r=ws(t,n=Do(2),2))&&(jo(n,r,t,e),je(r,2),Ou(r));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Sc=!0,i.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===Ec||3===Ec&&(62914560&yc)===yc&&300>le()-Mc?0===(2&pc)&&nu(e,0):Cc|=n,Ic===yc&&(Ic=0)),Ou(e)}function Cu(e,t){0===t&&(t=Ae()),null!==(e=Pr(e,t))&&(je(e,t),Ou(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cu(e,n)}var Au=null,Du=null,ju=!1,Mu=!1,Pu=!1,Lu=0;function Ou(e){e!==Du&&null===e.next&&(null===Du?Au=Du=e:Du=Du.next=e),Mu=!0,ju||(ju=!0,_h(function(){0!==(6&pc)?ie(ue,zu):Fu()}))}function Ru(e,t){if(!Pu&&Mu){Pu=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Bu(r,s))}else s=yc,0===(3&(s=Ce(r,r===mc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,s)||(n=!0,Bu(r,s));r=r.next}}while(n);Pu=!1}}function zu(){Fu()}function Fu(){Mu=ju=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xh&&(xh=e,!0);return xh=null,!1}()&&(e=Lu);for(var t=le(),n=null,r=Au;null!==r;){var i=r.next,s=Vu(r,t);0===s?(r.next=null,null===n?Au=i:n.next=i,null===i&&(Du=n)):(n=r,(0!==e||0!==(3&s))&&(Mu=!0)),r=i}0!==zc&&5!==zc||Ru(e,!1),0!==Lu&&(Lu=0)}function Vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-we(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ie(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=yc,n=Ce(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Re(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=Uu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Ce(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Bu(e,t){if(xu())return null;Xc(e,t,!0)}function qu(){if(0===Lu){var e=Hi;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Lu=e}return Lu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Gu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Qu=0;Qu<_r.length;Qu++){var Ku=_r[Qu];Nr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Nr(yr,"onAnimationEnd"),Nr(vr,"onAnimationIteration"),Nr(br,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(wr,"onTransitionRun"),Nr(xr,"onTransitionStart"),Nr(Sr,"onTransitionCancel"),Nr(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function Xu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Cr(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Cr(u)}i.currentTarget=null,s=l}}}}function $u(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(th(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),th(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function th(e,t,n,r){switch(Cd(t)){case 2:var i=xd;break;case 8:i=Sd;break;default:i=kd}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nh(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Xe(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Ft(function(){var r=s,i=Pt(n),a=[];e:{var o=Er.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case yr:case vr:case br:c=un;break;case kr:c=Sn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=En}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Vt(m,f))&&h.push(rh(m,g,p)),d)break;m=m.return}0<h.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[qe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=wn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?o:Je(c),p=null==u?o:Je(u),(o=new h(g,m+"leave",c,n,i)).target=d,o.relatedTarget=p,g=null,Xe(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(h=sh,m=u,p=0,g=f=c;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==c&&ah(a,o,c,h,!1),null!==u&&null!==d&&ah(a,d,u,h,!0)}if("select"===(c=(o=r?Je(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Bn;else if(On(o))if(qn)v=Jn;else{v=Xn;var b=Yn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(v=Bn):v=$n;switch(v&&(v=v(e,r))?Rn(a,v,n,i):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?Je(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(or=b,lr=r,cr=null);break;case"focusout":cr=lr=or=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,hr(a,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":hr(a,n,i)}var w;if(Nn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pn?jn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(In&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Pn&&(w=Kt()):(Gt="value"in(Ht=i)?Ht.value:Ht.textContent,Pn=!0)),0<(b=ih(r,x)).length&&(x=new dn(x,e,null,n,i),a.push({event:x,listeners:b}),w?x.data=w:null!==(w=Mn(n))&&(x.data=w))),(w=Tn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Dn=!0,An);case"textInput":return(e=t.data)===An&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Nn&&jn(e,t)?(e=Kt(),Qt=Gt=Ht=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=ih(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Hu((i[Be]||null).action),a=r.submitter;a&&null!==(t=(t=a[Be]||null)?Hu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new nn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lu){var e=a?Gu(i,a):new FormData(i);to(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Gu(i,a):new FormData(i),to(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Xu(a,t)})}function rh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ih(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Vt(e,n))&&r.unshift(rh(e,i,s)),null!=(i=Vt(e,t))&&r.push(rh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function sh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ah(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Vt(n,s))&&a.unshift(rh(n,c,l)):i||null!=(c=Vt(n,s))&&a.push(rh(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var oh=/\r\n?/g,lh=/\u0000|\uFFFD/g;function ch(e){return("string"===typeof e?e:""+e).replace(oh,"\n").replace(lh,"")}function uh(e,t){return t=ch(t),ch(e)===t}function hh(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&hh(e,t,"name",i.name,i,null),hh(e,t,"formEncType",i.formEncType,i,null),hh(e,t,"formMethod",i.formMethod,i,null),hh(e,t,"formTarget",i.formTarget,i,null)):(hh(e,t,"encType",i.encType,i,null),hh(e,t,"method",i.method,i,null),hh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=jt);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$u("beforetoggle",e),$u("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function dh(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"onClick":null!=r&&(e.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Be]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:hh(e,t,r,o,n,null)}}return s&&hh(e,t,"srcSet",n.srcSet,n,null),void(i&&hh(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:hh(e,t,i,h,n,null)}}return void bt(e,r,l,c,u,o,s,!1);case"select":for(s in $u("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:hh(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(o in $u("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:hh(e,t,o,l,n,null)}return void kt(e,i,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else hh(e,t,c,i,n,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(i=0;i<Wu.length;i++)$u(Wu[i],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:hh(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&dh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&hh(e,t,l,i,n,null))}function ph(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mh=null,gh=null;function yh(e){return 9===e.nodeType?e:e.ownerDocument}function vh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xh=null;var Sh="function"===typeof setTimeout?setTimeout:void 0,kh="function"===typeof clearTimeout?clearTimeout:void 0,Eh="function"===typeof Promise?Promise:void 0,_h="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Eh?function(e){return Eh.resolve(null).then(e).catch(Nh)}:Sh;function Nh(e){setTimeout(function(){throw e})}function Ch(e){return"head"===e}function Th(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Gd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fh(e.ownerDocument.documentElement);else if("head"===n){Fh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[We]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&Fh(e.ownerDocument.body);n=i}while(n);Gd(t)}function Ih(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ah(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ah(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Dh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ph(e.nextSibling)))return null}return e}function jh(e){return"$?"===e.data||"$~"===e.data}function Mh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ph(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Lh=null;function Oh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ph(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Rh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zh(e,t,n){switch(t=yh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Fh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Vh=new Map,Uh=new Set;function Bh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qh=L.d;L.d={f:function(){var e=qh.f(),t=eu();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qh.r(e)},D:function(e){qh.D(e),Gh("dns-prefetch",e,null)},C:function(e,t){qh.C(e,t),Gh("preconnect",e,t)},L:function(e,t,n){qh.L(e,t,n);var r=Hh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Kh(e);break;case"script":s=Xh(e)}Vh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Wh(s))||"script"===t&&r.querySelector($h(s))||(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qh.m(e,t);var n=Hh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xh(e)}if(!Vh.has(s)&&(e=f({rel:"modulepreload",href:e},t),Vh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($h(s)))return}fh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qh.X(e,t);var n=Hh;if(n&&e){var r=Ze(n).hoistableScripts,i=Xh(e),s=r.get(i);s||((s=n.querySelector($h(i)))||(e=f({src:e,async:!0},t),(t=Vh.get(i))&&td(e,t),et(s=n.createElement("script")),fh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){qh.S(e,t,n);var r=Hh;if(r&&e){var i=Ze(r).hoistableStyles,s=Kh(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Wh(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vh.get(s))&&ed(e,n);var l=a=r.createElement("link");et(l),fh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){qh.M(e,t);var n=Hh;if(n&&e){var r=Ze(n).hoistableScripts,i=Xh(e),s=r.get(i);s||((s=n.querySelector($h(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Vh.get(i))&&td(e,t),et(s=n.createElement("script")),fh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Hh="undefined"===typeof document?null:document;function Gh(e,t,n){var r=Hh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Uh.has(i)||(Uh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Qh(e,t,n,r){var i,s,o,l,c=(c=Q.current)?Bh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kh(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kh(n.href);var u=Ze(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Wh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Vh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vh.set(e,n),u||(i=c,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),fh(s,"link",o),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xh(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Kh(e){return'href="'+yt(e)+'"'}function Wh(e){return'link[rel="stylesheet"]['+e+"]"}function Yh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xh(e){return'[src="'+yt(e)+'"]'}function $h(e){return"script[async]"+e}function Jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fh(r,"style",i),Zh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kh(n.href);var s=e.querySelector(Wh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Yh(n),(i=Vh.get(i))&&ed(r,i),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fh(s,"link",r),t.state.loading|=4,Zh(s,n.precedence,e),t.instance=s;case"script":return s=Xh(n.src),(i=e.querySelector($h(s)))?(t.instance=i,et(i),i):(r=n,(i=Vh.get(s))&&td(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zh(r,n.precedence,e));return t.instance}function Zh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nd=null;function rd(e,t,n){if(null===nd){var r=new Map,i=nd=new Map;i.set(n,r)}else(r=(i=nd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[We]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ad=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ld=null;function cd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ld=new Map,t.forEach(ud,e),ld=null,od.call(e))}function ud(e,t){if(!(4&t.state.loading)){var n=ld.get(e);if(n)var r=n.get(null);else{n=new Map,ld.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var hd={$$typeof:x,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function dd(e,t,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fd(e,t,n,r,i,s,a,o,l,c,u,h){return e=new dd(e,t,n,a,l,c,u,h,o),t=1,!0===s&&(t|=24),s=Fr(3,null,null,t),e.current=s,s.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ys(s),e}function pd(e){return e?e=Rr:Rr}function md(e,t,n,r,i,s){i=pd(i),null===r.context?r.context=i:r.pendingContext=i,(r=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ws(e,r,t))&&(Yc(n,0,t),xs(n,e,t))}function gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yd(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function vd(e){if(13===e.tag||31===e.tag){var t=Pr(e,67108864);null!==t&&Yc(t,0,67108864),yd(e,67108864)}}function bd(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Pr(e,t=Oe(t));null!==n&&Yc(n,0,t),yd(e,t)}}var wd=!0;function xd(e,t,n,r){var i=P.T;P.T=null;var s=L.p;try{L.p=2,kd(e,t,n,r)}finally{L.p=s,P.T=i}}function Sd(e,t,n,r){var i=P.T;P.T=null;var s=L.p;try{L.p=8,kd(e,t,n,r)}finally{L.p=s,P.T=i}}function kd(e,t,n,r){if(wd){var i=Ed(r);if(null===i)nh(e,t,r,_d,n),Od(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Id=Rd(Id,e,t,n,r,i),!0;case"dragenter":return Ad=Rd(Ad,e,t,n,r,i),!0;case"mouseover":return Dd=Rd(Dd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jd.set(s,Rd(jd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Md.set(s,Rd(Md.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Od(e,r),4&t&&-1<Ld.indexOf(e)){for(;null!==i;){var s=$e(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ne(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-we(a);o.entanglements[1]|=l,a&=~l}Ou(s),0===(6&pc)&&(Lc=le()+500,Ru(0,!1))}}break;case 31:case 13:null!==(o=Pr(s,2))&&Yc(o,0,2),eu(),yd(s,2)}if(null===(s=Ed(r))&&nh(e,t,r,_d,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else nh(e,t,r,null,n)}}function Ed(e){return Nd(e=Pt(e))}var _d=null;function Nd(e){if(_d=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _d=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Td=!1,Id=null,Ad=null,Dd=null,jd=new Map,Md=new Map,Pd=[],Ld="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Od(e,t){switch(e){case"focusin":case"focusout":Id=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":Dd=null;break;case"pointerover":case"pointerout":jd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Md.delete(t.pointerId)}}function Rd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zd(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){bd(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){bd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ed(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function Vd(e,t,n){Fd(e)&&n.delete(t)}function Ud(){Td=!1,null!==Id&&Fd(Id)&&(Id=null),null!==Ad&&Fd(Ad)&&(Ad=null),null!==Dd&&Fd(Dd)&&(Dd=null),jd.forEach(Vd),Md.forEach(Vd)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ud)))}var qd=null;function Hd(e){qd!==e&&(qd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qd===e&&(qd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Nd(r||n))continue;break}var s=$e(n);null!==s&&(e.splice(t,3),t-=3,to(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Gd(e){function t(t){return Bd(t,e)}null!==Id&&Bd(Id,e),null!==Ad&&Bd(Ad,e),null!==Dd&&Bd(Dd,e),jd.forEach(t),Md.forEach(t);for(var n=0;n<Pd.length;n++){var r=Pd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Pd.length&&null===(n=Pd[0]).blockedOn;)zd(n),null===n.blockedOn&&Pd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Be]||null;if("function"===typeof s)a||Hd(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Be]||null)o=a.formAction;else if(null!==Nd(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hd(n)}}}function Qd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kd(e){this._internalRoot=e}function Wd(e){this._internalRoot=e}Wd.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));md(t.current,Kc(),e,t,null,null)},Wd.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),eu(),t[qe]=null}},Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pd.length&&0!==t&&t<Pd[n].priority;n++);Pd.splice(n,0,e),0===n&&zd(e)}};var Yd=i.version;if("19.2.3"!==Yd)throw Error(a(527,Yd,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Xd={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{ye=$d.inject(Xd),ve=$d}catch(Zd){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=_o,s=No,l=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fd(e,1,!1,null,0,n,r,null,i,s,l,Qd),e[qe]=t.current,eh(e),new Kd(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=_o,l=No,c=Co,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fd(e,1,!0,t,0,r,i,u,s,l,c,Qd)).context=pd(null),n=t.current,(i=bs(r=Oe(r=Kc()))).callback=null,ws(n,i,r),n=r,t.current.lanes=n,je(t,n),Ou(t),e[qe]=t.current,eh(e),new Wd(t)},t.version="19.2.3"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=w.prototype=new b;x.constructor=w,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function k(){}var E={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function N(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return A((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+I(e,0):s,S(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),A(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=N(l.type,c,l.props)),t.push(a)),1;u=0;var h,f=""===s?".":s+":";if(S(e))for(var m=0;m<e.length;m++)u+=A(s=e[m],t,i,o=f+I(s,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,o=f+I(s,m++),a);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},P={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=P,t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!_.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return N(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return N(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,M)}catch(s){M(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.3"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,E||(E=!0,k());else{var t=r(u);null!==t&&j(S,t.startTime-e)}}var k,E=!1,_=-1,N=5,C=-1;function T(){return!!y||!(t.unstable_now()-C<N)}function I(){if(y=!1,E){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var s=f;try{t:{for(x(e),d=r(c);null!==d&&!(d.expirationTime>e&&T());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,x(e),n=!0;break t}d===r(c)&&i(c),x(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&j(S,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof w)k=function(){w(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=I,k=function(){D.postMessage(null)}}else k=function(){v(I,0)};function j(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,j(S,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".fd8ba581.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="team-accounting:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.p="/team-accounting/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[a,o,l]=r,c=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkteam_accounting=self.webpackChunkteam_accounting||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const h=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],m=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:h}=e,m=u(e,p);return(0,r.createElement)("svg",c(c(c({ref:t},f),{},{width:i,height:i,stroke:n,strokeWidth:a?24*Number(s)/Number(i):s,className:d("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...h.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),g=["className"],y=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{className:s}=n,a=u(n,g);return(0,r.createElement)(m,c({ref:i,iconNode:t,className:d("lucide-".concat((o=h(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},a));var o});return n.displayName=h(e),n},v=y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),b=y("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),w=y("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),x=y("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),S=y("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),k=y("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),E=y("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),_=y("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),N=y("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),C=y("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),T=y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),I=y("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),A=y("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),D=y("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),j=y("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),M=y("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),P=y("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),L=y("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),O=y("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),R=y("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),z=y("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),F=y("skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]),V=y("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),U=y("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),B=y("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),q=y("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),H=y("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),G=y("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Q=y("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),K=y("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),W=y("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Y=y("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),X=y("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),$=y("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),J=y("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Z=y("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),ee=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ee(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new ne;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const re=function(e){return function(e){const t=ee(e);return te.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ie=function(e){try{return te.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function se(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const ae=()=>{try{return se().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/team-accounting",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ie(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},oe=e=>{const t=(e=>{var t;return null===(t=ae())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},le=()=>{var e;return null===(e=ae())||void 0===e?void 0:e.config};class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function ue(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const he={};let de=!1;function fe(e,t){if("undefined"===typeof window||"undefined"===typeof document||!ue(window.location.host)||he[e]===t||he[e]||de)return;function n(e){return"__firebase__banner__".concat(e)}he[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(he))he[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{de=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function pe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function me(){var e;const t=null===(e=ae())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ge(){return!me()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){try{return"object"===typeof indexedDB}catch(e){return!1}}class ve extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(we,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ve(n,s,t)}}const we=/\{\$([^}]+)}/g;function xe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Se(n)&&Se(s)){if(!xe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Se(e){return null!==e&&"object"===typeof e}function ke(e){return e&&e._delegate?e._delegate:e}class Ee{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _e="[DEFAULT]";class Ne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ce;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_e})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===_e?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return this.component?this.component.multipleInstances?e:_e:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Te=[];var Ie;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ie||(Ie={}));const Ae={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},De=Ie.INFO,je={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Me=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=je[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Pe{constructor(e){this.name=e,this._logLevel=De,this._logHandler=Me,this._userLogHandler=null,Te.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...t),this._logHandler(this,Ie.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...t),this._logHandler(this,Ie.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...t),this._logHandler(this,Ie.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...t),this._logHandler(this,Ie.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...t),this._logHandler(this,Ie.ERROR,...t)}}let Le,Oe;const Re=new WeakMap,ze=new WeakMap,Fe=new WeakMap,Ve=new WeakMap,Ue=new WeakMap;let Be={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ze.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Fe.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ge(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function qe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Qe(this),n),Ge(Re.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ge(e.apply(Qe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Qe(this),t,...r);return Fe.set(s,t.sort?t.sort():[t]),Ge(s)}}function He(e){return"function"===typeof e?qe(e):(e instanceof IDBTransaction&&function(e){if(ze.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});ze.set(e,t)}(e),t=e,(Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Be):e);var t}function Ge(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ge(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Re.set(t,e)}).catch(()=>{}),Ue.set(t,e),t}(e);if(Ve.has(e))return Ve.get(e);const t=He(e);return t!==e&&(Ve.set(e,t),Ue.set(t,e)),t}const Qe=e=>Ue.get(e);const Ke=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],Ye=new Map;function Xe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ye.get(t))return Ye.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=We.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ke.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Ye.set(t,s),s}Be=(e=>c(c({},e),{},{get:(t,n,r)=>Xe(t,n)||e.get(t,n,r),has:(t,n)=>!!Xe(t,n)||e.has(t,n)}))(Be);class $e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Je="@firebase/app",Ze="0.14.6",et=new Pe("@firebase/app"),tt="@firebase/app-compat",nt="@firebase/analytics-compat",rt="@firebase/analytics",it="@firebase/app-check-compat",st="@firebase/app-check",at="@firebase/auth",ot="@firebase/auth-compat",lt="@firebase/database",ct="@firebase/data-connect",ut="@firebase/database-compat",ht="@firebase/functions",dt="@firebase/functions-compat",ft="@firebase/installations",pt="@firebase/installations-compat",mt="@firebase/messaging",gt="@firebase/messaging-compat",yt="@firebase/performance",vt="@firebase/performance-compat",bt="@firebase/remote-config",wt="@firebase/remote-config-compat",xt="@firebase/storage",St="@firebase/storage-compat",kt="@firebase/firestore",Et="@firebase/ai",_t="@firebase/firestore-compat",Nt="firebase",Ct="[DEFAULT]",Tt={[Je]:"fire-core",[tt]:"fire-core-compat",[rt]:"fire-analytics",[nt]:"fire-analytics-compat",[st]:"fire-app-check",[it]:"fire-app-check-compat",[at]:"fire-auth",[ot]:"fire-auth-compat",[lt]:"fire-rtdb",[ct]:"fire-data-connect",[ut]:"fire-rtdb-compat",[ht]:"fire-fn",[dt]:"fire-fn-compat",[ft]:"fire-iid",[pt]:"fire-iid-compat",[mt]:"fire-fcm",[gt]:"fire-fcm-compat",[yt]:"fire-perf",[vt]:"fire-perf-compat",[bt]:"fire-rc",[wt]:"fire-rc-compat",[xt]:"fire-gcs",[St]:"fire-gcs-compat",[kt]:"fire-fst",[_t]:"fire-fst-compat",[Et]:"fire-vertex","fire-js":"fire-js",[Nt]:"fire-js-all"},It=new Map,At=new Map,Dt=new Map;function jt(e,t){try{e.container.addComponent(t)}catch(n){et.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Mt(e){const t=e.name;if(Dt.has(t))return et.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dt.set(t,e);for(const n of It.values())jt(n,e);for(const n of At.values())jt(n,e);return!0}function Pt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Lt=new be("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ot{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ee("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}function Rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:Ct,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Lt.create("bad-app-name",{appName:String(i)});if(n||(n=le()),!n)throw Lt.create("no-options");const s=It.get(i);if(s){if(xe(n,s.options)&&xe(r,s.config))return s;throw Lt.create("duplicate-app",{appName:i})}const a=new Ce(i);for(const l of Dt.values())a.addComponent(l);const o=new Ot(n,r,a);return It.set(i,o),o}function zt(e,t,n){var r;let i=null!==(r=Tt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void et.warn(e.join(" "))}Mt(new Ee("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Ft="firebase-heartbeat-store";let Vt=null;function Ut(){return Vt||(Vt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Ge(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Ge(a.result),e.oldVersion,e.newVersion,Ge(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ft)}catch(n){console.warn(n)}}}).catch(e=>{throw Lt.create("idb-open",{originalErrorMessage:e.message})})),Vt}async function Bt(e,t){try{const n=(await Ut()).transaction(Ft,"readwrite"),r=n.objectStore(Ft);await r.put(t,qt(e)),await n.done}catch(n){if(n instanceof ve)et.warn(n.message);else{const e=Lt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});et.warn(e.message)}}}function qt(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ht{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Gt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){et.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Gt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Kt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Kt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=re(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return et.warn(t),""}}}function Gt(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ye()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ut()).transaction(Ft),n=await t.objectStore(Ft).get(qt(e));return await t.done,n}catch(t){if(t instanceof ve)et.warn(t.message);else{const e=Lt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});et.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Bt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Bt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Kt(e){return re(JSON.stringify({version:2,heartbeats:e})).length}var Wt;Wt="",Mt(new Ee("platform-logger",e=>new $e(e),"PRIVATE")),Mt(new Ee("heartbeat",e=>new Ht(e),"PRIVATE")),zt(Je,Ze,Wt),zt(Je,Ze,"esm2020"),zt("fire-js","");zt("firebase","12.6.0","app");var Yt,Xt,$t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,a=e.g[3];s=t+(a^n&(i^a))+r[0]+3614090360&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[3]+3250441966&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[4]+4118548399&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[7]+4249261313&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[8]+1770035416&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[11]+2304563134&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[12]+1804603682&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[15]+1236535329&4294967295,s=t+(i^a&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[11]+643717713&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[0]+3921069994&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[15]+3634488961&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[4]+3889429448&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[3]+4107603335&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[8]+1163531501&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[7]+1735328473&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^a)+r[5]+4294588738&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[11]+1839030562&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[1]+2763975236&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[7]+4139469664&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[13]+681279174&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[3]+3572445317&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[9]+3654602809&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[15]+530742520&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~a))+r[0]+4096336452&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[14]+2878612391&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[12]+1700485571&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[10]+4293915773&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[8]+1873313359&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[6]+2734768916&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[4]+4149444226&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[2]+718787259&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,a=0;for(;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return d(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||c.l(e)>0;)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),a=e.i(t)>>>16,o=65535&e.i(t);n[2*i+2*t]+=s*o,p(n,2*i+2*t),n[2*i+2*t+1]+=r*o,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*a,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*a,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Xt=Jt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let i=o;for(let o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+s),n);s<8?(s=a(Math.pow(n,s)),i=i.j(s).add(a(e))):(i=i.j(r),i=i.add(a(e)))}return i},Yt=Jt.Integer=r}).apply("undefined"!==typeof $t?$t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Zt,en,tn,nn,rn,sn,an,on,ln="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},cn={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ln&&ln];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function N(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,E),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),I=0;function A(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++I,this.da=this.fa=!1}function D(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function M(e){const t={};for(const n in e)t[n]=e[n];return t}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){this.src=e,this.g={},this.h=0}function R(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(D(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}O.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const a=z(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new A(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),V={};function U(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)U(e,t[s],n,r,i);return null}return n=X(n),e&&e[T]?e.J(t,n,a(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const o=a(i)?!!i.capture:!!i;let l=W(e);if(l||(e[F]=l=new O(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=K;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=X(n),e&&e[T]?e.K(t,n,a(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=X(n),e&&e[T]?(e=e.i,(s=String(t).toString())in e.g&&((n=z(t=e.g[s],n,r,i))>-1&&(D(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=W(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=e>-1?t[e]:null)&&G(n))}function G(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])R(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=W(t))?(R(n,e),0==n.h&&(n.src=null,t[F]=null)):D(e)}}}function Q(e){return e in V?V[e]:V[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function W(e){return(e=e[F])instanceof O?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){k.call(this),this.i=new O(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;L(t=new E(r,e),i)}let s,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)s=t.g=n[a],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)s=t.g=n[a],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const a=t[s];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&R(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,k),$.prototype[T]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)D(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){j(e.g,function(e,t){this.g.hasOwnProperty(t)&&G(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,ae=s.JSON.parse,oe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){E.call(this,"d")}function de(){E.call(this,"c")}u(he,E),u(de,E);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){E.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Se(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ve,E),fe.Ja="timingevent",u(we,E),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var Ee,_e={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ne={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Te(e){return encodeURIComponent(String(e))}function Ie(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ae(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},Ee=new Ce;var je={},Me={};function Pe(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),ze(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new De,e.g=yn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=U(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?M(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var a="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Oe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Re(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ve(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||dn(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||We(n.h,e)))if(!e.L&&We(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;un(n),qt(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else pn(n,11)}else if((e.L||n.g==e)&&un(n),!N(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ye(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=gn(r,r.L?r.ba:null,r.W),a.L){Xe(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&(Ve(o),ze(o)),r.g=a}else Yt(r);n.i.length>0&&Gt(n)}else"stop"!=l[0]&&"close"!=l[0]||pn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?pn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Ae.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==zt(e)?t.j():this.Y(e)},Ae.prototype.Y=function(e){try{if(e==this.g)e:{const l=zt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||ye(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Oe(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,i=4==zt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),Ue(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,be(12),Be(this),Ue(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Re(this,n),t==Me){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==je){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),qe(this,t)}if(Oe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(o),o.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ue(this)}else ke(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?dn(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&zt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(N(e[r]))continue;var n=Ie(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ue(this)}}}catch(qn){}},Ae.prototype.cancel=function(){this.K=!0,Be(this)},Ae.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,Ue(this)):Fe(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function We(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}Ge.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(Te(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function kt(){this.g=new oe}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function _t(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Nt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Tt(e)}function Tt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return j(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=It(n),"string"===typeof e?null!=n&&Te(n):it(e,t,n))}function Dt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Te(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Te(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new _t(this.i,this.h)},u(_t,$),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Tt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tt(this)),this.g&&(this.readyState=3,Tt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):Tt(this),3==this.readyState&&Nt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Dt,$);var jt=/^https?$/i,Mt=["POST","PUT"];function Pt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),Rt(e)}function Lt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Ot(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==zt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==zt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!jt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var a=zt(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Lt(e)}}finally{Rt(e)}}}function Rt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function zt(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ut(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Kt(e,n),(t=new Ae(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ze(t)}mn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(s.clearTimeout(e.v),e.v=null),un(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Gt(e){if(!Qe(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||x(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Qt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Kt(e,r),e.u&&e.o&&At(r,e.u,e.o),n=new Ae(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Wt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Pe(n,r,t)}function Kt(e,t){e.H&&j(e.H,function(e,n){it(t,n,e)}),e.l&&j({},function(e,n){it(t,n,e)})}function Wt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=i[c].g;const n=i[c].map;if((s-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(hn){throw e.push(s+"type="+encodeURIComponent("_badmap")),hn}}catch(hn){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||x(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),fn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Ae(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&At(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Le(n,e)}function un(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function dn(e,t){var n=null;if(e.g==t){un(e),$t(e),e.g=null;var r=2}else{if(!We(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Gt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),fn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:pn(e,5);break;case 4:pn(e,10);break;case 3:pn(e,6);break;default:pn(e,2)}}function fn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function pn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new Se;if(s.Image){const r=new Image;r.onload=c(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(St,n,"TestLoadImage: error",!1,t,r),r.onabort=c(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(St,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),mn(e),Ht(e)}function mn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function gn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Kt(e,r),r}function yn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Dt(new Et({ab:n})):new Dt(e.ma)).Fa(e.L),t}function vn(){}function bn(){}function wn(e,t){$.call(this),this.g=new Ut(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!N(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!N(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kn(this)}function xn(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){de.call(this),this.status=1}function kn(e){this.g=e}(e=Dt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Pt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Mt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Rt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rt(this,!0)),Dt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ot(this):this.Xa())},e.Xa=function(){Ot(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return zt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Ut.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=gn(this,null,this.W),Gt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ae(this,this.j,e);let s=this.o;if(this.U&&(s?(s=M(s),L(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Wt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Kt(this,n),s&&(this.R?t="headers="+Te(It(s))+"&"+t:this.u&&At(n,this.u,s)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Pe(i,n,null)):Pe(i,n,t),this.I=2}}else 3==this.I&&(e?Qt(this,e):0==this.i.length||Qe(this.h)||Qt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=vn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},bn.prototype.g=function(e,t){return new wn(e,t)},u(wn,$),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Bt(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Gt(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,wn.Z.N.call(this)},u(xn,he),u(Sn,de),u(kn,vn),kn.prototype.ra=function(){J(this.g,"a")},kn.prototype.qa=function(e){J(this.g,new xn(e))},kn.prototype.pa=function(e){J(this.g,new Sn)},kn.prototype.oa=function(){J(this.g,"b")},bn.prototype.createWebChannel=bn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,on=cn.createWebChannelTransport=function(){return new bn},an=cn.getStatEventTarget=function(){return me()},sn=cn.Event=fe,rn=cn.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,nn=cn.ErrorCode=_e,Ne.COMPLETE="complete",tn=cn.EventType=Ne,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,en=cn.WebChannel=ce,cn.FetchXmlHttpFactory=Et,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,Zt=cn.XhrIo=Dt}).apply("undefined"!==typeof ln?ln:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const un="@firebase/firestore",hn="4.9.2";class dn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let fn="12.3.0";const pn=new Pe("@firebase/firestore");function mn(){return pn.logLevel}function gn(e){if(pn.logLevel<=Ie.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bn);pn.debug("Firestore (".concat(fn,"): ").concat(e),...i)}}function yn(e){if(pn.logLevel<=Ie.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bn);pn.error("Firestore (".concat(fn,"): ").concat(e),...i)}}function vn(e){if(pn.logLevel<=Ie.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bn);pn.warn("Firestore (".concat(fn,"): ").concat(e),...i)}}function bn(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function wn(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,xn(e,r,n)}function xn(e,t,n){let r="FIRESTORE (".concat(fn,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw yn(r),new Error(r)}function Sn(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||xn(t,i,r)}function kn(e,t){return e}const En={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends ve{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Nn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cn{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Tn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class In{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class An{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Sn(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Nn,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{gn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(gn("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Nn)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(gn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Sn("string"==typeof t.accessToken,31837,{l:t}),new Cn(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sn(null===e||"string"==typeof e,2055,{h:e}),new dn(e)}}class Dn{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jn{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Dn(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pn{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Sn(void 0===this.o,3512);const n=e=>{null!=e.error&&gn("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,gn("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{gn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):gn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mn(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Sn("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Mn(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ln(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class On{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ln(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Rn(e,t){return e<t?-1:e>t?1:0}function zn(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Un(n)===Un(i)?Rn(n,i):Un(n)?1:-1}return Rn(e.length,t.length)}const Fn=55296,Vn=57343;function Un(e){const t=e.charCodeAt(0);return t>=Fn&&t<=Vn}function Bn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const qn="__name__";class Hn{constructor(e,t,n){void 0===t?t=0:t>e.length&&wn(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&wn(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Hn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Hn.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Rn(e.length,t.length)}static compareSegments(e,t){const n=Hn.isNumericId(e),r=Hn.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Hn.extractNumericId(e).compare(Hn.extractNumericId(t)):zn(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yt.fromString(e.substring(4,e.length-2))}}class Gn extends Hn{construct(e,t,n){return new Gn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _n(En.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Gn(e)}static emptyPath(){return new Gn([])}}const Qn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Hn{construct(e,t,n){return new Kn(e,t,n)}static isValidIdentifier(e){return Qn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===qn}static keyField(){return new Kn([qn])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _n(En.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _n(En.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _n(En.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new _n(En.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}class Wn{constructor(e){this.path=e}static fromPath(e){return new Wn(Gn.fromString(e))}static fromName(e){return new Wn(Gn.fromString(e).popFirst(5))}static empty(){return new Wn(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wn(new Gn(e.slice()))}}function Yn(e,t,n){if(!n)throw new _n(En.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xn(e){if(!Wn.isDocumentKey(e))throw new _n(En.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $n(e){if(Wn.isDocumentKey(e))throw new _n(En.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jn(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Zn(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":wn(12329,{type:typeof e})}function er(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _n(En.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zn(e);throw new _n(En.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function tr(e,t){if(t<=0)throw new _n(En.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function nr(e,t){const n={typeString:e};return t&&(n.value=t),n}function rr(e,t){if(!Jn(e))throw new _n(En.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new _n(En.INVALID_ARGUMENT,n);return!0}const ir=-62135596800,sr=1e6;class ar{static now(){return ar.fromMillis(Date.now())}static fromDate(e){return ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*sr);return new ar(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _n(En.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _n(En.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ir)throw new _n(En.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n(En.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sr}_compareTo(e){return this.seconds===e.seconds?Rn(this.nanoseconds,e.nanoseconds):Rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ar._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rr(e,ar._jsonSchema))return new ar(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ir;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ar._jsonSchemaVersion="firestore/timestamp/1.0",ar._jsonSchema={type:nr("string",ar._jsonSchemaVersion),seconds:nr("number"),nanoseconds:nr("number")};class or{static fromTimestamp(e){return new or(e)}static min(){return new or(new ar(0,0))}static max(){return new or(new ar(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lr=-1;class cr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}cr.UNKNOWN_ID=-1;function ur(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=or.fromTimestamp(1e9===r?new ar(n+1,0):new ar(n,r));return new dr(i,Wn.empty(),t)}function hr(e){return new dr(e.readTime,e.key,lr)}class dr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new dr(or.min(),Wn.empty(),lr)}static max(){return new dr(or.max(),Wn.empty(),lr)}}function fr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Wn.comparator(e.documentKey,t.documentKey),0!==n?n:Rn(e.largestBatchId,t.largestBatchId))}const pr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function gr(e){if(e.code!==En.FAILED_PRECONDITION||e.message!==pr)throw e;gn("LocalStore","Unexpectedly lost primary lease")}class yr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new yr((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof yr?t:yr.resolve(t)}catch(e){return yr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):yr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):yr.reject(t)}static resolve(e){return new yr((t,n)=>{t(e)})}static reject(e){return new yr((t,n)=>{n(e)})}static waitFor(e){return new yr((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=yr.resolve(!1);for(const n of e)t=t.next(e=>e?yr.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new yr((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new yr((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function vr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function br(e){return"IndexedDbTransactionError"===e.name}class wr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wr.ce=-1;const xr=-1;function Sr(e){return null==e}function kr(e){return 0===e&&1/e==-1/0}function Er(e){return"number"==typeof e&&Number.isInteger(e)&&!kr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const _r="\x01";function Nr(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Tr(t)),t=Cr(e.get(n),t);return Tr(t)}function Cr(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case _r:n+="\x01\x11";break;default:n+=t}}return n}function Tr(e){return e+_r+"\x01"}const Ir="remoteDocuments",Ar="owner",Dr="mutationQueues",jr="mutations";const Mr="documentMutations",Pr="remoteDocumentsV14",Lr="remoteDocumentGlobal",Or="targets",Rr="targetDocuments",zr="targetGlobal",Fr="collectionParents",Vr="clientMetadata",Ur="bundles",Br="namedQueries",qr="indexConfiguration",Hr="indexState",Gr="indexEntries",Qr="documentOverlays",Kr="globals",Wr=[Dr,jr,Mr,Ir,Or,Ar,zr,Rr,Vr,Lr,Fr,Ur,Br],Yr=[Dr,jr,Mr,Pr,Or,Ar,zr,Rr,Vr,Lr,Fr,Ur,Br,Qr],Xr=Yr,$r=[...Xr,qr,Hr,Gr];function Jr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ei(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ti{constructor(e,t){this.comparator=e,this.root=t||ri.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ni(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ni(this.root,e,this.comparator,!1)}getReverseIterator(){return new ni(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ni(this.root,e,this.comparator,!0)}}class ni{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ri{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ri.RED,this.left=null!=r?r:ri.EMPTY,this.right=null!=i?i:ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ri(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ri.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wn(27949);return e+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1,ri.EMPTY=new class{constructor(){this.size=0}get key(){throw wn(57766)}get value(){throw wn(16141)}get color(){throw wn(16727)}get left(){throw wn(29726)}get right(){throw wn(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ri(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ii{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new si(this.data.getIterator())}getIteratorFrom(e){return new si(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ii))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ii(this.comparator);return t.data=e,t}}class si{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new ai([])}unionWith(e){let t=new ii(Kn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class oi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oi("Invalid base64 string: "+e):e}}(e);return new li(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const ci=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(e){if(Sn(!!e,39018),"string"==typeof e){let t=0;const n=ci.exec(e);if(Sn(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:hi(e.seconds),nanos:hi(e.nanos)}}function hi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function di(e){return"string"==typeof e?li.fromBase64String(e):li.fromUint8Array(e)}const fi="server_timestamp",pi="__type__",mi="__previous_value__",gi="__local_write_time__";function yi(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[pi])||void 0===t?void 0:t.stringValue)===fi}function vi(e){const t=e.mapValue.fields[mi];return yi(t)?vi(t):t}function bi(e){const t=ui(e.mapValue.fields[gi].timestampValue);return new ar(t.seconds,t.nanos)}class wi{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const xi="(default)";class Si{constructor(e,t){this.projectId=e,this.database=t||xi}static empty(){return new Si("","")}get isDefaultDatabase(){return this.database===xi}isEqual(e){return e instanceof Si&&e.projectId===this.projectId&&e.database===this.database}}const ki="__type__",Ei="__max__",_i={mapValue:{fields:{__type__:{stringValue:Ei}}}},Ni="__vector__",Ci="value";function Ti(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yi(e)?4:Gi(e)?9007199254740991:qi(e)?10:11:wn(28295,{value:e})}function Ii(e,t){if(e===t)return!0;const n=Ti(e);if(n!==Ti(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bi(e).isEqual(bi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ui(e.timestampValue),r=ui(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return di(e.bytesValue).isEqual(di(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hi(e.geoPointValue.latitude)===hi(t.geoPointValue.latitude)&&hi(e.geoPointValue.longitude)===hi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hi(e.integerValue)===hi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=hi(e.doubleValue),r=hi(t.doubleValue);return n===r?kr(n)===kr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bn(e.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Jr(n)!==Jr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ii(n[i],r[i])))return!1;return!0}(e,t);default:return wn(52216,{left:e})}}function Ai(e,t){return void 0!==(e.values||[]).find(e=>Ii(e,t))}function Di(e,t){if(e===t)return 0;const n=Ti(e),r=Ti(t);if(n!==r)return Rn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=hi(e.integerValue||e.doubleValue),r=hi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ji(e.timestampValue,t.timestampValue);case 4:return ji(bi(e),bi(t));case 5:return zn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=di(e),r=di(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Rn(n[i],r[i]);if(0!==e)return e}return Rn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Rn(hi(e.latitude),hi(t.latitude));return 0!==n?n:Rn(hi(e.longitude),hi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Mi(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Ci])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Ci])||void 0===r?void 0:r.arrayValue,u=Rn((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Mi(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_i.mapValue&&t===_i.mapValue)return 0;if(e===_i.mapValue)return 1;if(t===_i.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=zn(r[a],s[a]);if(0!==e)return e;const t=Di(n[r[a]],i[s[a]]);if(0!==t)return t}return Rn(r.length,s.length)}(e.mapValue,t.mapValue);default:throw wn(23264,{he:n})}}function ji(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rn(e,t);const n=ui(e),r=ui(t),i=Rn(n.seconds,r.seconds);return 0!==i?i:Rn(n.nanos,r.nanos)}function Mi(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Di(n[i],r[i]);if(e)return e}return Rn(n.length,r.length)}function Pi(e){return Li(e)}function Li(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ui(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return di(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Li(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Li(e.fields[i]));return n+"}"}(e.mapValue):wn(61005,{value:e})}function Oi(e){switch(Ti(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vi(e);return t?16+Oi(t):16;case 5:return 2*e.stringValue.length;case 6:return di(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Oi(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Zr(e.fields,(e,n)=>{t+=e.length+Oi(n)}),t}(e.mapValue);default:throw wn(13486,{value:e})}}function Ri(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zi(e){return!!e&&"integerValue"in e}function Fi(e){return!!e&&"arrayValue"in e}function Vi(e){return!!e&&"nullValue"in e}function Ui(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bi(e){return!!e&&"mapValue"in e}function qi(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ki])||void 0===t?void 0:t.stringValue)===Ni}function Hi(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zr(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Hi(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hi(e.arrayValue.values[n]);return t}return c({},e)}function Gi(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ei}class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hi(t)}setAll(e){let t=Kn.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Hi(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Zr(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Qi(Hi(this.value))}}function Ki(e){const t=[];return Zr(e.fields,(e,n)=>{const r=new Kn([e]);if(Bi(n)){const e=Ki(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ai(t)}class Wi{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wi(e,0,or.min(),or.min(),or.min(),Qi.empty(),0)}static newFoundDocument(e,t,n,r){return new Wi(e,1,t,or.min(),n,r,0)}static newNoDocument(e,t){return new Wi(e,2,t,or.min(),or.min(),Qi.empty(),0)}static newUnknownDocument(e,t){return new Wi(e,3,t,or.min(),or.min(),Qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(or.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=or.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Yi{constructor(e,t){this.position=e,this.inclusive=t}}function Xi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Wn.comparator(Wn.fromName(a.referenceValue),n.key):Di(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $i(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ii(e.position[n],t.position[n]))return!1;return!0}class Ji{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Zi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class es{}class ts extends es{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new cs(e,t,n):"array-contains"===t?new fs(e,n):"in"===t?new ps(e,n):"not-in"===t?new ms(e,n):"array-contains-any"===t?new gs(e,n):new ts(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new us(e,n):new hs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Di(t,this.value)):null!==t&&Ti(this.value)===Ti(t)&&this.matchesComparison(Di(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends es{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ns(e,t)}matches(e){return rs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rs(e){return"and"===e.op}function is(e){return ss(e)&&rs(e)}function ss(e){for(const t of e.filters)if(t instanceof ns)return!1;return!0}function as(e){if(e instanceof ts)return e.field.canonicalString()+e.op.toString()+Pi(e.value);if(is(e))return e.filters.map(e=>as(e)).join(",");{const t=e.filters.map(e=>as(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function os(e,t){return e instanceof ts?function(e,t){return t instanceof ts&&e.op===t.op&&e.field.isEqual(t.field)&&Ii(e.value,t.value)}(e,t):e instanceof ns?function(e,t){return t instanceof ns&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&os(n,t.filters[r]),!0)}(e,t):void wn(19439)}function ls(e){return e instanceof ts?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Pi(e.value))}(e):e instanceof ns?function(e){return e.op.toString()+" {"+e.getFilters().map(ls).join(" ,")+"}"}(e):"Filter"}class cs extends ts{constructor(e,t,n){super(e,t,n),this.key=Wn.fromName(n.referenceValue)}matches(e){const t=Wn.comparator(e.key,this.key);return this.matchesComparison(t)}}class us extends ts{constructor(e,t){super(e,"in",t),this.keys=ds("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hs extends ts{constructor(e,t){super(e,"not-in",t),this.keys=ds("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ds(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Wn.fromName(e.referenceValue))}class fs extends ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fi(t)&&Ai(t.arrayValue,this.value)}}class ps extends ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ai(this.value.arrayValue,t)}}class ms extends ts{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ai(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ai(this.value.arrayValue,t)}}class gs extends ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ai(this.value.arrayValue,e))}}class ys{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function vs(e){return new ys(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bs(e){const t=kn(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>as(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Sr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Pi(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Pi(e)).join(",")),t.Te=e}return t.Te}function ws(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Zi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!os(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$i(e.startAt,t.startAt)&&$i(e.endAt,t.endAt)}function xs(e){return Wn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ss{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ks(e,t,n,r,i,s,a,o){return new Ss(e,t,n,r,i,s,a,o)}function Es(e){return new Ss(e)}function _s(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ns(e){return null!==e.collectionGroup}function Cs(e){const t=kn(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ii(Kn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ji(r,n))}),e.has(Kn.keyField().canonicalString())||t.Ie.push(new Ji(Kn.keyField(),n))}return t.Ie}function Ts(e){const t=kn(e);return t.Ee||(t.Ee=Is(t,Cs(e))),t.Ee}function Is(e,t){if("F"===e.limitType)return vs(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ji(e.field,t)});const n=e.endAt?new Yi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Yi(e.startAt.position,e.startAt.inclusive):null;return vs(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function As(e,t){const n=e.filters.concat([t]);return new Ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ds(e,t,n){return new Ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function js(e,t){return ws(Ts(e),Ts(t))&&e.limitType===t.limitType}function Ms(e){return"".concat(bs(Ts(e)),"|lt:").concat(e.limitType)}function Ps(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ls(e)).join(", "),"]")),Sr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Pi(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Pi(e)).join(",")),"Target(".concat(t,")")}(Ts(e)),"; limitType=").concat(e.limitType,")")}function Ls(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cs(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cs(e),t))}(e,t)}function Os(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rs(e){return(t,n)=>{let r=!1;for(const i of Cs(e)){const e=zs(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function zs(e,t,n){const r=e.field.isKeyField()?Wn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Di(r,i):wn(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wn(19790,{direction:e.dir})}}class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ei(this.inner)}size(){return this.innerSize}}const Vs=new ti(Wn.comparator);function Us(){return Vs}const Bs=new ti(Wn.comparator);function qs(){let e=Bs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Hs(e){let t=Bs;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Gs(){return Ks()}function Qs(){return Ks()}function Ks(){return new Fs(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ws=new ti(Wn.comparator),Ys=new ii(Wn.comparator);function Xs(){let e=Ys;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const $s=new ii(Rn);function Js(){return $s}function Zs(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kr(t)?"-0":t}}function ea(e){return{integerValue:""+e}}function ta(e,t){return Er(t)?ea(t):Zs(e,t)}class na{constructor(){this._=void 0}}function ra(e,t,n){return e instanceof aa?function(e,t){const n={fields:{[pi]:{stringValue:fi},[gi]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&yi(t)&&(t=vi(t)),t&&(n.fields[mi]=t),{mapValue:n}}(n,t):e instanceof oa?la(e,t):e instanceof ca?ua(e,t):function(e,t){const n=sa(e,t),r=da(n)+da(e.Ae);return zi(n)&&zi(e.Ae)?ea(r):Zs(e.serializer,r)}(e,t)}function ia(e,t,n){return e instanceof oa?la(e,t):e instanceof ca?ua(e,t):n}function sa(e,t){return e instanceof ha?function(e){return zi(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class aa extends na{}class oa extends na{constructor(e){super(),this.elements=e}}function la(e,t){const n=fa(t);for(const r of e.elements)n.some(e=>Ii(e,r))||n.push(r);return{arrayValue:{values:n}}}class ca extends na{constructor(e){super(),this.elements=e}}function ua(e,t){let n=fa(t);for(const r of e.elements)n=n.filter(e=>!Ii(e,r));return{arrayValue:{values:n}}}class ha extends na{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function da(e){return hi(e.integerValue||e.doubleValue)}function fa(e){return Fi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class pa{constructor(e,t){this.version=e,this.transformResults=t}}class ma{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ma}static exists(e){return new ma(void 0,e)}static updateTime(e){return new ma(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ga(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ya{}function va(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ta(e.key,ma.none()):new ka(e.key,e.data,ma.none());{const n=e.data,r=Qi.empty();let i=new ii(Kn.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ea(e.key,r,new ai(i.toArray()),ma.none())}}function ba(e,t,n){e instanceof ka?function(e,t,n){const r=e.value.clone(),i=Na(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ea?function(e,t,n){if(!ga(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Na(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_a(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wa(e,t,n,r){return e instanceof ka?function(e,t,n,r){if(!ga(e.precondition,t))return n;const i=e.value.clone(),s=Ca(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ea?function(e,t,n,r){if(!ga(e.precondition,t))return n;const i=Ca(e.fieldTransforms,r,t),s=t.data;return s.setAll(_a(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return ga(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xa(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=sa(r.transform,e||null);null!=i&&(null===n&&(n=Qi.empty()),n.set(r.field,i))}return n||null}function Sa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bn(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oa&&t instanceof oa||e instanceof ca&&t instanceof ca?Bn(e.elements,t.elements,Ii):e instanceof ha&&t instanceof ha?Ii(e.Ae,t.Ae):e instanceof aa&&t instanceof aa}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ka extends ya{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ea extends ya{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _a(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Na(e,t,n){const r=new Map;Sn(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ia(a,o,n[i]))}return r}function Ca(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ra(e,s,t))}return r}class Ta extends ya{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ia extends ya{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Aa{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ba(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wa(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wa(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Qs();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=va(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(or.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xs())}isEqual(e){return this.batchId===e.batchId&&Bn(this.mutations,e.mutations,(e,t)=>Sa(e,t))&&Bn(this.baseMutations,e.baseMutations,(e,t)=>Sa(e,t))}}class Da{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Sn(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Ws;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Da(e,t,n,r)}}class ja{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ma{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pa,La;function Oa(e){switch(e){case En.OK:return wn(64938);case En.CANCELLED:case En.UNKNOWN:case En.DEADLINE_EXCEEDED:case En.RESOURCE_EXHAUSTED:case En.INTERNAL:case En.UNAVAILABLE:case En.UNAUTHENTICATED:return!1;case En.INVALID_ARGUMENT:case En.NOT_FOUND:case En.ALREADY_EXISTS:case En.PERMISSION_DENIED:case En.FAILED_PRECONDITION:case En.ABORTED:case En.OUT_OF_RANGE:case En.UNIMPLEMENTED:case En.DATA_LOSS:return!0;default:return wn(15467,{code:e})}}function Ra(e){if(void 0===e)return yn("GRPC error has no .code"),En.UNKNOWN;switch(e){case Pa.OK:return En.OK;case Pa.CANCELLED:return En.CANCELLED;case Pa.UNKNOWN:return En.UNKNOWN;case Pa.DEADLINE_EXCEEDED:return En.DEADLINE_EXCEEDED;case Pa.RESOURCE_EXHAUSTED:return En.RESOURCE_EXHAUSTED;case Pa.INTERNAL:return En.INTERNAL;case Pa.UNAVAILABLE:return En.UNAVAILABLE;case Pa.UNAUTHENTICATED:return En.UNAUTHENTICATED;case Pa.INVALID_ARGUMENT:return En.INVALID_ARGUMENT;case Pa.NOT_FOUND:return En.NOT_FOUND;case Pa.ALREADY_EXISTS:return En.ALREADY_EXISTS;case Pa.PERMISSION_DENIED:return En.PERMISSION_DENIED;case Pa.FAILED_PRECONDITION:return En.FAILED_PRECONDITION;case Pa.ABORTED:return En.ABORTED;case Pa.OUT_OF_RANGE:return En.OUT_OF_RANGE;case Pa.UNIMPLEMENTED:return En.UNIMPLEMENTED;case Pa.DATA_LOSS:return En.DATA_LOSS;default:return wn(39323,{code:e})}}(La=Pa||(Pa={}))[La.OK=0]="OK",La[La.CANCELLED=1]="CANCELLED",La[La.UNKNOWN=2]="UNKNOWN",La[La.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",La[La.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",La[La.NOT_FOUND=5]="NOT_FOUND",La[La.ALREADY_EXISTS=6]="ALREADY_EXISTS",La[La.PERMISSION_DENIED=7]="PERMISSION_DENIED",La[La.UNAUTHENTICATED=16]="UNAUTHENTICATED",La[La.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",La[La.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",La[La.ABORTED=10]="ABORTED",La[La.OUT_OF_RANGE=11]="OUT_OF_RANGE",La[La.UNIMPLEMENTED=12]="UNIMPLEMENTED",La[La.INTERNAL=13]="INTERNAL",La[La.UNAVAILABLE=14]="UNAVAILABLE",La[La.DATA_LOSS=15]="DATA_LOSS";let za=null;function Fa(){return new TextEncoder}const Va=new Yt([4294967295,4294967295],0);function Ua(e){const t=Fa().encode(e),n=new Xt;return n.update(t),new Uint8Array(n.digest())}function Ba(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Yt([n,r],0),new Yt([i,s],0)]}class qa{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ha("Invalid padding: ".concat(t));if(n<0)throw new Ha("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ha("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ha("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Yt.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Yt.fromNumber(n)));return 1===r.compare(Va)&&(r=new Yt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Ua(e),[n,r]=Ba(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new qa(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=Ua(e),[n,r]=Ba(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ga{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Qa.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ga(or.min(),r,new ti(Rn),Us(),Xs())}}class Qa{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qa(n,t,Xs(),Xs(),Xs())}}class Ka{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Wa{constructor(e,t){this.targetId=e,this.Ce=t}}class Ya{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:li.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xa{constructor(){this.ve=0,this.Fe=Za(),this.Me=li.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xs(),t=Xs(),n=Xs();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wn(38017,{changeType:i})}}),new Qa(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Za()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Sn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $a{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.Je=Ja(),this.He=Ja(),this.Ye=new ti(Rn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:wn(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(xs(s))if(0===n){const e=new Wn(s.path);this.et(t,e,Wi.newNoDocument(e,or.min()))}else Sn(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=za)||void 0===i||i.lt(function(e,t,n,r,i){var s,a,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===h||void 0===h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===h||void 0===h||null===(o=h.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=di(n).toUint8Array()}catch(e){if(e instanceof oi)return vn("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new qa(s,r,i)}catch(e){return vn(e instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&xs(i.target)){const t=new Wn(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Wi.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Xs();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Ga(e,t,this.Ye,this.je,n);return this.je=Us(),this.Je=Ja(),this.He=Ja(),this.Ye=new ti(Rn),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Xa,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ii(Rn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ii(Rn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||gn("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xa),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ja(){return new ti(Wn.comparator)}function Za(){return new ti(Wn.comparator)}const eo={asc:"ASCENDING",desc:"DESCENDING"},to={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},no={and:"AND",or:"OR"};class ro{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function io(e,t){return e.useProto3Json||Sr(t)?t:{value:t}}function so(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ao(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function oo(e,t){return so(e,t.toTimestamp())}function lo(e){return Sn(!!e,49232),or.fromTimestamp(function(e){const t=ui(e);return new ar(t.seconds,t.nanos)}(e))}function co(e,t){return uo(e,t).canonicalString()}function uo(e,t){const n=function(e){return new Gn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ho(e){const t=Gn.fromString(e);return Sn(jo(t),10190,{key:t.toString()}),t}function fo(e,t){return co(e.databaseId,t.path)}function po(e,t){const n=ho(t);if(n.get(1)!==e.databaseId.projectId)throw new _n(En.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _n(En.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wn(vo(n))}function mo(e,t){return co(e.databaseId,t)}function go(e){const t=ho(e);return 4===t.length?Gn.emptyPath():vo(t)}function yo(e){return new Gn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vo(e){return Sn(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function bo(e,t,n){return{name:fo(e,t),fields:n.value.mapValue.fields}}function wo(e,t){let n;if(t instanceof ka)n={update:bo(e,t.key,t.value)};else if(t instanceof Ta)n={delete:fo(e,t.key)};else if(t instanceof Ea)n={update:bo(e,t.key,t.data),updateMask:Do(t.fieldMask)};else{if(!(t instanceof Ia))return wn(16599,{Vt:t.type});n={verify:fo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof aa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ca)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ha)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw wn(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:oo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wn(27497)}(e,t.precondition)),n}function xo(e,t){return{documents:[mo(e,t.path)]}}function So(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mo(e,i);const s=function(e){if(0!==e.length)return Ao(ns.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:To(e.field),direction:_o(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=io(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function ko(e){let t=go(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Sn(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Eo(e);return t instanceof ns&&is(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ji(Io(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Sr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Yi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Yi(n,t)}(n.endAt)),ks(t,i,a,s,o,"F",l,c)}function Eo(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Io(e.unaryFilter.field);return ts.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Io(e.unaryFilter.field);return ts.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Io(e.unaryFilter.field);return ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Io(e.unaryFilter.field);return ts.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wn(61313);default:return wn(60726)}}(e):void 0!==e.fieldFilter?function(e){return ts.create(Io(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wn(58110);default:return wn(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ns.create(e.compositeFilter.filters.map(e=>Eo(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wn(1026)}}(e.compositeFilter.op))}(e):wn(30097,{filter:e})}function _o(e){return eo[e]}function No(e){return to[e]}function Co(e){return no[e]}function To(e){return{fieldPath:e.canonicalString()}}function Io(e){return Kn.fromServerFormat(e.fieldPath)}function Ao(e){return e instanceof ts?function(e){if("=="===e.op){if(Ui(e.value))return{unaryFilter:{field:To(e.field),op:"IS_NAN"}};if(Vi(e.value))return{unaryFilter:{field:To(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ui(e.value))return{unaryFilter:{field:To(e.field),op:"IS_NOT_NAN"}};if(Vi(e.value))return{unaryFilter:{field:To(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(e.field),op:No(e.op),value:e.value}}}(e):e instanceof ns?function(e){const t=e.getFilters().map(e=>Ao(e));return 1===t.length?t[0]:{compositeFilter:{op:Co(e.op),filters:t}}}(e):wn(54877,{filter:e})}function Do(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Mo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:or.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:or.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:li.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Po{constructor(e){this.yt=e}}function Lo(e){const t=ko({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ds(t,t.limit,"L"):t}class Oo{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(hi(e.integerValue));else if("doubleValue"in e){const n=hi(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),kr(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ui(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(di(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Gi(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):qi(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):wn(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Ci,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(hi(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Wn.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Oo.Kt=new Oo;class Ro{constructor(){this.Cn=new zo}addToCollectionParentIndex(e,t){return this.Cn.add(t),yr.resolve()}getCollectionParents(e,t){return yr.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return yr.resolve()}deleteFieldIndex(e,t){return yr.resolve()}deleteAllFieldIndexes(e){return yr.resolve()}createTargetIndexes(e,t){return yr.resolve()}getDocumentsMatchingTarget(e,t){return yr.resolve(null)}getIndexType(e,t){return yr.resolve(0)}getFieldIndexes(e,t){return yr.resolve([])}getNextCollectionGroupToUpdate(e){return yr.resolve(null)}getMinOffset(e,t){return yr.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,t){return yr.resolve(dr.min())}updateCollectionGroup(e,t,n){return yr.resolve()}updateIndexEntries(e,t){return yr.resolve()}}class zo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ii(Gn.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ii(Gn.comparator)).toArray()}}new Uint8Array(0);const Fo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vo=41943040;class Uo{static withCacheSize(e){return new Uo(e,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Uo.DEFAULT_COLLECTION_PERCENTILE=10,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uo.DEFAULT=new Uo(Vo,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uo.DISABLED=new Uo(-1,0,0);class Bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}const qo="LruGarbageCollector",Ho=1048576;function Go(e,t){let[n,r]=e,[i,s]=t;const a=Rn(n,i);return 0===a?Rn(r,s):a}class Qo{constructor(e){this.Ir=e,this.buffer=new ii(Go),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Go(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ko{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){gn(qo,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){br(e)?gn(qo,"Ignoring IndexedDB error during garbage collection: ",e):await gr(e)}await this.Vr(3e5)})}}class Wo{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return yr.resolve(wr.ce);const n=new Qo(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gn("LruGarbageCollector","Garbage collection skipped; disabled"),yr.resolve(Fo)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(gn("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Fo):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(gn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),mn()<=Ie.DEBUG&&gn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),yr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Yo(e,t){return new Wo(e,t)}class Xo{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?yr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $o{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&wa(n.mutation,e,ai.empty(),ar.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Xs()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xs();const r=Gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=qs();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Gs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Xs()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Us();const s=Ks(),a=Ks();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ea)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),wa(a.mutation,t,a.mutation.getFieldMask(),ar.now())):s.set(t.key,ai.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new $o(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Ks();let r=new ti((e,t)=>e-t),i=Xs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ai.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Xs()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Qs();l.forEach(e=>{if(!i.has(e)){const r=va(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return yr.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Wn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ns(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):yr.resolve(Gs());let a=lr,o=i;return s.next(t=>yr.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?yr.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Xs())).next(e=>({batchId:a,changes:Hs(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wn(t)).next(e=>{let t=qs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=qs();return this.indexManager.getCollectionParents(e,i).next(a=>yr.forEach(a,a=>{const o=function(e,t){return new Ss(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Wi.newInvalidDocument(r)))});let n=qs();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&wa(s.mutation,r,ai.empty(),ar.now()),Ls(t,r)&&(n=n.insert(e,r))}),n})}}class Zo{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return yr.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:lo(e.createTime)}}(t)),yr.resolve()}getNamedQuery(e,t){return yr.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Lo(e.bundledQuery),readTime:lo(e.readTime)}}(t)),yr.resolve()}}class el{constructor(){this.overlays=new ti(Wn.comparator),this.qr=new Map}getOverlay(e,t){return yr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gs();return yr.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),yr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),yr.resolve()}getOverlaysForCollection(e,t,n){const r=Gs(),i=t.length+1,s=new Wn(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return yr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ti((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Gs(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Gs(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return yr.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ja(t,n));let i=this.qr.get(t);void 0===i&&(i=Xs(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class tl{constructor(){this.sessionToken=li.EMPTY_BYTE_STRING}getSessionToken(e){return yr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,yr.resolve()}}class nl{constructor(){this.Qr=new ii(rl.$r),this.Ur=new ii(rl.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new rl(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new rl(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Wn(new Gn([])),n=new rl(t,e),r=new rl(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Wn(new Gn([])),n=new rl(t,e),r=new rl(t,e+1);let i=Xs();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new rl(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class rl{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Wn.comparator(e.key,t.key)||Rn(e.Yr,t.Yr)}static Kr(e,t){return Rn(e.Yr,t.Yr)||Wn.comparator(e.key,t.key)}}class il{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ii(rl.$r)}checkEmpty(e){return yr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Aa(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new rl(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return yr.resolve(s)}lookupMutationBatch(e,t){return yr.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return yr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return yr.resolve(0===this.mutationQueue.length?xr:this.tr-1)}getAllMutationBatches(e){return yr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rl(t,0),r=new rl(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),yr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ii(Rn);return t.forEach(e=>{const t=new rl(e,0),r=new rl(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),yr.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Wn.isDocumentKey(i)||(i=i.child(""));const s=new rl(new Wn(i),0);let a=new ii(Rn);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),yr.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Sn(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return yr.forEach(t.mutations,r=>{const i=new rl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new rl(t,0),r=this.Zr.firstAfterOrEqual(n);return yr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,yr.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sl{constructor(e){this.ri=e,this.docs=new ti(Wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return yr.resolve(n?n.document.mutableCopy():Wi.newInvalidDocument(t))}getEntries(e,t){let n=Us();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Wi.newInvalidDocument(e))}),yr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Us();const s=t.path,a=new Wn(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||fr(hr(a),n)<=0||(r.has(a.key)||Ls(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return yr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){wn(9500)}ii(e,t){return yr.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new al(this)}getSize(e){return yr.resolve(this.size)}}class al extends Xo{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),yr.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ol{constructor(e){this.persistence=e,this.si=new Fs(e=>bs(e),ws),this.lastRemoteSnapshotVersion=or.min(),this.highestTargetId=0,this.oi=0,this._i=new nl,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),yr.resolve()}getLastRemoteSnapshotVersion(e){return yr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yr.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),yr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),yr.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,yr.resolve()}updateTargetData(e,t){return this.Pr(t),yr.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,yr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),yr.waitFor(i).next(()=>r)}getTargetCount(e){return yr.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return yr.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),yr.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),yr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),yr.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return yr.resolve(n)}containsKey(e,t){return yr.resolve(this._i.containsKey(t))}}class ll{constructor(e,t){this.ui={},this.overlays={},this.ci=new wr(0),this.li=!1,this.li=!0,this.hi=new tl,this.referenceDelegate=e(this),this.Pi=new ol(this),this.indexManager=new Ro,this.remoteDocumentCache=function(e){return new sl(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Po(t),this.Ii=new Zo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new el,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new il(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){gn("MemoryPersistence","Starting transaction:",e);const r=new cl(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return yr.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class cl extends mr{constructor(e){super(),this.currentSequenceNumber=e}}class ul{constructor(e){this.persistence=e,this.Ri=new nl,this.Vi=null}static mi(e){return new ul(e)}get fi(){if(this.Vi)return this.Vi;throw wn(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),yr.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),yr.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),yr.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yr.forEach(this.fi,n=>{const r=Wn.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,or.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return yr.or([()=>yr.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hl{constructor(e,t){this.persistence=e,this.pi=new Fs(e=>Nr(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Yo(this,t)}static mi(e,t){return new hl(e,t)}Ei(){}di(e){return yr.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return yr.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?yr.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,or.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),yr.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),yr.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),yr.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),yr.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oi(e.data.value)),t}br(e,t,n){return yr.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return yr.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Xs(),r=Xs();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new dl(e,t.fromCache,n,r)}}class fl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pl{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=ge()?8:vr(pe())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new fl;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(mn()<=Ie.DEBUG&&gn("QueryEngine","SDK will not create cache indexes for query:",Ps(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),yr.resolve()):(mn()<=Ie.DEBUG&&gn("QueryEngine","Query:",Ps(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(mn()<=Ie.DEBUG&&gn("QueryEngine","The SDK decides to create cache indexes for query:",Ps(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(t))):yr.resolve())}ys(e,t){if(_s(t))return yr.resolve(null);let n=Ts(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ds(t,null,"F"),n=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Xs(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Ds(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return _s(t)||r.isEqual(or.min())?yr.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?yr.resolve(null):(mn()<=Ie.DEBUG&&gn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ps(t)),this.vs(e,s,t,ur(r,lr)).next(e=>e))})}Ds(e,t){let n=new ii(Rs(e));return t.forEach((t,r)=>{Ls(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return mn()<=Ie.DEBUG&&gn("QueryEngine","Using full collection scan to execute query:",Ps(t)),this.ps.getDocumentsMatchingQuery(e,t,dr.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ml="LocalStore";class gl{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ti(Rn),this.xs=new Fs(e=>bs(e),ws),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jo(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function yl(e,t,n,r){return new gl(e,t,n,r)}async function vl(e,t){const n=kn(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Xs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function bl(e){const t=kn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function wl(e,t,n){let r=Xs(),i=Xs();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Us();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(or.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):gn(ml,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}function xl(e,t){const n=kn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=xr),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Sl(e,t){const n=kn(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,yr.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Mo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function kl(e,t,n){const r=kn(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!br(e))throw e;gn(ml,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function El(e,t,n){const r=kn(e);let i=or.min(),s=Xs();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=kn(e),i=r.xs.get(n);return void 0!==i?yr.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Ts(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:or.min(),n?s:Xs())).next(e=>(_l(r,Os(t),e),{documents:e,Qs:s})))}function _l(e,t,n){let r=e.Os.get(t)||or.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Nl{constructor(){this.activeTargetIds=Js()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cl{constructor(){this.Mo=new Nl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Nl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tl{Oo(e){}shutdown(){}}const Il="ConnectivityMonitor";class Al{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gn(Il,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){gn(Il,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dl=null;function jl(){return null===Dl?Dl=268435456+Math.round(2147483648*Math.random()):Dl++,"0x"+Dl.toString(16)}const Ml="RestConnection",Pl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ll{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===xi?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=jl(),a=this.zo(e,t.toUriEncodedString());gn(Ml,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),c=ue(l);return this.Jo(e,a,o,n,c).then(t=>(gn(Ml,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw vn(Ml,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Pl[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Ol{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Rl="WebChannelConnection";class zl extends Ll{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=jl();return new Promise((i,a)=>{const o=new Zt;o.setWithCredentials(!0),o.listenOnce(tn.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case nn.NO_ERROR:const n=o.getResponseJson();gn(Rl,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case nn.TIMEOUT:gn(Rl,"RPC '".concat(e,"' ").concat(s," timed out")),a(new _n(En.DEADLINE_EXCEEDED,"Request time out"));break;case nn.HTTP_ERROR:const r=o.getStatus();if(gn(Rl,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(En).indexOf(t)>=0?t:En.UNKNOWN}(n.status);a(new _n(e,n.message))}else a(new _n(En.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new _n(En.UNAVAILABLE,"Connection failed."));break;default:wn(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{gn(Rl,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);gn(Rl,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=jl(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=on(),a=an(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");gn(Rl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.I_(u);let h=!1,d=!1;const f=new Ol({Yo:t=>{d?gn(Rl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(gn(Rl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),gn(Rl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,en.EventType.OPEN,()=>{d||(gn(Rl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,en.EventType.CLOSE,()=>{d||(d=!0,gn(Rl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,en.EventType.ERROR,t=>{d||(d=!0,vn(Rl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new _n(En.UNAVAILABLE,"The operation could not be completed")))}),p(u,en.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];Sn(!!i,16349);const s=i,a=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){gn(Rl,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Pa[e];if(void 0!==t)return Ra(t)}(t),i=a.message;void 0===n&&(n=En.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.a_(new _n(n,i)),u.close()}else gn(Rl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(a,sn.STAT_EVENT,t=>{t.stat===rn.PROXY?gn(Rl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===rn.NOPROXY&&gn(Rl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Fl(){return"undefined"!=typeof document?document:null}function Vl(e){return new ro(e,!0)}class Ul{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&gn("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Bl="PersistentStream";class ql{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ul(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===En.RESOURCE_EXHAUSTED?(yn(t.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===En.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new _n(En.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return gn(Bl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(gn(Bl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hl extends ql{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wn(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Sn(void 0===t||"string"==typeof t,58123),li.fromBase64String(t||"")):(Sn(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),li.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?En.UNKNOWN:Ra(e.code);return new _n(t,e.message||"")}(a);n=new Ya(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=po(e,r.document.name),s=lo(r.document.updateTime),a=r.document.createTime?lo(r.document.createTime):or.min(),o=new Qi({mapValue:{fields:r.document.fields}}),l=Wi.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ka(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=po(e,r.document),s=r.readTime?lo(r.readTime):or.min(),a=Wi.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ka([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=po(e,r.document),s=r.removedTargetIds||[];n=new Ka([],s,i,null)}else{if(!("filter"in t))return wn(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ma(r,i),a=e.targetId;n=new Wa(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return or.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?or.min():t.readTime?lo(t.readTime):or.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=yo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=xs(r)?{documents:xo(e,r)}:{query:So(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ao(e,t.resumeToken);const r=io(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(or.min())>0){n.readTime=so(e,t.snapshotVersion.toTimestamp());const r=io(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wn(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=yo(this.serializer),t.removeTarget=e,this.q_(t)}}class Gl extends ql{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Sn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Sn(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Sn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Sn(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?lo(e.updateTime):lo(t);return n.isEqual(or.min())&&(n=lo(t)),new pa(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=lo(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=yo(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>wo(this.serializer,e))};this.q_(t)}}class Ql{}class Kl extends Ql{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new _n(En.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Go(e,uo(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===En.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _n(En.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Ho(e,uo(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===En.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _n(En.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Wl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(yn(t),this.aa=!1):gn("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Yl="RemoteStore";class Xl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{sc(this)&&(gn(Yl,"Restarting streams for network reachability change."),await async function(e){const t=kn(e);t.Ea.add(4),await Jl(t),t.Ra.set("Unknown"),t.Ea.delete(4),await $l(t)}(this))})}),this.Ra=new Wl(n,r)}}async function $l(e){if(sc(e))for(const t of e.da)await t(!0)}async function Jl(e){for(const t of e.da)await t(!1)}function Zl(e,t){const n=kn(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ic(n)?rc(n):Ec(n).O_()&&tc(n,t))}function ec(e,t){const n=kn(e),r=Ec(n);n.Ia.delete(t),r.O_()&&nc(n,t),0===n.Ia.size&&(r.O_()?r.L_():sc(n)&&n.Ra.set("Unknown"))}function tc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(or.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ec(e).Y_(t)}function nc(e,t){e.Va.Ue(t),Ec(e).Z_(t)}function rc(e){e.Va=new $a({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ec(e).start(),e.Ra.ua()}function ic(e){return sc(e)&&!Ec(e).x_()&&e.Ia.size>0}function sc(e){return 0===kn(e).Ea.size}function ac(e){e.Va=void 0}async function oc(e){e.Ra.set("Online")}async function lc(e){e.Ia.forEach((t,n)=>{tc(e,t)})}async function cc(e,t){ac(e),ic(e)?(e.Ra.ha(t),rc(e)):e.Ra.set("Unknown")}async function uc(e,t,n){if(e.Ra.set("Online"),t instanceof Ya&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){gn(Yl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hc(e,n)}else if(t instanceof Ka?e.Va.Ze(t):t instanceof Wa?e.Va.st(t):e.Va.tt(t),!n.isEqual(or.min()))try{const t=await bl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(li.EMPTY_BYTE_STRING,r.snapshotVersion)),nc(e,t);const i=new Mo(r.target,t,n,r.sequenceNumber);tc(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){gn(Yl,"Failed to raise snapshot:",t),await hc(e,t)}}async function hc(e,t,n){if(!br(t))throw t;e.Ea.add(1),await Jl(e),e.Ra.set("Offline"),n||(n=()=>bl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{gn(Yl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await $l(e)})}function dc(e,t){return t().catch(n=>hc(e,n,t))}async function fc(e){const t=kn(e),n=_c(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xr;for(;pc(t);)try{const e=await xl(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,mc(t,e)}catch(e){await hc(t,e)}gc(t)&&yc(t)}function pc(e){return sc(e)&&e.Ta.length<10}function mc(e,t){e.Ta.push(t);const n=_c(e);n.O_()&&n.X_&&n.ea(t.mutations)}function gc(e){return sc(e)&&!_c(e).x_()&&e.Ta.length>0}function yc(e){_c(e).start()}async function vc(e){_c(e).ra()}async function bc(e){const t=_c(e);for(const n of e.Ta)t.ea(n.mutations)}async function wc(e,t,n){const r=e.Ta.shift(),i=Da.from(r,t,n);await dc(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await fc(e)}async function xc(e,t){t&&_c(e).X_&&await async function(e,t){if(function(e){return Oa(e)&&e!==En.ABORTED}(t.code)){const n=e.Ta.shift();_c(e).B_(),await dc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await fc(e)}}(e,t),gc(e)&&yc(e)}async function Sc(e,t){const n=kn(e);n.asyncQueue.verifyOperationInProgress(),gn(Yl,"RemoteStore received new credentials");const r=sc(n);n.Ea.add(3),await Jl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $l(n)}async function kc(e,t){const n=kn(e);t?(n.Ea.delete(2),await $l(n)):t||(n.Ea.add(2),await Jl(n),n.Ra.set("Unknown"))}function Ec(e){return e.ma||(e.ma=function(e,t,n){const r=kn(e);return r.sa(),new Hl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:oc.bind(null,e),t_:lc.bind(null,e),r_:cc.bind(null,e),H_:uc.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),ic(e)?rc(e):e.Ra.set("Unknown")):(await e.ma.stop(),ac(e))})),e.ma}function _c(e){return e.fa||(e.fa=function(e,t,n){const r=kn(e);return r.sa(),new Gl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:vc.bind(null,e),r_:xc.bind(null,e),ta:bc.bind(null,e),na:wc.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await fc(e)):(await e.fa.stop(),e.Ta.length>0&&(gn(Yl,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Nc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Nc(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n(En.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cc(e,t){if(yn("AsyncQueue","".concat(t,": ").concat(e)),br(e))return new _n(En.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Tc{static emptySet(e){return new Tc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Wn.comparator(t.key,n.key):(e,t)=>Wn.comparator(e.key,t.key),this.keyedMap=qs(),this.sortedSet=new ti(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Tc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ic{constructor(){this.ga=new ti(Wn.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):wn(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ac{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Ac(e,t,Tc.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&js(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Dc{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class jc{constructor(){this.queries=Mc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=kn(e),r=n.queries;n.queries=Mc(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new _n(En.ABORTED,"Firestore shutting down"))}}function Mc(){return new Fs(e=>Ms(e),js)}async function Pc(e,t){const n=kn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Dc,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Cc(e,"Initialization of query '".concat(Ps(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&zc(n)}async function Lc(e,t){const n=kn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Oc(e,t){const n=kn(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&zc(n)}function Rc(e,t,n){const r=kn(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function zc(e){e.Ca.forEach(e=>{e.next()})}var Fc,Vc;(Vc=Fc||(Fc={})).Ma="default",Vc.Cache="cache";class Uc{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ac(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fc.Cache}}class Bc{constructor(e){this.key=e}}class qc{constructor(e){this.key=e}}class Hc{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xs(),this.mutatedKeys=Xs(),this.eu=Rs(e),this.tu=new Tc(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Ic,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Ls(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new Ac(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ic,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xs(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new qc(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Bc(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Xs();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ac.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Gc="SyncEngine";class Qc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Kc{constructor(e){this.key=e,this.hu=!1}}class Wc{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Fs(e=>Ms(e),js),this.Iu=new Map,this.Eu=new Set,this.du=new ti(Wn.comparator),this.Au=new Map,this.Ru=new nl,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Yc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=gu(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await $c(r,t,n,!0),i}async function Xc(e,t){const n=gu(e);await $c(n,t,!0,!1)}async function $c(e,t,n,r){const i=await Sl(e.localStore,Ts(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Jc(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Zl(e.remoteStore,i),o}async function Jc(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await El(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return uu(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await El(e.localStore,t,!0),a=new Hc(t,s.Qs),o=a.ru(s.documents),l=Qa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);uu(e,n,c.au);const u=new Qc(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Zc(e,t,n){const r=kn(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!js(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ec(r.remoteStore,i.targetId),lu(r,i.targetId)}).catch(gr)):(lu(r,i.targetId),await kl(r.localStore,i.targetId,!0))}async function eu(e,t){const n=kn(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ec(n.remoteStore,r.targetId))}async function tu(e,t){const n=kn(e);try{const e=await function(e,t){const n=kn(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(li.EMPTY_BYTE_STRING,or.min()).withLastLimboFreeSnapshotVersion(or.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=Us(),l=Xs();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(wl(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(or.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return yr.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Sn(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Sn(r.hu,14607):e.removedDocuments.size>0&&(Sn(r.hu,42227),r.hu=!1))}),await fu(n,e,t)}catch(e){await gr(e)}}function nu(e,t,n){const r=kn(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=kn(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&zc(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ru(e,t,n){const r=kn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new ti(Wn.comparator);e=e.insert(s,Wi.newNoDocument(s,or.min()));const n=Xs().add(s),i=new Ga(or.min(),new Map,new ti(Rn),e,n);await tu(r,i),r.du=r.du.remove(s),r.Au.delete(t),du(r)}else await kl(r.localStore,t,!1).then(()=>lu(r,t,n)).catch(gr)}async function iu(e,t){const n=kn(e),r=t.batch.batchId;try{const e=await function(e,t){const n=kn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=yr.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Sn(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);ou(n,r,null),au(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,e)}catch(e){await gr(e)}}async function su(e,t,n){const r=kn(e);try{const e=await function(e,t){const n=kn(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Sn(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);ou(r,t,n),au(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await fu(r,e)}catch(n){await gr(n)}}function au(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function ou(e,t,n){const r=kn(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function lu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||cu(e,t)})}function cu(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(ec(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),du(e))}function uu(e,t,n){for(const r of n)r instanceof Bc?(e.Ru.addReference(r.key,t),hu(e,r)):r instanceof qc?(gn(Gc,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||cu(e,r.key)):wn(19791,{wu:r})}function hu(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(gn(Gc,"New document in limbo: "+n),e.Eu.add(r),du(e))}function du(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Wn(Gn.fromString(t)),r=e.fu.next();e.Au.set(r,new Kc(n)),e.du=e.du.insert(n,r),Zl(e.remoteStore,new Mo(Ts(Es(n.path)),r,"TargetPurposeLimboResolution",wr.ce))}}async function fu(e,t,n){const r=kn(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=dl.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=kn(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>yr.forEach(t,t=>yr.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>yr.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!br(e))throw e;gn(ml,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function pu(e,t){const n=kn(e);if(!n.currentUser.isEqual(t)){gn(Gc,"User change. New user:",t.toKey());const e=await vl(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new _n(En.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await fu(n,e.Ls)}}function mu(e,t){const n=kn(e),r=n.Au.get(t);if(r&&r.hu)return Xs().add(r.key);{let e=Xs();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function gu(e){const t=kn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ru.bind(null,t),t.Pu.H_=Oc.bind(null,t.eventManager),t.Pu.yu=Rc.bind(null,t.eventManager),t}function yu(e){const t=kn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=su.bind(null,t),t}class vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yl(this.persistence,new pl,e.initialUser,this.serializer)}Cu(e){return new ll(ul.mi,this.serializer)}Du(e){return new Cl}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vu.provider={build:()=>new vu};class bu extends vu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Sn(this.persistence.referenceDelegate instanceof hl,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ko(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Uo.withCacheSize(this.cacheSizeBytes):Uo.DEFAULT;return new ll(e=>hl.mi(e,t),this.serializer)}}class wu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>nu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pu.bind(null,this.syncEngine),await kc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jc}createDatastore(e){const t=Vl(e.databaseInfo.databaseId),n=function(e){return new zl(e)}(e.databaseInfo);return function(e,t,n,r){return new Kl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Xl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>nu(this.syncEngine,e,0),Al.v()?new Al:new Tl)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Wc(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=kn(e);gn(Yl,"RemoteStore shutting down."),t.Ea.add(5),await Jl(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}wu.provider={build:()=>new wu};class xu{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Su{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new _n(En.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=kn(e),r={documents:t.map(e=>fo(n.serializer,e))},i=await n.Ho("BatchGetDocuments",n.serializer.databaseId,Gn.emptyPath(),r,t.length),s=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Sn(!!t.found,43571),t.found.name,t.found.updateTime;const n=po(e,t.found.name),r=lo(t.found.updateTime),i=t.found.createTime?lo(t.found.createTime):or.min(),s=new Qi({mapValue:{fields:t.found.fields}});return Wi.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Sn(!!t.missing,3894),Sn(!!t.readTime,22933);const n=po(e,t.missing),r=lo(t.readTime);return Wi.newNoDocument(n,r)}(e,t):wn(7234,{result:t})}(n.serializer,e);s.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=s.get(e.toString());Sn(!!t,55234,{key:e}),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ta(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Wn.fromPath(t);this.mutations.push(new Ia(n,this.precondition(n)))}),await async function(e,t){const n=kn(e),r={writes:t.map(e=>wo(n.serializer,e))};await n.Go("Commit",n.serializer.databaseId,Gn.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wn(50498,{Gu:e.constructor.name});t=or.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new _n(En.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(or.min())?ma.exists(!1):ma.updateTime(t):ma.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(or.min()))throw new _n(En.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ma.updateTime(t)}return ma.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ku{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new Ul(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new Su(this.datastore),t=this.Hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Yu(e)}))}).catch(e=>{this.Yu(e)})})}Hu(e){try{const t=this.updateFunction(e);return!Sr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if("FirebaseError"===(null===e||void 0===e?void 0:e.name)){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Oa(t)}return!1}}const Eu="FirestoreClient";class _u{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=dn.UNAUTHENTICATED,this.clientId=On.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{gn(Eu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(gn(Eu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Cc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Nu(e,t){e.asyncQueue.verifyOperationInProgress(),gn(Eu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await vl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Cu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Tu(e);gn(Eu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Sc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Sc(t.remoteStore,n)),e._onlineComponents=t}async function Tu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gn(Eu,"Using user provided OfflineComponentProvider");try{await Nu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===En.FAILED_PRECONDITION||e.code===En.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;vn("Error using user provided cache. Falling back to memory cache: "+n),await Nu(e,new vu)}}else gn(Eu,"Using default OfflineComponentProvider"),await Nu(e,new bu(void 0));return e._offlineComponents}async function Iu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gn(Eu,"Using user provided OnlineComponentProvider"),await Cu(e,e._uninitializedComponentsProvider._online)):(gn(Eu,"Using default OnlineComponentProvider"),await Cu(e,new wu))),e._onlineComponents}function Au(e){return Iu(e).then(e=>e.syncEngine)}function Du(e){return Iu(e).then(e=>e.datastore)}async function ju(e){const t=await Iu(e),n=t.eventManager;return n.onListen=Yc.bind(null,t.syncEngine),n.onUnlisten=Zc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Xc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eu.bind(null,t.syncEngine),n}function Mu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Nn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new xu({next:o=>{s.Nu(),t.enqueueAndForget(()=>Lc(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new _n(En.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new _n(En.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Uc(Es(n.path),s,{includeMetadataChanges:!0,qa:!0});return Pc(e,a)}(await ju(e),e.asyncQueue,t,n,r)),r.promise}function Pu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Nn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new xu({next:n=>{s.Nu(),t.enqueueAndForget(()=>Lc(e,a)),n.fromCache&&"server"===r.source?i.reject(new _n(En.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Uc(n,s,{includeMetadataChanges:!0,qa:!0});return Pc(e,a)}(await ju(e),e.asyncQueue,t,n,r)),r.promise}function Lu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ou=new Map,Ru="firestore.googleapis.com",zu=!0;class Fu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _n(En.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ru,this.ssl=zu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:zu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Vo;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ho)throw new _n(En.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new _n(En.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _n(En.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _n(En.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _n(En.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _n(En.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _n(En.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fu(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tn;switch(e.type){case"firstParty":return new jn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _n(En.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ou.get(e);t&&(gn("ComponentProvider","Removing Datastore"),Ou.delete(e),t.terminate())}(this),Promise.resolve()}}function Uu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=er(e,Vu);const i=ue(t),s=e._getSettings(),a=c(c({},s),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);i&&(async function(e){(await fetch(e,{credentials:"include"})).ok}("https://".concat(o)),fe("Firestore",!0)),s.host!==Ru&&s.host!==o&&vn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},s),{},{host:o,ssl:i,emulatorOptions:r});if(!xe(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=dn.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new _n(En.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new dn(i)}e._authCredentials=new In(new Cn(t,n))}}class Bu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class qu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qu(this.firestore,e,this._key)}toJSON(){return{type:qu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(rr(t,qu._jsonSchema))return new qu(e,n||null,new Wn(Gn.fromString(t.referencePath)))}}qu._jsonSchemaVersion="firestore/documentReference/1.0",qu._jsonSchema={type:nr("string",qu._jsonSchemaVersion),referencePath:nr("string")};class Hu extends Bu{constructor(e,t,n){super(e,t,Es(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qu(this.firestore,null,new Wn(e))}withConverter(e){return new Hu(this.firestore,e,this._path)}}function Gu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ke(e),Yn("collection","path",t),e instanceof Vu){const n=Gn.fromString(t,...r);return $n(n),new Hu(e,null,n)}{if(!(e instanceof qu||e instanceof Hu))throw new _n(En.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Gn.fromString(t,...r));return $n(n),new Hu(e.firestore,null,n)}}function Qu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ke(e),1===arguments.length&&(t=On.newId()),Yn("doc","path",t),e instanceof Vu){const n=Gn.fromString(t,...r);return Xn(n),new qu(e,null,new Wn(n))}{if(!(e instanceof qu||e instanceof Hu))throw new _n(En.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Gn.fromString(t,...r));return Xn(n),new qu(e.firestore,e instanceof Hu?e.converter:null,new Wn(n))}}const Ku="AsyncQueue";class Wu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ul(this,"async_queue_retry"),this._c=()=>{const e=Fl();e&&gn(Ku,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Fl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Fl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Nn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!br(e))throw e;gn(Ku,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,yn("INTERNAL UNHANDLED ERROR: ",Yu(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Nc.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&wn(47125,{Pc:Yu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Yu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Xu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class $u extends Vu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wu,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wu(e),this._firestoreClient=void 0,await e}}}function Ju(e){if(e._terminated)throw new _n(En.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Zu(e),e._firestoreClient}function Zu(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new wi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Lu(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new _u(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class eh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eh(li.fromBase64String(e))}catch(e){throw new _n(En.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new eh(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:eh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rr(e,eh._jsonSchema))return eh.fromBase64String(e.bytes)}}eh._jsonSchemaVersion="firestore/bytes/1.0",eh._jsonSchema={type:nr("string",eh._jsonSchemaVersion),bytes:nr("string")};class th{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _n(En.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nh{constructor(e){this._methodName=e}}class rh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _n(En.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _n(En.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Rn(this._lat,e._lat)||Rn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rh._jsonSchemaVersion}}static fromJSON(e){if(rr(e,rh._jsonSchema))return new rh(e.latitude,e.longitude)}}rh._jsonSchemaVersion="firestore/geoPoint/1.0",rh._jsonSchema={type:nr("string",rh._jsonSchemaVersion),latitude:nr("number"),longitude:nr("number")};class ih{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ih._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rr(e,ih._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ih(e.vectorValues);throw new _n(En.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ih._jsonSchemaVersion="firestore/vectorValue/1.0",ih._jsonSchema={type:nr("string",ih._jsonSchemaVersion),vectorValues:nr("object")};const sh=/^__.*__$/;class ah{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new ka(e,this.data,t,this.fieldTransforms)}}class oh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn(40011,{Ac:e})}}class ch{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ch(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(lh(this.Ac)&&sh.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vl(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ch({Ac:e,methodName:t,Dc:n,path:Kn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(e){const t=e._freezeSettings(),n=Vl(e._databaseId);return new uh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dh(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);wh("Data must be an object, but it was:",a,r);const o=vh(r,a);let l,c;if(s.merge)l=new ai(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=xh(t,r,n);if(!a.contains(i))throw new _n(En.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));_h(e,i)||e.push(i)}l=new ai(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new ah(new Qi(o),l,c)}class fh extends nh{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fh}}function ph(e,t,n,r){const i=e.Cc(1,t,n);wh("Data must be an object, but it was:",i,r);const s=[],a=Qi.empty();Zr(r,(e,r)=>{const o=kh(t,e,n);r=ke(r);const l=i.yc(o);if(r instanceof fh)s.push(o);else{const e=yh(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new ai(s);return new oh(a,o,i.fieldTransforms)}function mh(e,t,n,r,i,s){const a=e.Cc(1,t,n),o=[xh(t,r,n)],l=[i];if(s.length%2!=0)throw new _n(En.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(xh(t,s[d])),l.push(s[d+1]);const c=[],u=Qi.empty();for(let d=o.length-1;d>=0;--d)if(!_h(c,o[d])){const e=o[d];let t=l[d];t=ke(t);const n=a.yc(e);if(t instanceof fh)c.push(e);else{const r=yh(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new ai(c);return new oh(u,h,a.fieldTransforms)}function gh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yh(n,e.Cc(r?4:3,t))}function yh(e,t){if(bh(e=ke(e)))return wh("Unsupported field value:",t,e),vh(e,t);if(e instanceof nh)return function(e,t){if(!lh(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=yh(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ke(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ta(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ar.fromDate(e);return{timestampValue:so(t.serializer,n)}}if(e instanceof ar){const n=new ar(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:so(t.serializer,n)}}if(e instanceof rh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eh)return{bytesValue:ao(t.serializer,e._byteString)};if(e instanceof qu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:co(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ih)return function(e,t){return{mapValue:{fields:{[ki]:{stringValue:Ni},[Ci]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Zs(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Zn(e)))}(e,t)}function vh(e,t){const n={};return ei(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(e,(e,r)=>{const i=yh(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function bh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ar||e instanceof rh||e instanceof eh||e instanceof qu||e instanceof nh||e instanceof ih)}function wh(e,t,n){if(!bh(n)||!Jn(n)){const r=Zn(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function xh(e,t,n){if((t=ke(t))instanceof th)return t._internalPath;if("string"==typeof t)return kh(e,t);throw Eh("Field path arguments must be of type string or ",e,!1,void 0,n)}const Sh=new RegExp("[~\\*/\\[\\]]");function kh(e,t,n){if(t.search(Sh)>=0)throw Eh("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new th(...t.split("."))._internalPath}catch(r){throw Eh("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Eh(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new _n(En.INVALID_ARGUMENT,o+e+l)}function _h(e,t){return e.some(e=>e.isEqual(t))}class Nh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ch(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ch extends Nh{data(){return super.data()}}function Th(e,t){return"string"==typeof t?kh(e,t):t instanceof th?t._internalPath:t._delegate._internalPath}function Ih(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _n(En.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ah{}class Dh extends Ah{}function jh(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Ah&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Ph).length,n=e.filter(e=>e instanceof Mh).length;if(t>1||t>0&&n>0)throw new _n(En.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Mh extends Dh{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Mh(e,t,n)}_apply(e){const t=this._parse(e);return Vh(e._query,t),new Bu(e.firestore,e.converter,As(e._query,t))}_parse(e){const t=hh(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new _n(En.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Fh(a,s);const t=[];for(const n of a)t.push(zh(r,e,n));o={arrayValue:{values:t}}}else o=zh(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Fh(a,s),o=gh(n,t,a,"in"===s||"not-in"===s);return ts.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ph extends Ah{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ph(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ns.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Vh(n,i),n=As(n,i)}(e._query,t),new Bu(e.firestore,e.converter,As(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lh extends Dh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lh(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new _n(En.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _n(En.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ji(t,n)}(e._query,this._field,this._direction);return new Bu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ss(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Oh(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Th("orderBy",e);return Lh._create(n,t)}class Rh extends Dh{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Rh(e,t,n)}_apply(e){return new Bu(e.firestore,e.converter,Ds(e._query,this._limit,this._limitType))}}function zh(e,t,n){if("string"==typeof(n=ke(n))){if(""===n)throw new _n(En.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ns(t)&&-1!==n.indexOf("/"))throw new _n(En.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Gn.fromString(n));if(!Wn.isDocumentKey(r))throw new _n(En.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ri(e,new Wn(r))}if(n instanceof qu)return Ri(e,n._key);throw new _n(En.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Zn(n),"."))}function Fh(e,t){if(!Array.isArray(e)||0===e.length)throw new _n(En.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Vh(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new _n(En.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new _n(En.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Uh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Zr(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Ci].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>hi(e.doubleValue));return new ih(n)}convertGeoPoint(e){return new rh(hi(e.latitude),hi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bi(e));default:return null}}convertTimestamp(e){const t=ui(e);return new ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Gn.fromString(e);Sn(jo(n),9688,{name:e});const r=new Si(n.get(1),n.get(3)),i=new Wn(n.popFirst(5));return r.isEqual(t)||yn("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Bh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class qh extends Uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new eh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qu(this.firestore,null,t)}}class Hh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gh extends Nh{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _n(En.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Gh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gh._jsonSchema={type:nr("string",Gh._jsonSchemaVersion),bundleSource:nr("string","DocumentSnapshot"),bundleName:nr("string"),bundle:nr("string")};class Qh extends Gh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Kh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Qh(this._firestore,this._userDataWriter,n.key,n,new Hh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _n(En.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Qh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Hh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Qh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Wh(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _n(En.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=On.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn(61501,{type:e})}}function Yh(e){e=er(e,qu);const t=er(e.firestore,$u);return Mu(Ju(t),e._key).then(n=>id(t,e,n))}Kh._jsonSchemaVersion="firestore/querySnapshot/1.0",Kh._jsonSchema={type:nr("string",Kh._jsonSchemaVersion),bundleSource:nr("string","QuerySnapshot"),bundleName:nr("string"),bundle:nr("string")};class Xh extends Uh{constructor(e){super(),this.firestore=e}convertBytes(e){return new eh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qu(this.firestore,null,t)}}function $h(e){e=er(e,Bu);const t=er(e.firestore,$u),n=Ju(t),r=new Xh(t);return Ih(e._query),Pu(n,e._query).then(n=>new Kh(t,r,e,n))}function Jh(e,t,n){e=er(e,qu);const r=er(e.firestore,$u),i=Bh(e.converter,t,n);return rd(r,[dh(hh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ma.none())])}function Zh(e,t,n){e=er(e,qu);const r=er(e.firestore,$u),i=hh(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=ke(t))||t instanceof th?mh(i,"updateDoc",e._key,t,n,o):ph(i,"updateDoc",e._key,t),rd(r,[s.toMutation(e._key,ma.exists(!0))])}function ed(e){return rd(er(e.firestore,$u),[new Ta(e._key,ma.none())])}function td(e,t){const n=er(e.firestore,$u),r=Qu(e),i=Bh(e.converter,t);return rd(n,[dh(hh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ma.exists(!1))]).then(()=>r)}function nd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=ke(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||Xu(n[s])||(i=n[s++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xu(n[s])){var o,l,c;const e=n[s];n[s]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[s+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[s+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,h,d;if(e instanceof qu)h=er(e.firestore,$u),d=Es(e._key.path),u={next:t=>{n[s]&&n[s](id(h,e,t))},error:n[s+1],complete:n[s+2]};else{const t=er(e,Bu);h=er(t.firestore,$u),d=t._query;const r=new Xh(h);u={next:e=>{n[s]&&n[s](new Kh(h,r,t,e))},error:n[s+1],complete:n[s+2]},Ih(e._query)}return function(e,t,n,r){const i=new xu(r),s=new Uc(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Pc(await ju(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Lc(await ju(e),s))}}(Ju(h),d,a,u)}function rd(e,t){return function(e,t){const n=new Nn;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=yu(e);try{const e=await function(e,t){const n=kn(e),r=ar.now(),i=t.reduce((e,t)=>e.add(t.key),Xs());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Us(),l=Xs();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=xa(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Ea(e.key,t,Ki(t.value.mapValue),ma.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Hs(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ti(Rn)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await fu(r,e.changes),await fc(r.remoteStore)}catch(e){const t=Cc(e,"Failed to persist write");n.reject(t)}}(await Au(e),t,n)),n.promise}(Ju(e),t)}function id(e,t,n){const r=n.docs.get(t._key),i=new Xh(e);return new Gh(e,i,t._key,r,new Hh(n.hasPendingWrites,n.fromCache),t.converter)}const sd={maxAttempts:5};class ad{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hh(e)}set(e,t,n){this._verifyNotCommitted();const r=od(e,this._firestore),i=Bh(r.converter,t,n),s=dh(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ma.none())),this}update(e,t,n){this._verifyNotCommitted();const r=od(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=ke(t))||t instanceof th?mh(this._dataReader,"WriteBatch.update",r._key,t,n,a):ph(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ma.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=od(e,this._firestore);return this._mutations=this._mutations.concat(new Ta(t._key,ma.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _n(En.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function od(e,t){if((e=ke(e)).firestore!==t)throw new _n(En.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class ld{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hh(e)}get(e){const t=od(e,this._firestore),n=new qh(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return wn(24041);const r=e[0];if(r.isFoundDocument())return new Nh(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Nh(this._firestore,n,t._key,null,t.converter);throw wn(18433,{doc:r})})}set(e,t,n){const r=od(e,this._firestore),i=Bh(r.converter,t,n),s=dh(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=od(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=ke(t))||t instanceof th?mh(this._dataReader,"Transaction.update",r._key,t,n,a):ph(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=od(e,this._firestore);return this._transaction.delete(t._key),this}}class cd extends ld{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=od(e,this._firestore),n=new Xh(this._firestore);return super.get(e).then(e=>new Gh(this._firestore,n,t._key,e._document,new Hh(!1,!1),t.converter))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fn=e}("12.6.0"),Mt(new Ee("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new $u(new An(e.getProvider("auth-internal")),new Pn(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _n(En.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Si(e.options.projectId,t)}(s,r),s);return i=c({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),zt(un,hn,e),zt(un,hn,"esm2020")}();var ud=n(579);const hd="1217v9-WolfGodMode",dd={apiKey:"AIzaSyCwQjAtEjJGhVv2KuB0HwazdqQ4lhP2I_w",authDomain:"nmsl-accounting.firebaseapp.com",projectId:"nmsl-accounting",storageBucket:"nmsl-accounting.firebasestorage.app",messagingSenderId:"623278577938",appId:"1:623278577938:web:a7fa005c80168303437bcb",measurementId:"G-0B3WN5F2CP"};let fd;try{const e=Rt(dd);fd=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;const t=It.get(e);if(!t&&e===Ct&&le())return Rt();if(!t)throw Lt.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||xi,i=Pt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=oe("firestore");e&&Uu(i,...e)}return i}(e)}catch(Hd){console.error("Firebase \u521d\u59cb\u5316\u5931\u6557\uff0c\u8acb\u6aa2\u67e5\u8a2d\u5b9a\u6a94",Hd)}const pd=["\u6c34\u91ce","vina","Avalon","Ricky","\u4e94\u5341\u5d50","\u6c34\u6708","\u5f4c\u7802","Wolf","UBS"],md={"\u6c34\u91ce":"1571",vina:"7720",Avalon:"1018",Ricky:"0721","\u4e94\u5341\u5d50":"1225","\u6c34\u6708":"5230","\u5f4c\u7802":"3210",Wolf:"0821",UBS:"0663"},gd={WORLD:{label:"\u4e16\u754c",tax:.2},GENERAL:{label:"\u4e00\u822c",tax:.1}},yd=(()=>{try{return"/team-accounting/map.jpg"}catch(e){return"/map.jpg"}})(),vd=async(e,t)=>{if(e)try{await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})})}catch(Hd){console.error("Discord \u901a\u77e5\u767c\u9001\u5931\u6557",Hd)}},bd=e=>vd("https://discord.com/api/webhooks/1450050856094535745/0dvodClTjDzQEc_t5z_cCXNjPTF2wCyilpcWtJJNyX0xGhp4lYcRYOgzOam1IWT9Zqgo",e),wd=(e,t,n)=>{const r=(new Date).toLocaleString("zh-TW",{hour12:!1}),i="`[".concat(r,"]` **").concat(e||"\u672a\u5177\u540d","** ").concat(t,"\uff1a").concat(n);vd("https://discord.com/api/webhooks/1450325286062260296/_cNDE7s-GKL0QHVGKye5qIRA-xsQH-iOXUyFLWaDsGc0LwXTU94HC4yFdRW-eJm6KmTF",i)},xd=e=>{if(!e)return"\u7121\u7d00\u9304";try{return new Date(e).toLocaleString("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(t){return"\u65e5\u671f\u932f\u8aa4"}},Sd=e=>{if(!e)return"--:--";try{return new Date(e).toLocaleString("zh-TW",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch(t){return"--:--"}},kd=e=>{try{return e.toLocaleString("zh-TW",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch(t){return"--:--:--"}},Ed=e=>{try{const t=new Date(e),n=new Date;n.setHours(0,0,0,0);const r=new Date(t);r.setHours(0,0,0,0);const i=r.getTime()-n.getTime(),s=Math.round(i/864e5);return-1===s?"yesterday":0===s?"today":1===s?"tomorrow":"other"}catch(t){return"other"}},_d=()=>{const e=Math.floor(360*Math.random()),t=70+30*Math.random(),n=(45+15*Math.random())/100,r=t*Math.min(n,1-n)/100,i=t=>{const i=(t+e/30)%12,s=n-r*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*s).toString(16).padStart(2,"0")};return"#".concat(i(0)).concat(i(8)).concat(i(4))},Nd=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},Cd=()=>{const e=new Date,t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");return"".concat(t,":").concat(n)},Td=e=>{if(!e)return"";const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:e},Id=e=>{let{message:t,isVisible:n}=e;return(0,ud.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[70] transition-all duration-300 pointer-events-none\n      ".concat(n?"translate-y-0 opacity-100":"-translate-y-10 opacity-0"),children:(0,ud.jsxs)("div",{className:"bg-green-600 text-white px-6 py-2 rounded-full shadow-lg font-bold flex items-center gap-2",children:[(0,ud.jsx)(v,{size:18}),t]})})},Ad=e=>{let{show:t,remoteVersion:n,onRefresh:r}=e;return t?(0,ud.jsx)("div",{className:"fixed bottom-6 right-6 z-[100] animate-[bounceIn_0.5s_ease-out]",children:(0,ud.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-5 rounded-2xl shadow-2xl border-2 border-white/20 max-w-sm",children:(0,ud.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ud.jsx)("div",{className:"bg-white/20 p-2 rounded-full animate-pulse",children:(0,ud.jsx)(b,{size:24,className:"text-white"})}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("h3",{className:"font-bold text-lg mb-1",children:"\ud83d\ude80 \u767c\u73fe\u65b0\u7248\u672c\uff01"}),(0,ud.jsxs)("p",{className:"text-sm opacity-90 mb-3 leading-relaxed",children:["\u70ba\u4e86\u78ba\u4fdd\u529f\u80fd\u6b63\u5e38\u8207\u8cc7\u6599\u540c\u6b65\uff0c\u8acb\u7acb\u5373\u66f4\u65b0\u7db2\u9801\u3002",(0,ud.jsx)("br",{}),(0,ud.jsxs)("span",{className:"text-xs opacity-70 font-mono mt-1 block",children:["Local: ",hd," ",(0,ud.jsx)("br",{})," New: ",n]})]}),(0,ud.jsx)("button",{onClick:r,className:"w-full bg-white text-blue-700 font-bold py-2 rounded-lg hover:bg-blue-50 transition-colors shadow-md active:scale-95",children:"\u7acb\u5373\u91cd\u65b0\u6574\u7406"})]})]})})}):null},Dd=e=>{let{videoId:t,isDarkMode:n}=e;const[i,s]=(0,r.useState)(null),[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(50),[p,m]=(0,r.useState)(!0),[g,y]=(0,r.useState)(!1),v=(0,r.useRef)(g);(0,r.useEffect)(()=>{const e=localStorage.getItem("accounting_player_settings");if(e)try{const t=JSON.parse(e);void 0!==t.volume&&f(t.volume),void 0!==t.isMuted&&m(t.isMuted),void 0!==t.isLoop&&(y(t.isLoop),v.current=t.isLoop)}catch(t){console.error("\u8b80\u53d6\u64ad\u653e\u5668\u8a2d\u5b9a\u5931\u6557",t)}},[]),(0,r.useEffect)(()=>{const e={volume:d,isMuted:p,isLoop:g};localStorage.setItem("accounting_player_settings",JSON.stringify(e)),v.current=g},[d,p,g]),(0,r.useEffect)(()=>{if(!window.YT){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},[]),(0,r.useEffect)(()=>{if(t&&window.YT&&window.YT.Player){if(i)return void i.loadVideoById(t);const e=new window.YT.Player("youtube-player",{height:"0",width:"0",videoId:t,playerVars:{autoplay:0,controls:0,rel:0,playsinline:1},events:{onReady:e=>{h(!0),p?e.target.mute():e.target.unMute(),e.target.setVolume(d)},onStateChange:e=>{o(e.data===window.YT.PlayerState.PLAYING),0===e.data&&v.current&&e.target.playVideo()}}});s(e)}else if(t){const e=setInterval(()=>{window.YT&&window.YT.Player&&(clearInterval(e),s(null))},500);return()=>clearInterval(e)}},[t]);return t?(0,ud.jsxs)("div",{className:"fixed bottom-4 left-4 z-40 transition-all duration-300 shadow-xl rounded-lg border overflow-hidden\n      ".concat(n?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800","\n      ").concat(l?"w-10 h-10 rounded-full":"w-64 p-3","\n    "),children:[(0,ud.jsx)("div",{id:"youtube-player",className:"hidden"}),l?(0,ud.jsx)("button",{onClick:()=>c(!1),className:"w-full h-full flex items-center justify-center hover:bg-gray-200/20 rounded-full",children:(0,ud.jsx)(w,{size:20,className:a?"animate-pulse text-green-500":"text-gray-400"})}):(0,ud.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ud.jsxs)("div",{className:"flex justify-between items-center border-b pb-1 border-gray-500/20",children:[(0,ud.jsxs)("span",{className:"text-xs font-bold flex items-center gap-1",children:[(0,ud.jsx)(w,{size:14})," \u97f3\u6a02\u64ad\u653e\u5668"]}),(0,ud.jsx)("button",{onClick:()=>c(!0),children:(0,ud.jsx)(x,{size:16})})]}),(0,ud.jsxs)("div",{className:"flex items-center gap-2 justify-center py-1",children:[(0,ud.jsx)("button",{onClick:()=>{i&&u&&(a?i.pauseVideo():i.playVideo())},className:"p-2 rounded-full transition-colors ".concat(a?"bg-red-500 text-white":"bg-green-500 text-white"),title:a?"\u66ab\u505c":"\u64ad\u653e",children:a?(0,ud.jsx)(S,{size:16}):(0,ud.jsx)(k,{size:16})}),(0,ud.jsx)("button",{onClick:()=>{i&&u&&(p?i.unMute():i.mute(),m(!p))},className:"p-2 rounded-full transition-colors ".concat(p?"bg-gray-600 text-white":"bg-gray-200 text-gray-700"),title:"\u975c\u97f3/\u53d6\u6d88\u975c\u97f3",children:p?(0,ud.jsx)(E,{size:16}):(0,ud.jsx)(_,{size:16})}),(0,ud.jsx)("button",{onClick:()=>{y(!g)},className:"p-2 rounded-full transition-colors ".concat(g?"bg-blue-500 text-white":"bg-gray-200 text-gray-400"),title:"\u5faa\u74b0\u64ad\u653e",children:(0,ud.jsx)(N,{size:16})})]}),(0,ud.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ud.jsx)(_,{size:12,className:"opacity-50"}),(0,ud.jsx)("input",{type:"range",min:"0",max:"100",value:d,onChange:e=>{const t=parseInt(e.target.value);f(t),i&&u&&(i.setVolume(t),t>0&&p&&(i.unMute(),m(!1)))},className:"w-full h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),(0,ud.jsxs)("div",{className:"text-[10px] opacity-60 text-center truncate",children:["ID: ",t]})]})]}):null},jd=e=>{let{isOpen:t,onClose:n,theme:i,currentSettings:s,isDarkMode:a,currentUser:o}=e;const[l,u]=(0,r.useState)({appVersion:hd,mapShowMins:60,mapBlinkMins:10,mapLineGapSecs:120,youtubeVideoId:"",geminiApiKey:""});if((0,r.useEffect)(()=>{s&&u(s)},[s]),!t)return null;return(0,ud.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:(0,ud.jsxs)("div",{className:"w-full max-w-lg p-6 rounded-xl shadow-2xl ".concat(i.card," max-h-[90vh] overflow-y-auto"),children:[(0,ud.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b pb-2 border-gray-600",children:[(0,ud.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 ".concat(i.text),children:[(0,ud.jsx)(C,{size:24})," \u7cfb\u7d71\u5168\u57df\u8a2d\u5b9a"]}),(0,ud.jsx)("button",{onClick:n,className:"p-1 rounded hover:bg-red-500 hover:text-white transition-colors",children:(0,ud.jsx)(T,{size:24})})]}),(0,ud.jsxs)("div",{className:"space-y-6",children:[(0,ud.jsxs)("div",{className:"p-4 bg-blue-900/20 rounded-lg border border-blue-500/30",children:[(0,ud.jsxs)("h4",{className:"font-bold text-blue-500 mb-2 flex items-center gap-2",children:[(0,ud.jsx)(b,{size:16})," \u7248\u672c\u865f\u63a7\u7ba1","Wolf"!==o&&(0,ud.jsxs)("span",{className:"text-xs text-red-400 bg-red-900/20 px-2 py-0.5 rounded ml-2 flex items-center gap-1",children:[(0,ud.jsx)(I,{size:10})," \u6b0a\u9650\u4e0d\u8db3"]})]}),(0,ud.jsx)("p",{className:"text-xs mb-3 opacity-70 ".concat(i.text),children:"* \u4fee\u6539\u6b64\u865f\u78bc\u8207\u4f7f\u7528\u8005\u7576\u524d\u7248\u672c\u4e0d\u540c\u6642\uff0c\u6703\u8df3\u51fa\u66f4\u65b0\u63d0\u793a\u3002"}),(0,ud.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ud.jsx)("label",{className:"text-sm w-24 font-bold ".concat(i.text),children:"\u96f2\u7aef\u7248\u672c"}),(0,ud.jsx)("input",{type:"text",className:"flex-1 p-2 rounded border ".concat(i.input," ").concat("Wolf"!==o?"opacity-50 cursor-not-allowed":""),value:l.appVersion||"",onChange:e=>u(c(c({},l),{},{appVersion:e.target.value})),disabled:"Wolf"!==o,title:"Wolf"!==o?"\u53ea\u6709 Wolf \u53ef\u4ee5\u4fee\u6539\u6b64\u6b04\u4f4d":""})]}),(0,ud.jsxs)("div",{className:"text-xs text-right mt-1 opacity-50",children:["\u60a8\u7684\u672c\u6a5f\u7248\u672c: ",hd]})]}),(0,ud.jsxs)("div",{className:"p-4 bg-yellow-900/20 rounded-lg border border-yellow-500/30",children:[(0,ud.jsxs)("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:[(0,ud.jsx)(A,{size:16})," AI \u8a2d\u5b9a (Gemini)"]}),(0,ud.jsx)("p",{className:"text-xs mb-3 opacity-70 ".concat(i.text),children:"* \u586b\u5165 Google Gemini API Key \u4ee5\u555f\u7528\u667a\u6167\u554f\u7b54\u529f\u80fd\u3002"}),(0,ud.jsx)("div",{className:"flex flex-col gap-2",children:(0,ud.jsx)("input",{type:"password",placeholder:"API Key (\u4f8b\u5982: AIzaSy...)",className:"w-full p-2 rounded border ".concat(i.input),value:l.geminiApiKey||"",onChange:e=>u(c(c({},l),{},{geminiApiKey:e.target.value}))})})]}),(0,ud.jsxs)("div",{className:"p-4 bg-purple-900/20 rounded-lg border border-purple-500/30",children:[(0,ud.jsxs)("h4",{className:"font-bold text-purple-500 mb-4 flex items-center gap-2",children:[(0,ud.jsx)(D,{size:16})," Boss \u5730\u5716\u53c3\u6578"]}),(0,ud.jsxs)("div",{className:"space-y-4",children:[(0,ud.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ud.jsx)("label",{className:"text-sm w-32 ".concat(i.text),children:"\u986f\u793a\u7bc4\u570d (\u5206)"}),(0,ud.jsx)("input",{type:"number",className:"w-24 p-2 rounded border ".concat(i.input),value:l.mapShowMins||60,onChange:e=>u(c(c({},l),{},{mapShowMins:Number(e.target.value)}))}),(0,ud.jsx)("span",{className:"text-xs opacity-50",children:"\u91cd\u751f\u524d N \u5206\u9418\u986f\u793a"})]}),(0,ud.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ud.jsx)("label",{className:"text-sm w-32 ".concat(i.text),children:"\u9583\u720d\u63d0\u793a (\u5206)"}),(0,ud.jsx)("input",{type:"number",className:"w-24 p-2 rounded border ".concat(i.input),value:l.mapBlinkMins||10,onChange:e=>u(c(c({},l),{},{mapBlinkMins:Number(e.target.value)}))}),(0,ud.jsx)("span",{className:"text-xs opacity-50",children:"\u91cd\u751f\u524d N \u5206\u9418\u958b\u59cb\u9583\u720d"})]}),(0,ud.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ud.jsx)("label",{className:"text-sm w-32 ".concat(i.text),children:"\u9023\u7dda\u7fa4\u7d44 (\u79d2)"}),(0,ud.jsx)("input",{type:"number",className:"w-24 p-2 rounded border ".concat(i.input),value:l.mapLineGapSecs||120,onChange:e=>u(c(c({},l),{},{mapLineGapSecs:Number(e.target.value)}))}),(0,ud.jsx)("span",{className:"text-xs opacity-50",children:"\u9593\u9694 N \u79d2\u5167\u8996\u70ba\u540c\u4e00\u7d44"})]})]})]}),(0,ud.jsxs)("div",{className:"p-4 bg-green-900/20 rounded-lg border border-green-500/30",children:[(0,ud.jsxs)("h4",{className:"font-bold text-green-500 mb-4 flex items-center gap-2",children:[(0,ud.jsx)(w,{size:16})," \u80cc\u666f\u97f3\u6a02\u8a2d\u5b9a"]}),(0,ud.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ud.jsx)("label",{className:"text-sm ".concat(i.text),children:"YouTube \u7db2\u5740\u6216 ID"}),(0,ud.jsx)("input",{type:"text",placeholder:"\u4f8b\u5982: dQw4w9WgXcQ",className:"w-full p-2 rounded border ".concat(i.input),value:l.youtubeVideoId||"",onChange:e=>u(c(c({},l),{},{youtubeVideoId:e.target.value}))}),(0,ud.jsx)("span",{className:"text-xs opacity-50",children:"* \u66f4\u65b0\u5f8c\uff0c\u6240\u6709\u5728\u7dda\u6210\u54e1\u7684\u64ad\u653e\u5668\u6703\u540c\u6b65\u8f09\u5165\u6b64\u5f71\u7247\u3002"})]})]})]}),(0,ud.jsxs)("div",{className:"mt-8 flex justify-end gap-3",children:[(0,ud.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"\u53d6\u6d88"}),(0,ud.jsxs)("button",{onClick:async()=>{if(fd)try{const e=c(c({},l),{},{youtubeVideoId:Td(l.youtubeVideoId)});await Jh(Qu(fd,"system_data","global_settings"),e,{merge:!0}),wd(o,"\u4fee\u6539\u7cfb\u7d71\u8a2d\u5b9a","\u7248\u672c:".concat(e.appVersion,", \u97f3\u6a02:").concat(e.youtubeVideoId)),alert("\u8a2d\u5b9a\u5df2\u5132\u5b58\uff01"),n()}catch(e){console.error(e),alert("\u5132\u5b58\u5931\u6557")}},className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold flex items-center gap-2",children:[(0,ud.jsx)(j,{size:18})," \u5132\u5b58\u8a2d\u5b9a"]})]})]})})},Md=e=>{let{isOpen:t,onSelectUser:n,theme:i}=e;const[s,a]=(0,r.useState)("SELECT"),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)("");if(!t)return null;const f=()=>{c===md[o]?(n(o),wd(o,"\u7d81\u5b9a\u8a2d\u5099","\u767b\u5165\u6210\u529f (\u65b0\u8a2d\u5099\u7d81\u5b9a)")):(d("\u5bc6\u78bc\u932f\u8aa4"),wd(o,"\u767b\u5165\u5931\u6557","\u5bc6\u78bc\u932f\u8aa4\u5617\u8a66"))};return(0,ud.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-md p-4",children:(0,ud.jsxs)("div",{className:"w-full max-w-md p-6 rounded-2xl shadow-2xl ".concat(i.card," text-center"),children:["SELECT"===s?(0,ud.jsxs)(ud.Fragment,{children:[(0,ud.jsx)(M,{size:64,className:"mx-auto mb-4 text-blue-500"}),(0,ud.jsx)("h2",{className:"text-2xl font-bold mb-2 ".concat(i.text),children:"\u6b61\u8fce\uff01\u8acb\u554f\u60a8\u662f\u54ea\u4f4d\u6210\u54e1\uff1f"}),(0,ud.jsx)("p",{className:"text-sm mb-6 ".concat(i.subText),children:"\u8acb\u9078\u64c7\u60a8\u7684\u8eab\u4efd\u4ee5\u7d81\u5b9a\u6b64\u8a2d\u5099\u3002"}),(0,ud.jsx)("div",{className:"grid grid-cols-3 gap-3",children:pd.map(e=>(0,ud.jsx)("button",{onClick:()=>(e=>{md[e]?(l(e),a("PASSWORD"),d(""),u("")):alert("\u5c1a\u672a\u63d0\u4f9b\u5bc6\u78bc\uff0c\u8acb\u79c1\u8a0a Wolf \u7372\u53d6\u4e00\u7d44\u56db\u4f4d\u6578\u5bc6\u78bc\u3002")})(e),className:"p-3 rounded-xl bg-blue-600 hover:bg-blue-500 text-white font-bold transition-transform hover:scale-105 active:scale-95",children:e},e))})]}):(0,ud.jsxs)(ud.Fragment,{children:[(0,ud.jsx)(I,{size:64,className:"mx-auto mb-4 text-yellow-500"}),(0,ud.jsx)("h2",{className:"text-2xl font-bold mb-2 ".concat(i.text),children:"\u8acb\u8f38\u5165\u5bc6\u78bc"}),(0,ud.jsxs)("p",{className:"text-sm mb-4 ".concat(i.subText),children:["\u6b63\u5728\u9a57\u8b49\u8eab\u4efd\uff1a",(0,ud.jsx)("span",{className:"font-bold text-blue-500",children:o})]}),(0,ud.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,ud.jsx)("input",{type:"password",maxLength:"4",placeholder:"4\u4f4d\u6578\u5bc6\u78bc",className:"w-full p-3 rounded-lg text-center text-xl tracking-widest border-2 outline-none ".concat(h?"border-red-500":"border-gray-300"),value:c,onChange:e=>u(e.target.value),onKeyDown:e=>"Enter"===e.key&&f()}),h&&(0,ud.jsx)("p",{className:"text-red-500 text-sm font-bold animate-pulse",children:h}),(0,ud.jsxs)("div",{className:"flex gap-2",children:[(0,ud.jsx)("button",{onClick:()=>{a("SELECT"),l(null),u(""),d("")},className:"flex-1 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"\u8fd4\u56de"}),(0,ud.jsx)("button",{onClick:f,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold",children:"\u78ba\u8a8d"})]})]})]}),(0,ud.jsx)("div",{className:"mt-6 text-xs ".concat(i.subText),children:"* \u7d81\u5b9a\u5f8c\uff0c\u4e0b\u6b21\u958b\u555f\u7db2\u9801\u7121\u9700\u518d\u6b21\u767b\u5165\u3002"})]})})},Pd=e=>{let{isOpen:t,onClose:n,theme:i,isDarkMode:s,currentUser:a}=e;const[o,l]=(0,r.useState)({}),[u,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!t||!fd)return;const e=nd(Qu(fd,"settlement_data","main_grid"),e=>{e.exists()?l(e.data().matrix||{}):l({}),h(!1)});return()=>e()},[t]);if(!t)return null;const d={headerCell:s?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-700 border-gray-300",headerCellSticky:s?"bg-gray-800 text-gray-200 border-gray-600":"bg-gray-50 text-gray-700 border-gray-300",totalHeader:s?"bg-blue-900/50 text-blue-200 border-gray-600":"bg-blue-50 text-blue-800 border-gray-300",rowHeader:s?"bg-gray-800 text-gray-200 border-gray-600":"bg-gray-50 text-gray-800 border-gray-300",cell:s?"border-gray-600":"border-gray-300",input:s?"text-gray-100":"text-gray-800",selfCell:s?"bg-black/50":"bg-black/80",rowTotal:s?"bg-blue-900/30 text-blue-400 border-gray-600":"bg-blue-50/30 text-blue-600 border-gray-300",incomeHeader:s?"bg-green-900/50 text-green-200 border-gray-600":"bg-green-100 text-green-800 border-gray-300",incomeLabel:s?"bg-green-900/30 text-green-200 border-gray-600":"bg-green-50/50 text-green-800 border-gray-300",incomeCell:s?"text-green-400 border-gray-600":"text-green-600 border-gray-300",emptyCorner:s?"bg-gray-700 border-gray-600":"bg-gray-200 border-gray-300"};return(0,ud.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 overflow-auto",children:(0,ud.jsxs)("div",{className:"w-full max-w-6xl rounded-xl p-6 h-[90vh] flex flex-col ".concat(i.card),children:[(0,ud.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b pb-2 ".concat(s?"border-gray-700":"border-gray-200"),children:[(0,ud.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ud.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 ".concat(i.text),children:[(0,ud.jsx)(P,{size:24})," \u6210\u54e1\u9918\u984d\u8868 (Excel \u6a21\u5f0f)"]}),(0,ud.jsxs)("button",{onClick:async()=>{if(!fd)return;if(!window.confirm("\u78ba\u5b9a\u8981\u57f7\u884c\u300c\u81ea\u52d5\u5283\u5e33\u300d\u55ce\uff1f\n\u9019\u5c07\u6703\u91cd\u65b0\u8a08\u7b97\u4e26\u8986\u84cb\u76ee\u524d\u7684\u8868\u683c\uff0c\u5c07\u6240\u6709\u8907\u96dc\u7684\u50b5\u52d9\u7c21\u5316\u70ba\u6700\u5c11\u7b46\u6578\u3002"))return;const e={};pd.forEach(t=>e[t]=0),pd.forEach(t=>{pd.forEach(n=>{if(t===n)return;const r=parseFloat(o["".concat(t,"_").concat(n)])||0;e[t]-=r,e[n]+=r})});let t=[],n=[];pd.forEach(r=>{const i=e[r];i<-1?t.push({name:r,balance:Math.abs(i)}):i>1&&n.push({name:r,balance:i})}),t.sort((e,t)=>t.balance-e.balance),n.sort((e,t)=>t.balance-e.balance);const r={};let i=0,s=0;for(;i<t.length&&s<n.length;){let e=t[i],a=n[s],o=Math.min(e.balance,a.balance);const l="".concat(e.name,"_").concat(a.name);r[l]=(r[l]||0)+o,e.balance-=o,a.balance-=o,e.balance<1&&i++,a.balance<1&&s++}try{await Jh(Qu(fd,"settlement_data","main_grid"),{matrix:r},{merge:!1}),bd("\u2696\ufe0f [\u7cfb\u7d71\u516c\u544a] **".concat(a,"** \u57f7\u884c\u4e86\u300c\u81ea\u52d5\u5283\u5e33\u300d\uff0c\u5168\u57df\u50b5\u52d9\u5df2\u5b8c\u6210\u7c21\u5316\u3002")),wd(a,"\u57f7\u884c\u81ea\u52d5\u5283\u5e33","\u91cd\u7f6e\u4e26\u7c21\u5316\u6240\u6709\u50b5\u52d9"),alert("\u5283\u5e33\u5b8c\u6210\uff01\u50b5\u52d9\u5df2\u7c21\u5316\u3002")}catch(l){console.error("Auto balance failed",l),alert("\u5283\u5e33\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002")}},className:"flex items-center gap-2 px-3 py-1 text-sm bg-purple-600 text-white rounded hover:bg-purple-700 shadow transition-colors",title:"\u91cd\u65b0\u8a08\u7b97\u4e26\u7c21\u5316\u6240\u6709\u50b5\u52d9",children:[(0,ud.jsx)(L,{size:16})," \u81ea\u52d5\u5283\u5e33"]})]}),(0,ud.jsx)("button",{onClick:n,className:"p-1 rounded ".concat(s?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-200 text-gray-500"),children:(0,ud.jsx)(T,{size:24})})]}),(0,ud.jsx)("div",{className:"flex-1 overflow-auto",children:u?(0,ud.jsx)("div",{className:"p-10 text-center ".concat(i.subText),children:"\u8f09\u5165\u4e2d..."}):(0,ud.jsxs)("table",{className:"w-full border-collapse min-w-[1000px]",children:[(0,ud.jsx)("thead",{children:(0,ud.jsxs)("tr",{children:[(0,ud.jsx)("th",{className:"p-2 border min-w-[100px] sticky top-0 left-0 z-20 font-bold ".concat(d.headerCell),children:"\u4ed8\u6b3e\\\u6536\u6b3e"}),pd.map(e=>(0,ud.jsx)("th",{className:"p-2 border min-w-[100px] sticky top-0 z-10 font-bold ".concat(d.headerCellSticky),children:e},e)),(0,ud.jsx)("th",{className:"p-2 border min-w-[100px] sticky top-0 z-10 font-bold ".concat(d.totalHeader),children:"\u7e3d\u8a08\u652f\u51fa"})]})}),(0,ud.jsxs)("tbody",{children:[pd.map(e=>{let t=0;return(0,ud.jsxs)("tr",{className:i.card,children:[(0,ud.jsx)("th",{className:"p-2 border sticky left-0 z-10 font-bold ".concat(d.rowHeader),children:e}),pd.map(n=>{const r=e===n,i="".concat(e,"_").concat(n),s=o[i]||0;r||(t+=s);const u=e===a||n===a||"Wolf"===a;return(0,ud.jsx)("td",{className:"p-1 border text-center ".concat(d.cell," ").concat(r?d.selfCell:""),children:!r&&(0,ud.jsx)("input",{type:"number",className:"w-full h-full p-1 text-center bg-transparent outline-none font-mono ".concat(d.input," ").concat(s>0?"text-red-500 font-bold":"opacity-60"," ").concat(u?"":"cursor-not-allowed opacity-30"),value:0===s?"":s,placeholder:"0",readOnly:!u,onClick:()=>{u||(wd(a,"\u6b0a\u9650\u4e0d\u8db3","\u5617\u8a66\u4fee\u6539\u9918\u984d\u8868\uff1a".concat(e," -> ").concat(n)),alert("\u6b0a\u9650\u4e0d\u8db3\uff1a\u60a8\u53ea\u80fd\u4fee\u6539\u8207\u81ea\u5df1\u6709\u95dc\u7684\u5e33\u52d9\uff08\u60a8\u662f\u4ed8\u6b3e\u4eba\u6216\u6536\u6b3e\u4eba\uff09"))},onChange:e=>{if(!u)return;const t=e.target.value;l(e=>c(c({},e),{},{[i]:t}))},onBlur:t=>(async(e,t,n)=>{const r="".concat(e,"_").concat(t),i=parseFloat(n)||0;if(e===a||t===a||"Wolf"===a){if(o[r]!==i){const n="\ud83d\udcdd [\u5e33\u52d9\u4fee\u6539] ".concat(e," \u5c0d ").concat(t," \u7684\u6b20\u6b3e\u5df2\u624b\u52d5\u4fee\u6539\u70ba $").concat(i.toLocaleString());bd(n),wd(a,"\u4fee\u6539\u9918\u984d\u8868","".concat(e," -> ").concat(t," \u6539\u70ba ").concat(i))}l(e=>c(c({},e),{},{[r]:i})),fd&&await Jh(Qu(fd,"settlement_data","main_grid"),{matrix:c(c({},o),{},{[r]:i})},{merge:!0})}})(e,n,t.target.value)})},n)}),(0,ud.jsx)("td",{className:"p-2 border text-center font-bold ".concat(d.rowTotal),children:t.toLocaleString()})]},e)}),(0,ud.jsxs)("tr",{className:d.incomeLabel,children:[(0,ud.jsx)("td",{className:"p-2 border text-right sticky left-0 z-10 ".concat(d.incomeHeader),children:"\u9810\u5b9a\u6536\u5165"}),pd.map(e=>{let t=0;return pd.forEach(n=>{n!==e&&(t+=parseFloat(o["".concat(n,"_").concat(e)]||0))}),(0,ud.jsx)("td",{className:"p-2 border text-center ".concat(d.incomeCell),children:t.toLocaleString()},e)}),(0,ud.jsx)("td",{className:"p-2 border ".concat(d.emptyCorner)})]})]})]})}),(0,ud.jsxs)("div",{className:"mt-2 text-xs ".concat(i.subText),children:["* \u8aaa\u660e\uff1a\u8868\u683c\u6578\u5b57\u4ee3\u8868\u300c\u4ed8\u6b3e\u4eba\u300d\u6b20\u300c\u6536\u6b3e\u4eba\u300d\u7684\u91d1\u984d\u3002 ",(0,ud.jsx)("br",{}),"* \ud83d\udd12 \u60a8\u53ea\u80fd\u4fee\u6539\u8207\u81ea\u5df1\u6709\u95dc\u7684\u6b04\u4f4d\uff08\u60a8\u662f\u4ed8\u6b3e\u4eba\u6216\u6536\u6b3e\u4eba\uff09\u3002Wolf \u64c1\u6709\u6240\u6709\u4fee\u6539\u6b0a\u9650\u3002"]})]})})},Ld=e=>{var t,n,r,i;let{item:s,isHistory:a,theme:o,updateItemValue:l,handleSettleAll:c,handleDelete:u,confirmSettleId:h,setConfirmSettleId:d,confirmDeleteId:f,setConfirmDeleteId:p,currentUser:m}=e;const g=s.listingHistory||[],{afterTaxPrice:y,perPersonSplit:b,totalListingFee:w}=function(e,t,n){var r;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const a=parseFloat(e)||0,o=parseFloat(i)||0,l=a*((null===(r=gd[t])||void 0===r?void 0:r.tax)||0),c=s.reduce((e,t)=>e+Math.floor(.02*(parseFloat(t)||0)),0),u=Math.floor(a-l-o-c),h=n>0?n:1;let d=Math.floor(u/h);return{afterTaxPrice:u,perPersonSplit:1e4*Math.floor(d/1e4),taxAmount:l,cost:o,totalListingFee:c}}(s.price,s.exchangeType,(null===(t=s.participants)||void 0===t?void 0:t.length)||0,s.cost,g);return(0,ud.jsxs)("div",{className:"rounded-xl shadow-md border-l-4 p-6 relative ".concat(o.card," ").concat(a?"border-gray-500 opacity-90":"border-blue-500"),children:[(0,ud.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ud.jsxs)("div",{className:"flex flex-col gap-1 w-full pr-10",children:[(0,ud.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,ud.jsx)("span",{className:"bg-blue-100 text-blue-800 font-bold px-2 py-1 rounded text-xs",children:s.seller}),(0,ud.jsx)("h3",{className:"text-xl font-bold ".concat(o.text),children:s.itemName}),(0,ud.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full border bg-green-100 text-green-700 border-green-200",children:(null===(n=gd[s.exchangeType])||void 0===n?void 0:n.label)||"\u672a\u77e5"})]}),a&&(0,ud.jsxs)("div",{className:"text-xs text-gray-400 flex gap-2",children:[(0,ud.jsxs)("span",{children:["\u5efa: ",xd(s.createdAt)]}),(0,ud.jsxs)("span",{children:["\u7d50: ",xd(s.settledAt)]})]})]}),(0,ud.jsx)("div",{className:"absolute top-4 right-4 z-10",children:f===s.id?(0,ud.jsxs)("div",{className:"flex gap-2 bg-red-50 p-1 rounded border border-red-200",children:[(0,ud.jsx)("button",{onClick:()=>u(s.id),className:"text-xs bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 transition-colors",children:"\u522a\u9664"}),(0,ud.jsx)("button",{onClick:()=>p(null),className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-300 transition-colors",children:"\u53d6\u6d88"})]}):(0,ud.jsx)("button",{onClick:()=>{if(s.seller!==m)return alert("\u6b0a\u9650\u4e0d\u8db3\uff1a\u53ea\u6709\u8ca9\u8ce3\u4eba (".concat(s.seller,") \u53ef\u4ee5\u522a\u9664\u6b64\u9805\u76ee")),void wd(m,"\u6b0a\u9650\u4e0d\u8db3","\u5617\u8a66\u522a\u9664\u975e\u672c\u4eba\u7269\u54c1\uff1a".concat(s.itemName," (\u8ce3\u5bb6: ").concat(s.seller,")"));p(s.id),d(null)},className:"text-gray-400 hover:text-red-500 p-1 rounded hover:bg-gray-100 transition-colors",children:(0,ud.jsx)(O,{size:18})})})]}),(0,ud.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 rounded mb-4 ".concat(o.sectionBg),children:[(0,ud.jsxs)("div",{className:"flex flex-col",children:[(0,ud.jsx)("span",{className:"text-xs ".concat(o.subText),children:"\u552e\u50f9 (\u542b\u7a05)"}),(0,ud.jsx)("div",{className:"text-lg font-bold ".concat(o.text),children:a?s.price:(0,ud.jsx)("input",{type:"number",className:"bg-transparent w-full border-b border-gray-400 focus:border-blue-500 outline-none",value:s.price,onChange:e=>l(s.id,"price",e.target.value)})}),(0,ud.jsxs)("div",{className:"text-[10px] text-gray-400 mt-1",children:["\u7a05: ",(s.price*((null===(r=gd[s.exchangeType])||void 0===r?void 0:r.tax)||0)).toFixed(0)]})]}),(0,ud.jsxs)("div",{className:"flex flex-col",children:[(0,ud.jsxs)("span",{className:"text-xs ".concat(o.subText," flex items-center gap-1"),children:["\u520a\u767b\u8cbb (2%)",!a&&(0,ud.jsx)("button",{onClick:()=>{const e=prompt("\u8acb\u8f38\u5165\u8a72\u6b21\u520a\u767b\u7684\u300c\u7269\u54c1\u50f9\u683c\u300d(\u7cfb\u7d71\u5c07\u81ea\u52d5\u8a08\u7b972%):",s.price);if(e){const t=parseFloat(e);if(!isNaN(t)){const e=[...g,t];l(s.id,"listingHistory",e)}}},className:"bg-blue-500 text-white rounded-full p-0.5 hover:bg-blue-600",title:"\u65b0\u589e\u4e00\u7b46\u520a\u767b\u7d00\u9304",children:(0,ud.jsx)(R,{size:10})})]}),(0,ud.jsxs)("div",{className:"flex flex-col gap-1 mt-1 max-h-20 overflow-y-auto",children:[g.map((e,t)=>(0,ud.jsxs)("div",{className:"flex items-center justify-between text-xs bg-black/5 p-1 rounded",children:[(0,ud.jsxs)("span",{children:["$",e," ",(0,ud.jsxs)("span",{className:"text-gray-400",children:["\u2192 ",Math.floor(.02*e)]})]}),!a&&(0,ud.jsx)("button",{onClick:()=>(e=>{const t=g.filter((t,n)=>n!==e);l(s.id,"listingHistory",t)})(t),className:"text-red-400 hover:text-red-600",children:(0,ud.jsx)(T,{size:10})})]},t)),0===g.length&&(0,ud.jsx)("span",{className:"text-gray-400 text-xs",children:"- \u7121\u7d00\u9304 -"})]}),(0,ud.jsxs)("div",{className:"text-[10px] text-blue-500 mt-1 font-bold",children:["\u7e3d\u8a08: ",w]})]}),(0,ud.jsxs)("div",{className:"flex flex-col",children:[(0,ud.jsx)("span",{className:"text-xs ".concat(o.subText),children:"\u984d\u5916\u6210\u672c (\u624b\u52d5)"}),(0,ud.jsx)("div",{className:"flex items-center gap-2",children:a?(0,ud.jsxs)("span",{className:"text-red-400 font-mono",children:["-",s.cost||0]}):(0,ud.jsx)("input",{type:"number",className:"w-full text-right rounded border ".concat(o.input," text-sm p-1"),value:s.cost||0,onChange:e=>l(s.id,"cost",e.target.value)})}),(0,ud.jsxs)("div",{className:"text-xs text-green-500 mt-2 font-bold border-t pt-1 border-gray-300",children:["\u6de8\u5229/\u4eba: ",b.toLocaleString()]})]})]}),(0,ud.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(i=s.participants)||void 0===i?void 0:i.map((e,t)=>(0,ud.jsx)("div",{className:"px-2 py-1 rounded border text-xs flex items-center select-none ".concat(o.card," opacity-80"),children:e.name},t))}),!a&&(0,ud.jsx)("div",{className:"mt-4 flex justify-end",children:h===s.id?(0,ud.jsxs)("div",{className:"flex gap-2 items-center flex-wrap justify-end",children:[(0,ud.jsxs)("span",{className:"text-sm text-red-500",children:["\u5c07 ",(0,ud.jsxs)("b",{children:["$",b]}),"/\u4eba \u52a0\u5165\u9918\u984d\u8868?"]}),(0,ud.jsx)("button",{onClick:()=>c(s,b),className:"bg-red-500 text-white px-3 py-1 rounded text-sm",children:"\u78ba\u8a8d"}),(0,ud.jsx)("button",{onClick:()=>d(null),className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:"\u53d6\u6d88"})]}):(0,ud.jsxs)("button",{onClick:()=>{if(s.seller!==m)return alert("\u6b0a\u9650\u4e0d\u8db3\uff1a\u53ea\u6709\u8ca9\u8ce3\u4eba (".concat(s.seller,") \u53ef\u4ee5\u57f7\u884c\u6b64\u64cd\u4f5c")),void wd(m,"\u6b0a\u9650\u4e0d\u8db3","\u5617\u8a66\u51fa\u552e\u975e\u672c\u4eba\u7269\u54c1\uff1a".concat(s.itemName," (\u8ce3\u5bb6: ").concat(s.seller,")"));d(s.id),p(null)},className:"flex items-center gap-2 px-4 py-2 rounded font-bold text-sm bg-blue-600 text-white shadow hover:bg-blue-700",children:[(0,ud.jsx)(v,{size:16})," \u5df2\u51fa\u552e"]})})]})},Od=e=>{let{event:t,theme:n,confirmDeleteId:r,setConfirmDeleteId:i,handleDeleteEvent:s,handleOpenEditEvent:a}=e;return(0,ud.jsx)("div",{className:"p-3 mb-2 rounded border-l-4 shadow-sm flex justify-between items-center ".concat(n.card),style:{borderLeftColor:t.color},children:(0,ud.jsxs)("div",{children:[(0,ud.jsxs)("div",{className:"font-bold text-sm flex items-center gap-2",children:[t.name,t.mapPos&&(0,ud.jsx)(z,{size:12,className:"text-blue-500"})]}),(0,ud.jsxs)("div",{className:"text-xs opacity-70 flex items-center gap-1",children:[(0,ud.jsx)(F,{size:10})," \u4ea1: ",Sd(t.deathTime)]}),(0,ud.jsxs)("div",{className:"text-lg font-mono font-bold text-blue-500 flex items-center gap-1",children:[(0,ud.jsx)(V,{size:14})," ",Sd(t.respawnTime)]})]})})},Rd=e=>{let{displayEvents:t,now:n,globalSettings:r}=e;if(!t||0===t.length)return null;const i=(null===r||void 0===r?void 0:r.mapLineGapSecs)||120,s=[...t].sort((e,t)=>new Date(e.respawnTime)-new Date(t.respawnTime)),a=[];if(s.length>0){let e=[s[0]];for(let t=1;t<s.length;t++){const n=e[e.length-1];Math.abs(new Date(s[t].respawnTime)-new Date(n.respawnTime))/1e3<=i?e.push(s[t]):(a.push(e),e=[s[t]])}a.push(e)}if(0===a.length)return null;if((new Date(a[0][0].respawnTime)-n)/1e3/60>10)return null;const o=[];for(let l=0;l<a.length-1;l++){const e=a[l],t=a[l+1];e.forEach(e=>{e.mapPos&&t.forEach(t=>{t.mapPos&&o.push((0,ud.jsx)("line",{x1:"".concat(e.mapPos.x,"%"),y1:"".concat(e.mapPos.y,"%"),x2:"".concat(t.mapPos.x,"%"),y2:"".concat(t.mapPos.y,"%"),stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:"2",strokeDasharray:"5,5",className:"path-flow"},"".concat(e.id,"-").concat(t.id)))})})}return(0,ud.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",children:[(0,ud.jsx)("style",{children:"\n          .path-flow {\n            animation: dash 1s linear infinite;\n          }\n          @keyframes dash {\n            to {\n              stroke-dashoffset: -10;\n            }\n          }\n        "}),o]})},zd=e=>{let{isOpen:t,onClose:n,bossTemplates:r,handleAddQuickRecord:i,isDarkMode:s,theme:a}=e;return t?(0,ud.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:(0,ud.jsxs)("div",{className:"w-full max-w-5xl h-[85vh] rounded-xl flex flex-col relative shadow-2xl border-2 ".concat(s?"bg-gray-900 border-gray-700":"bg-white border-white"),children:[(0,ud.jsxs)("div",{className:"p-4 border-b flex justify-between items-center ".concat(s?"border-gray-700":"border-gray-200"),children:[(0,ud.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 ".concat(a.text),children:[(0,ud.jsx)(U,{size:24,className:"text-yellow-500"})," \u5feb\u901f\u6a19\u7c64 (\u9ede\u64ca\u5373\u7d00\u9304)"]}),(0,ud.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-red-500 hover:text-white transition-colors",children:(0,ud.jsx)(T,{size:24})})]}),(0,ud.jsxs)("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[(0,ud.jsxs)("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center ".concat(s?"bg-gray-800":"bg-gray-100"),children:[(0,ud.jsxs)("div",{className:"relative w-auto h-auto max-w-full max-h-full",style:{aspectRatio:"1152/851"},children:[(0,ud.jsx)("img",{src:yd,alt:"Map",className:"w-full h-full block pointer-events-none opacity-80"}),r.filter(e=>e.mapPos).map((e,t)=>(0,ud.jsx)("div",{onClick:()=>i(e),className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group hover:scale-110 transition-transform z-10",style:{left:"".concat(e.mapPos.x,"%"),top:"".concat(e.mapPos.y,"%")},title:"\u9ede\u64ca\u7d00\u9304: ".concat(e.name),children:(0,ud.jsxs)("div",{className:"relative",children:[(0,ud.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:e.color}}),(0,ud.jsx)("div",{className:"absolute top-5 left-1/2 -translate-x-1/2 text-[10px] px-1.5 py-0.5 rounded whitespace-nowrap font-bold shadow-md\n                        ".concat(s?"bg-black/80 text-white":"bg-white/90 text-gray-800"),children:e.name})]})},e.id))]}),(0,ud.jsx)("div",{className:"absolute bottom-4 left-4 text-xs opacity-50 bg-black/30 px-2 py-1 rounded text-white pointer-events-none",children:"* \u9ede\u64ca\u5730\u5716\u4e0a\u7684\u9ede\u6216\u53f3\u5074\u5217\u8868\u7686\u53ef\u5feb\u901f\u7d00\u9304"})]}),(0,ud.jsx)("div",{className:"w-full lg:w-72 border-l overflow-y-auto ".concat(s?"border-gray-700 bg-gray-900":"border-gray-200 bg-white"),children:(0,ud.jsxs)("div",{className:"p-3",children:[(0,ud.jsx)("h4",{className:"text-sm font-bold mb-3 opacity-70 ".concat(a.text),children:"Boss \u5217\u8868"}),(0,ud.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,ud.jsxs)("button",{onClick:()=>i(e),className:"w-full text-left p-2 rounded flex items-center gap-2 transition-all active:scale-95\n                      ".concat(s?"hover:bg-gray-800 border border-gray-700":"hover:bg-gray-50 border border-gray-100 shadow-sm"),children:[(0,ud.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,ud.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ud.jsx)("div",{className:"font-bold text-sm truncate ".concat(a.text),children:e.name}),(0,ud.jsxs)("div",{className:"text-xs opacity-60 ".concat(a.text),children:["CD: ",e.respawnMinutes,"m"]})]}),(0,ud.jsx)(R,{size:16,className:"opacity-40"})]},e.id))})]})})]})]})}):null},Fd=e=>{let{isDarkMode:t,currentUser:n,globalSettings:i,theme:s}=e;const[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)([{role:"assistant",content:"\u4f60\u597d\uff01\u6211\u662f\u4f60\u7684\u8a18\u5e33\u52a9\u624b\u3002\u6211\u53ef\u4ee5\u5e6b\u4f60\u67e5\u8a62\u8ab0\u8ce3\u4e86\u591a\u5c11\u9322\u3001\u76ee\u524d\u7684\u6b20\u6b3e\u72c0\u6cc1\u6216\u662f\u6700\u8fd1\u7684\u4ea4\u6613\u7d00\u9304\u3002\u8acb\u554f\u6709\u4ec0\u9ebc\u53ef\u4ee5\u5e6b\u4f60\u7684\u55ce\uff1f"}]),[u,h]=(0,r.useState)(!1),d=(0,r.useRef)(null);(0,r.useEffect)(()=>{(()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[l]);const f=async()=>{if(!a.trim())return;if(!i.geminiApiKey)return c(e=>[...e,{role:"user",content:a},{role:"assistant",content:"\u26a0\ufe0f \u8acb\u5148\u81f3\u300c\u7cfb\u7d71\u5168\u57df\u8a2d\u5b9a\u300d\u4e2d\u8a2d\u5b9a Google Gemini API Key \u624d\u80fd\u4f7f\u7528\u6b64\u529f\u80fd\u3002"}]),void o("");const e=a;c(t=>[...t,{role:"user",content:e}]),o(""),h(!0);try{var t,n,r,s,l;const a=jh(Gu(fd,"history_items"),Oh("settledAt","desc"),(tr("limit",u=50),Rh._create("limit",u,"F"))),o=await $h(a),h=await $h(Gu(fd,"active_items")),d=await Yh(Qu(fd,"settlement_data","main_grid")),f=o.docs.map(e=>{const t=e.data();return{"\u540d\u7a31":t.itemName,"\u8ce3\u5bb6":t.seller,"\u50f9\u683c":t.price,"\u53c3\u8207\u8005":(t.participants||[]).map(e=>e.name).join(","),"\u6642\u9593":t.settledAt?t.settledAt.split("T")[0]:"\u672a\u77e5"}}),p=h.docs.map(e=>{const t=e.data();return{"\u540d\u7a31":t.itemName,"\u8ce3\u5bb6":t.seller,"\u50f9\u683c":t.price,"\u53c3\u8207\u8005":(t.participants||[]).map(e=>e.name).join(","),"\u72c0\u614b":"\u8ca9\u8ce3\u4e2d"}}),m=d.exists()?d.data().matrix:{},g="\n          \u4f60\u662f\u4e00\u500b\u8a18\u5e33\u52a9\u624b\u3002\n          \u8acb\u6839\u64da\u4ee5\u4e0b\u7684 JSON \u8cc7\u6599\u56de\u7b54\u4f7f\u7528\u8005\u7684\u554f\u984c\u3002\n          \u8acb\u7528\u7e41\u9ad4\u4e2d\u6587\u56de\u7b54\uff0c\u8a9e\u6c23\u53cb\u5584\u3002\n          \n          [\u76ee\u524d\u7684\u6b20\u6b3e\u72c0\u6cc1 (A_B \u4ee3\u8868 A \u6b20 B \u591a\u5c11\u9322)]:\n          ".concat(JSON.stringify(m),"\n\n          [\u6700\u8fd1 50 \u7b46\u5df2\u51fa\u552e\u7d00\u9304]:\n          ").concat(JSON.stringify(f),"\n\n          [\u6b63\u5728\u8ca9\u8ce3\u4e2d\u7684\u7269\u54c1]:\n          ").concat(JSON.stringify(p),"\n\n          \u5982\u679c\u8cc7\u6599\u4e2d\u6c92\u6709\u7b54\u6848\uff0c\u8acb\u76f4\u63a5\u8aaa\u4f60\u4e0d\u77e5\u9053\uff0c\u4e0d\u8981\u7de8\u9020\u3002\n          \u56de\u7b54\u8acb\u7c21\u6f54\u6709\u529b\u3002\n        "),y=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=".concat(i.geminiApiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:g+"\n\n\u4f7f\u7528\u8005\u554f\u984c: "+e}]}]})}),v=await y.json();if(v.error)throw new Error(v.error.message);const b=(null===(t=v.candidates)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.content)||void 0===r||null===(s=r.parts)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.text)||"\u62b1\u6b49\uff0c\u6211\u7121\u6cd5\u89e3\u8b80\u8cc7\u6599\u3002";c(e=>[...e,{role:"assistant",content:b}])}catch(u){console.error("AI Error:",u),c(e=>[...e,{role:"assistant",content:"\u767c\u751f\u932f\u8aa4: ".concat(u.message)}])}finally{h(!1)}var u};return(0,ud.jsxs)("div",{className:"flex flex-col h-full rounded-xl overflow-hidden ".concat(s.card," shadow-xl border-2 border-yellow-500/30"),children:[(0,ud.jsxs)("div",{className:"p-4 border-b flex items-center gap-3 ".concat(t?"bg-yellow-900/20 border-yellow-500/30":"bg-yellow-50 border-yellow-200"),children:[(0,ud.jsx)("div",{className:"bg-yellow-500 p-2 rounded-full text-white shadow-lg",children:(0,ud.jsx)(B,{size:24})}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("h3",{className:"font-bold text-lg ".concat(s.text),children:"AI \u8ca1\u52d9\u52a9\u624b"}),(0,ud.jsx)("p",{className:"text-xs opacity-60 ".concat(s.text),children:"Powered by Gemini 1.5 Flash"})]})]}),(0,ud.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-black/5",children:[l.map((e,n)=>(0,ud.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,ud.jsx)("div",{className:"max-w-[80%] p-3 rounded-2xl shadow-sm whitespace-pre-wrap ".concat("user"===e.role?"bg-blue-600 text-white rounded-br-none":"".concat(t?"bg-gray-700 text-gray-100":"bg-white text-gray-800"," rounded-bl-none")),children:e.content})},n)),u&&(0,ud.jsx)("div",{className:"flex justify-start",children:(0,ud.jsxs)("div",{className:"p-3 rounded-2xl rounded-bl-none flex items-center gap-2 ".concat(t?"bg-gray-700":"bg-white"),children:[(0,ud.jsx)(A,{size:16,className:"animate-spin text-yellow-500"}),(0,ud.jsx)("span",{className:"text-xs opacity-50",children:"AI \u6b63\u5728\u601d\u8003\u4e2d..."})]})}),(0,ud.jsx)("div",{ref:d})]}),(0,ud.jsxs)("div",{className:"p-4 border-t ".concat(t?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"),children:[(0,ud.jsxs)("div",{className:"flex gap-2",children:[(0,ud.jsx)("input",{type:"text",className:"flex-1 p-3 rounded-xl border focus:ring-2 focus:ring-yellow-500 outline-none transition-all ".concat(s.input),placeholder:"\u8f38\u5165\u554f\u984c\uff0c\u4f8b\u5982\uff1a\u6c34\u91ce\u8ce3\u4e86\u591a\u5c11\u9322\uff1f",value:a,onChange:e=>o(e.target.value),onKeyDown:e=>"Enter"===e.key&&f()}),(0,ud.jsx)("button",{onClick:f,disabled:u,className:"p-3 rounded-xl bg-yellow-500 text-white hover:bg-yellow-600 transition-colors shadow-lg ".concat(u?"opacity-50 cursor-not-allowed":""),children:(0,ud.jsx)(q,{size:20})})]}),(0,ud.jsx)("div",{className:"text-[10px] text-center mt-2 opacity-40",children:"* AI \u56de\u7b54\u50c5\u4f9b\u53c3\u8003\uff0c\u8acb\u4ee5\u5be6\u969b\u8868\u683c\u70ba\u6e96\u3002"})]})]})},Vd=e=>{let{isDarkMode:t,dbReady:n,currentUser:i}=e;const[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)({name:"",date:"",dateType:"created"}),[S,k]=(0,r.useState)({seller:i||pd[0],itemName:"",price:"",cost:0,exchangeType:"GENERAL",participants:[...pd]});(0,r.useEffect)(()=>{i&&k(e=>c(c({},e),{},{seller:i}))},[i]);const[E,_]=(0,r.useState)(pd[0]);(0,r.useEffect)(()=>{if(!fd)return;const e=nd(jh(Gu(fd,"active_items"),Oh("createdAt","desc")),e=>{a(e.docs.map(e=>c(c({},e.data()),{},{id:e.id})))}),t=nd(jh(Gu(fd,"history_items"),Oh("settledAt","desc")),e=>{l(e.docs.map(e=>c(c({},e.data()),{},{id:e.id})))});return()=>{e(),t()}},[n]);const N=async(e,t,n)=>{fd&&await Zh(Qu(fd,"active_items",e),{[t]:n})},C=async(e,t)=>{if(fd)try{await function(e,t,n){e=er(e,$u);const r=c(c({},sd),n);return function(e){if(e.maxAttempts<1)throw new _n(En.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Nn;return e.asyncQueue.enqueueAndForget(async()=>{const i=await Du(e);new ku(e.asyncQueue,i,n,t,r).ju()}),r.promise}(Ju(e),n=>t(new cd(e,n)),r)}(fd,async n=>{const r=Qu(fd,"settlement_data","main_grid"),i=await n.get(r);let s={};i.exists()&&(s=i.data().matrix||{});const a=e.seller;e.participants.forEach(e=>{if(e.name!==a){const n="".concat(a,"_").concat(e.name),r=parseFloat(s[n])||0;s[n]=r+t}}),n.set(r,{matrix:s},{merge:!0})}),await td(Gu(fd,"history_items"),c(c({},e),{},{settledAt:(new Date).toISOString()})),await ed(Qu(fd,"active_items",e.id)),m(null);const n="\ud83d\udcb0 [\u51fa\u552e\u901a\u77e5] \n**".concat(e.seller,"** \u6210\u529f\u51fa\u552e\u4e86 **").concat(e.itemName,"**\uff01\n\u6bcf\u4eba\u5206\u7d05: **$").concat(t.toLocaleString(),"**\n(\u5df2\u81ea\u52d5\u8a08\u5165\u9918\u984d\u8868)");bd(n),wd(i,"\u51fa\u552e\u7269\u54c1","".concat(e.itemName," (\u5206\u7d05: $").concat(t,")")),alert("\u5df2\u51fa\u552e\uff01\u6bcf\u4eba\u5206\u7d05 $".concat(t," \u5df2\u52a0\u5165\u9918\u984d\u8868\u3002"))}catch(n){console.error("Settle transaction failed: ",n),alert("\u51fa\u552e\u5931\u6557\uff0c\u8acb\u91cd\u8a66")}},I=async e=>{if(fd)try{const t=Qu(fd,d?"history_items":"active_items",e),n=await Yh(t);if(!n.exists())return void alert("\u627e\u4e0d\u5230\u8a72\u9805\u76ee\uff0c\u53ef\u80fd\u5df2\u88ab\u522a\u9664");const r=n.data();if(r.seller!==i)return alert("\u6b0a\u9650\u4e0d\u8db3\uff1a\u53ea\u6709\u8ca9\u8ce3\u4eba (".concat(r.seller,") \u53ef\u4ee5\u522a\u9664\u6b64\u9805\u76ee")),wd(i,"\u6b0a\u9650\u4e0d\u8db3","\u5617\u8a66\u522a\u9664\u975e\u672c\u4eba\u7269\u54c1\uff1a".concat(r.itemName," (\u8ce3\u5bb6: ").concat(r.seller,")")),void y(null);await ed(t),wd(i,"\u522a\u9664\u8a18\u5e33\u9805\u76ee","".concat(r.itemName," (").concat(d?"\u6b77\u53f2\u7d00\u9304":"\u9032\u884c\u4e2d",")")),y(null)}catch(Hd){console.error("Delete failed",Hd),alert("\u522a\u9664\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66")}},A={card:t?"bg-gray-800 border-gray-700":"bg-white border-gray-200",text:t?"text-gray-100":"text-gray-800",subText:t?"text-gray-400":"text-gray-500",input:t?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-200 text-gray-800",sectionBg:t?"bg-gray-700/30":"bg-gray-50"},D=o.filter(e=>{if(w.name&&!e.itemName.toLowerCase().includes(w.name.toLowerCase()))return!1;if(w.date){const t="created"===w.dateType?e.createdAt:e.settledAt;if(!t||!t.startsWith(w.date))return!1}return!0});return(0,ud.jsxs)("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[(0,ud.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ud.jsx)("h2",{className:"text-xl font-bold border-l-4 pl-3 ".concat(d?"border-gray-500":"border-blue-500"," ").concat(A.text),children:d?"\u6b77\u53f2\u7d00\u9304 (".concat(D.length,")"):"\u9032\u884c\u4e2d\u9805\u76ee (".concat(s.length,")")}),(0,ud.jsxs)("div",{className:"flex gap-2",children:[(0,ud.jsxs)("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded bg-purple-600 text-white shadow hover:bg-purple-700",children:[(0,ud.jsx)(P,{size:18})," \u9918\u984d\u8868\u683c"]}),(0,ud.jsxs)("button",{onClick:()=>f(!d),className:"flex items-center gap-2 px-3 py-2 rounded ".concat(d?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:[(0,ud.jsx)(H,{size:18})," ",d?"\u8fd4\u56de":"\u6b77\u53f2"]}),!d&&(0,ud.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-3 py-2 rounded bg-blue-600 text-white shadow hover:bg-blue-700",children:[(0,ud.jsx)(R,{size:18})," \u65b0\u589e\u9805\u76ee"]})]})]}),d&&(0,ud.jsxs)("div",{className:"p-4 rounded mb-6 flex flex-wrap gap-4 items-end ".concat(t?"bg-gray-800":"bg-white shadow-sm"),children:[(0,ud.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,ud.jsx)("label",{className:"text-xs ".concat(A.subText),children:"\u641c\u5c0b\u540d\u7a31"}),(0,ud.jsx)("input",{type:"text",className:"w-full p-2 rounded border ".concat(A.input),value:w.name,onChange:e=>x(c(c({},w),{},{name:e.target.value}))})]}),(0,ud.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,ud.jsx)("label",{className:"text-xs ".concat(A.subText),children:"\u65e5\u671f"}),(0,ud.jsx)("input",{type:"date",className:"w-full p-2 rounded border ".concat(A.input),value:w.date,onChange:e=>x(c(c({},w),{},{date:e.target.value}))})]}),(0,ud.jsx)("button",{onClick:()=>x({name:"",date:"",dateType:"created"}),className:"p-2 bg-gray-200 rounded hover:bg-red-200",children:(0,ud.jsx)(T,{size:20})})]}),(0,ud.jsxs)("div",{className:"space-y-6",children:[(d?D:s).map(e=>(0,ud.jsx)(Ld,{item:e,isHistory:d,theme:A,updateItemValue:N,handleSettleAll:C,handleDelete:I,confirmSettleId:p,setConfirmSettleId:m,confirmDeleteId:g,setConfirmDeleteId:y,currentUser:i},e.id)),0===(d?D:s).length&&(0,ud.jsx)("div",{className:"text-center py-20 ".concat(A.subText),children:"\u6c92\u6709\u8cc7\u6599"})]}),u&&(0,ud.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,ud.jsxs)("div",{className:"w-full max-w-2xl rounded-xl p-6 ".concat(t?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,ud.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\u5efa\u7acb\u65b0\u8a18\u5e33\u9805\u76ee"}),(0,ud.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"block text-xs mb-1 opacity-70",children:"\u8ca9\u8ce3\u4eba"}),(0,ud.jsx)("select",{className:"w-full p-2 rounded border ".concat(A.input," bg-gray-100 cursor-not-allowed"),value:S.seller,disabled:!0,children:pd.map(e=>(0,ud.jsx)("option",{value:e,children:e},e))})]}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"block text-xs mb-1 opacity-70",children:"\u50f9\u683c"}),(0,ud.jsx)("input",{type:"number",className:"w-full p-2 rounded border ".concat(A.input),value:S.price,onChange:e=>k(c(c({},S),{},{price:e.target.value}))})]}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"block text-xs mb-1 opacity-70",children:"\u7269\u54c1\u540d\u7a31"}),(0,ud.jsx)("input",{type:"text",className:"w-full p-2 rounded border ".concat(A.input),value:S.itemName,onChange:e=>k(c(c({},S),{},{itemName:e.target.value}))})]}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"block text-xs mb-1 opacity-70",children:"\u984d\u5916\u6210\u672c (\u624b\u52d5)"}),(0,ud.jsx)("input",{type:"number",className:"w-full p-2 rounded border ".concat(A.input),value:S.cost,onChange:e=>k(c(c({},S),{},{cost:e.target.value}))})]})]}),(0,ud.jsx)("div",{className:"mb-4 flex gap-2",children:Object.keys(gd).map(e=>(0,ud.jsx)("button",{onClick:()=>k(c(c({},S),{},{exchangeType:e})),className:"flex-1 py-1 rounded border ".concat(S.exchangeType===e?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 opacity-60"),children:gd[e].label},e))}),(0,ud.jsxs)("div",{className:"mb-4 pt-4 border-t border-gray-200",children:[(0,ud.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,ud.jsx)("select",{className:"flex-1 p-2 rounded border ".concat(A.input),value:E,onChange:e=>_(e.target.value),children:pd.map(e=>(0,ud.jsx)("option",{value:e,children:e},e))}),(0,ud.jsx)("button",{onClick:()=>{S.participants.includes(E)||k(c(c({},S),{},{participants:[...S.participants,E]}))},className:"bg-green-500 text-white p-2 rounded",children:(0,ud.jsx)(R,{})})]}),(0,ud.jsx)("div",{className:"flex flex-wrap gap-2",children:S.participants.map(e=>(0,ud.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded text-sm flex items-center gap-1 text-gray-700",children:[e,(0,ud.jsx)("button",{onClick:()=>{return t=e,void k(c(c({},S),{},{participants:S.participants.filter(e=>e!==t)}));var t},children:(0,ud.jsx)(T,{size:12})})]},e))})]}),(0,ud.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,ud.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700",children:"\u53d6\u6d88"}),(0,ud.jsx)("button",{onClick:async()=>{if(!fd)return;if(!S.itemName||!S.price)return void alert("\u8acb\u586b\u5beb\u7269\u54c1\u540d\u7a31\u8207\u50f9\u683c");const e=[...new Set([...S.participants,S.seller])],t=c(c({},S),{},{cost:parseFloat(S.cost)||0,listingHistory:[],participants:e.map(e=>({name:e})),isSold:!1,createdAt:(new Date).toISOString(),settledAt:null});await td(Gu(fd,"active_items"),t),wd(i,"\u65b0\u589e\u8a18\u5e33\u9805\u76ee","".concat(t.itemName," ($").concat(t.price,")")),k({seller:i||pd[0],itemName:"",price:"",cost:0,exchangeType:"GENERAL",participants:[...pd]}),h(!1),f(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u5efa\u7acb\u9805\u76ee"})]})]})}),(0,ud.jsx)(Pd,{isOpen:v,onClose:()=>b(!1),theme:A,isDarkMode:t,currentUser:i})]})},Ud=e=>{let{isDarkMode:t,currentUser:n,globalSettings:i}=e;const[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[u,h]=(0,r.useState)(new Date),[d,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[x,S]=(0,r.useState)(null),[k,E]=(0,r.useState)(null),[_,N]=(0,r.useState)(null),[C,I]=(0,r.useState)("LIST"),[A,j]=(0,r.useState)({name:"",respawnMinutes:60,color:"#FF5733",mapPos:null}),[M,P]=(0,r.useState)({templateId:"",timeMode:"current",specificDate:"",specificTime:""}),L=(null===i||void 0===i?void 0:i.mapShowMins)||60,z=(null===i||void 0===i?void 0:i.mapBlinkMins)||10,F={text:t?"text-gray-100":"text-gray-800",subText:t?"text-gray-400":"text-gray-500",card:t?"bg-gray-800 border-gray-700":"bg-white border-gray-200",input:t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"};(0,r.useEffect)(()=>{if(!fd)return;const e=nd(Gu(fd,"boss_templates"),e=>{a(e.docs.map(e=>c({id:e.id},e.data())))}),t=nd(jh(Gu(fd,"boss_events"),Oh("respawnTime","asc")),e=>{l(e.docs.map(e=>c({id:e.id},e.data())))});return()=>{e(),t()}},[]),(0,r.useEffect)(()=>{const e=setInterval(()=>{const e=new Date;h(e),o.forEach(t=>{const n=new Date(t.respawnTime);(e-n)/1e3/60>.5&&fd&&ed(Qu(fd,"boss_events",t.id)).catch(e=>console.error("Auto delete fail",e))})},1e3);return()=>clearInterval(e)},[o]);const B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(E(e.id),j({name:e.name,respawnMinutes:e.respawnMinutes,color:e.color,mapPos:e.mapPos||null})):(E(null),j({name:"",respawnMinutes:60,color:_d(),mapPos:null})),m(!0)},q=e=>{N(e.id);const t=new Date(e.deathTime),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0");P({templateId:e.templateId,timeMode:"specific",specificDate:"".concat(n,"-").concat(r,"-").concat(i),specificTime:"".concat(s,":").concat(a)}),y(!0)},H=async e=>{try{const t=o.find(t=>t.id===e);await ed(Qu(fd,"boss_events",e)),wd(n,"\u522a\u9664\u6642\u9593\u7d00\u9304",(null===t||void 0===t?void 0:t.name)||"\u672a\u77e5"),S(null)}catch(t){console.error(t)}},Y={yesterday:o.filter(e=>"yesterday"===Ed(e.respawnTime)),today:o.filter(e=>"today"===Ed(e.respawnTime)),tomorrow:o.filter(e=>"tomorrow"===Ed(e.respawnTime))},X=o.filter(e=>(u-new Date(e.respawnTime))/1e3/60<=.5),$=X.filter(e=>(new Date(e.respawnTime)-u)/1e3/60<=L),J=o.find(e=>new Date(e.respawnTime)>u);return(0,ud.jsxs)("div",{className:"p-4 h-[calc(100vh-80px)] flex flex-col",children:[(0,ud.jsx)(Id,{message:d,isVisible:!!d}),(0,ud.jsxs)("div",{className:"mb-6 p-4 rounded-xl shadow-lg flex flex-col md:flex-row items-center justify-between ".concat(t?"bg-indigo-900/50 text-white":"bg-indigo-600 text-white"),children:[(0,ud.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ud.jsx)(V,{size:40,className:"opacity-80"}),(0,ud.jsxs)("div",{className:"flex flex-col",children:[(0,ud.jsx)("span",{className:"text-xs opacity-70 font-bold tracking-widest",children:"CURRENT TIME"}),(0,ud.jsx)("span",{className:"text-3xl font-mono font-bold",children:kd(u)})]})]}),J?(0,ud.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center gap-3 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm border border-white/20",children:[(0,ud.jsx)("span",{className:"text-xs font-bold opacity-70",children:"NEXT BOSS"}),(0,ud.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ud.jsx)("div",{className:"w-3 h-3 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.8)]",style:{backgroundColor:J.color}}),(0,ud.jsx)("span",{className:"text-xl font-bold",children:J.name}),(0,ud.jsx)("span",{className:"font-mono text-lg ml-2",children:Sd(J.respawnTime)})]})]}):(0,ud.jsx)("div",{className:"mt-4 md:mt-0 text-white/50 text-sm italic",children:"\u76ee\u524d\u6c92\u6709\u7b49\u5f85\u4e2d\u7684 Boss"})]}),(0,ud.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,ud.jsxs)("button",{onClick:()=>B(),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded shadow",children:[(0,ud.jsx)(R,{size:18})," \u5efa\u7acb Boss"]}),(0,ud.jsxs)("button",{onClick:()=>{var e;P({templateId:(null===(e=s[0])||void 0===e?void 0:e.id)||"",timeMode:"current",specificDate:Nd(),specificTime:Cd(),mapPos:null}),y(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded shadow",children:[(0,ud.jsx)(G,{size:18})," \u65b0\u589e\u7d00\u9304"]}),(0,ud.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-white px-4 py-2 rounded shadow",children:[(0,ud.jsx)(U,{size:18})," \u5feb\u901f\u6a19\u7c64"]}),(0,ud.jsxs)("div",{className:"ml-auto bg-gray-200 rounded-lg p-1 flex",children:["MAP"===C&&(0,ud.jsxs)("button",{onClick:async()=>{if(!fd)return;if(!window.confirm("\u9019\u5c07\u6703\u6839\u64da\u76ee\u524d\u7684 Boss \u8a2d\u5b9a\uff0c\u66f4\u65b0\u6240\u6709\u9032\u884c\u4e2d\u8a08\u6642\u7684\u5730\u5716\u4f4d\u7f6e\u3002\n\u78ba\u5b9a\u8981\u57f7\u884c\u55ce\uff1f"))return;const e=(Ju(t=er(t=fd,$u)),new ad(t,e=>rd(t,e)));var t;let r=0;if(o.forEach(t=>{const n=s.find(e=>e.id===t.templateId);if(n&&n.mapPos&&(!t.mapPos||t.mapPos.x!==n.mapPos.x||t.mapPos.y!==n.mapPos.y)){const i=Qu(fd,"boss_events",t.id);e.update(i,{mapPos:n.mapPos}),r++}}),r>0)try{await e.commit(),wd(n,"\u540c\u6b65\u4f4d\u7f6e","\u66f4\u65b0\u4e86 ".concat(r," \u7b46\u8a08\u6642")),alert("\u5df2\u66f4\u65b0 ".concat(r," \u7b46\u8a08\u6642\u7684\u5730\u5716\u4f4d\u7f6e\uff01"))}catch(t){console.error("Batch update failed",t),alert("\u66f4\u65b0\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66")}else alert("\u76ee\u524d\u6240\u6709\u8a08\u6642\u7684\u4f4d\u7f6e\u7686\u70ba\u6700\u65b0\u3002")},className:"px-3 py-1 rounded flex items-center gap-1 text-sm border-r border-gray-300 text-gray-500 hover:text-blue-500 hover:bg-gray-100",children:[(0,ud.jsx)(b,{size:14})," \u540c\u6b65\u4f4d\u7f6e"]}),(0,ud.jsxs)("button",{onClick:()=>I("LIST"),className:"px-3 py-1 rounded flex items-center gap-1 text-sm ".concat("LIST"===C?"bg-white shadow text-blue-600":"text-gray-500"),children:[(0,ud.jsx)(Q,{size:14})," \u5217\u8868"]}),(0,ud.jsxs)("button",{onClick:()=>I("MAP"),className:"px-3 py-1 rounded flex items-center gap-1 text-sm ".concat("MAP"===C?"bg-white shadow text-blue-600":"text-gray-500"),children:[(0,ud.jsx)(D,{size:14})," \u5730\u5716"]})]})]}),(0,ud.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 h-full overflow-hidden",children:["LIST"===C?(0,ud.jsx)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4 h-full overflow-y-auto pb-20",children:["yesterday","today","tomorrow"].map(e=>(0,ud.jsxs)("div",{className:"rounded-xl p-4 flex flex-col ".concat(t?"bg-gray-800/50":"bg-gray-50 border"),children:[(0,ud.jsx)("h3",{className:"font-bold mb-3 capitalize text-center py-2 border-b ".concat(F.text),children:"yesterday"===e?"\u6628\u5929":"today"===e?"\u4eca\u5929":"\u660e\u5929"}),(0,ud.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:Y[e].length>0?Y[e].map(e=>(0,ud.jsx)(Od,{event:e,theme:F,confirmDeleteId:x,setConfirmDeleteId:S,handleDeleteEvent:H,handleOpenEditEvent:q},e.id)):(0,ud.jsx)("div",{className:"text-center text-sm opacity-40 py-4",children:"\u7121\u91cd\u751f\u7d00\u9304"})})]},e))}):(0,ud.jsx)("div",{className:"flex-1 relative rounded-xl overflow-hidden shadow-inner flex items-center justify-center ".concat(t?"bg-gray-900":"bg-gray-200"),children:(0,ud.jsxs)("div",{className:"relative w-auto h-auto max-w-full max-h-full",style:{aspectRatio:"1152/851"},children:[(0,ud.jsx)("img",{src:yd,alt:"Game Map",className:"w-full h-full block",onError:e=>{const t=e.target.parentElement;t&&(e.target.style.display="none",t.classList.add("flex","items-center","justify-center","text-gray-500","text-xs","bg-gray-300","h-64"),t.innerText="\u8acb\u5c07 map.jpg \u653e\u5165 public \u8cc7\u6599\u593e")}}),(0,ud.jsx)(Rd,{displayEvents:$,now:u,globalSettings:i}),$.filter(e=>e.mapPos).map((e,n)=>{const r=new Date(e.respawnTime)-u<=60*z*1e3;return(0,ud.jsxs)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center group cursor-pointer z-10",style:{left:"".concat(e.mapPos.x,"%"),top:"".concat(e.mapPos.y,"%")},onClick:()=>q(e),title:"\u9ede\u64ca\u7de8\u8f2f",children:[(0,ud.jsxs)("div",{className:"relative flex items-center justify-center",children:[r&&(0,ud.jsx)("div",{className:"absolute w-full h-full rounded-full animate-ping opacity-75",style:{backgroundColor:e.color,transform:"scale(1.5)"}}),(0,ud.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-white shadow-md flex items-center justify-center relative z-10",style:{backgroundColor:e.color},children:(0,ud.jsx)("span",{className:"text-white text-[10px] font-bold pointer-events-none",children:n+1})})]}),(0,ud.jsx)("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 text-[10px] px-1.5 py-0.5 rounded whitespace-nowrap font-bold shadow-md z-20 pointer-events-none\n                        ".concat(t?"bg-black/80 text-white":"bg-white/90 text-gray-800"),children:e.name}),(0,ud.jsxs)("div",{className:"absolute top-12 bg-black/90 text-white text-[10px] px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity z-30 pointer-events-none border border-white/20",children:[n+1,". ",e.name," (",Sd(e.respawnTime),")"]})]},e.id)})]})}),(0,ud.jsxs)("div",{className:"w-full lg:w-80 rounded-xl p-4 flex flex-col ".concat(t?"bg-gray-800":"bg-white shadow border"),children:[(0,ud.jsxs)("h3",{className:"font-bold mb-3 flex items-center gap-2 ".concat(F.text),children:[(0,ud.jsx)(Q,{size:20})," \u91cd\u751f\u9806\u5e8f\u5217\u8868"]}),(0,ud.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:X.length>0?X.map(e=>(0,ud.jsxs)("div",{className:"flex items-center p-2 border-b border-gray-100 last:border-0 relative hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,ud.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0 mr-2",children:[(0,ud.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,ud.jsx)("span",{className:"text-sm truncate ".concat(F.text),title:e.name,children:e.name})]}),(0,ud.jsx)("div",{className:"w-14 text-right font-mono font-bold ".concat(new Date(e.respawnTime)-u<=60*z*1e3?"text-red-500 animate-pulse":"text-blue-500"),children:Sd(e.respawnTime)}),(0,ud.jsxs)("div",{className:"flex gap-1 ml-2",children:[(0,ud.jsx)("button",{onClick:()=>q(e),className:"text-gray-400 hover:text-blue-500 p-1 rounded",title:"\u7de8\u8f2f",children:(0,ud.jsx)(K,{size:14})}),x===e.id?(0,ud.jsx)("button",{onClick:()=>H(e.id),className:"bg-red-500 text-white text-[10px] px-2 py-0.5 rounded animate-bounce",children:"\u78ba\u8a8d"}):(0,ud.jsx)("button",{onClick:()=>S(e.id),className:"text-gray-400 hover:text-red-500 p-1 rounded",title:"\u522a\u9664",children:(0,ud.jsx)(O,{size:14})})]})]},"list"+e.id)):(0,ud.jsx)("div",{className:"text-center opacity-50 py-4",children:"\u76ee\u524d\u6c92\u6709\u7b49\u5f85\u4e2d\u7684 Boss"})}),(0,ud.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,ud.jsx)("h4",{className:"text-xs font-bold mb-2 opacity-70",children:"Boss \u8a2d\u5b9a\u5217\u8868"}),(0,ud.jsx)("div",{className:"flex flex-col gap-2 max-h-40 overflow-y-auto pr-1",children:s.map(e=>(0,ud.jsxs)("div",{className:"text-xs px-2 py-1.5 rounded flex items-center justify-between ".concat(t?"bg-gray-700":"bg-gray-100"),children:[(0,ud.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ud.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.color}}),(0,ud.jsxs)("span",{className:F.text,children:[e.name," (",e.respawnMinutes,"m)"]})]}),(0,ud.jsxs)("div",{className:"flex gap-2",children:[(0,ud.jsx)("button",{onClick:()=>B(e),className:"text-blue-500 hover:text-blue-600",children:(0,ud.jsx)(K,{size:12})}),(0,ud.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u78ba\u5b9a\u8981\u522a\u9664\u9019\u500b Boss \u8a2d\u5b9a\u55ce\uff1f"))try{const t=s.find(t=>t.id===e);await ed(Qu(fd,"boss_templates",e)),wd(n,"\u522a\u9664Boss\u8a2d\u5b9a",(null===t||void 0===t?void 0:t.name)||"\u672a\u77e5")}catch(t){console.error(t)}})(e.id),className:"text-gray-400 hover:text-red-500",children:(0,ud.jsx)(T,{size:12})})]})]},e.id))})]})]})]}),p&&(0,ud.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,ud.jsxs)("div",{className:"w-full max-w-lg rounded-xl p-6 ".concat(t?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,ud.jsx)("h3",{className:"text-lg font-bold mb-4",children:k?"\u7de8\u8f2f Boss \u8a2d\u5b9a":"\u5efa\u7acb Boss \u8a2d\u5b9a"}),(0,ud.jsxs)("div",{className:"space-y-4",children:[(0,ud.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"text-xs opacity-70",children:"Boss \u540d\u7a31"}),(0,ud.jsx)("input",{type:"text",className:"w-full p-2 rounded border ".concat(F.input),value:A.name,onChange:e=>j(c(c({},A),{},{name:e.target.value}))})]}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"text-xs opacity-70",children:"\u91cd\u751f\u6642\u9593 (\u5206\u9418)"}),(0,ud.jsx)("input",{type:"number",className:"w-full p-2 rounded border ".concat(F.input),value:A.respawnMinutes,onChange:e=>j(c(c({},A),{},{respawnMinutes:parseInt(e.target.value)||0}))})]})]}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"text-xs opacity-70",children:"\u6a19\u7c64\u984f\u8272"}),(0,ud.jsxs)("div",{className:"flex gap-2",children:[(0,ud.jsx)("input",{type:"color",className:"flex-1 h-10 rounded cursor-pointer",value:A.color,onChange:e=>j(c(c({},A),{},{color:e.target.value}))}),(0,ud.jsx)("button",{onClick:()=>j(c(c({},A),{},{color:_d()})),className:"bg-gray-200 text-gray-700 px-3 rounded hover:bg-gray-300",title:"\u96a8\u6a5f\u984f\u8272",children:(0,ud.jsx)(W,{size:16})})]})]}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"text-xs opacity-70",children:"\u91cd\u751f\u4f4d\u7f6e (\u8acb\u76f4\u63a5\u9ede\u64ca\u5730\u5716)"}),(0,ud.jsxs)("div",{className:"relative w-full h-auto bg-gray-200 mt-1 cursor-crosshair rounded overflow-hidden",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100,r=(e.clientY-t.top)/t.height*100;j(e=>c(c({},e),{},{mapPos:{x:n,y:r}}))},children:[(0,ud.jsx)("img",{src:yd,alt:"Map",className:"w-full h-auto block pointer-events-none",onError:e=>{const t=e.target.parentElement;t&&(e.target.style.display="none",t.classList.add("flex","items-center","justify-center","text-gray-500","text-xs","bg-gray-300","h-64"),t.innerText="\u8acb\u5c07 map.jpg \u653e\u5165 public \u8cc7\u6599\u593e")}}),A.mapPos&&(0,ud.jsx)("div",{className:"absolute w-4 h-4 bg-red-500 rounded-full border-2 border-white transform -translate-x-1/2 -translate-y-1/2 pointer-events-none shadow",style:{left:"".concat(A.mapPos.x,"%"),top:"".concat(A.mapPos.y,"%")}})]}),(0,ud.jsx)("div",{className:"text-[10px] text-gray-400 mt-1 text-center",children:A.mapPos?"\u5df2\u8a2d\u5b9a\u4f4d\u7f6e: ".concat(A.mapPos.x.toFixed(1),"%, ").concat(A.mapPos.y.toFixed(1),"%"):"\u5c1a\u672a\u8a2d\u5b9a\u4f4d\u7f6e (\u9078\u586b)"})]})]}),(0,ud.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,ud.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"\u53d6\u6d88"}),(0,ud.jsx)("button",{onClick:async()=>{if(!A.name)return alert("\u8acb\u8f38\u5165 Boss \u540d\u7a31");k?(await Zh(Qu(fd,"boss_templates",k),A),wd(n,"\u4fee\u6539Boss\u8a2d\u5b9a",A.name)):(await td(Gu(fd,"boss_templates"),A),wd(n,"\u65b0\u589eBoss\u8a2d\u5b9a",A.name)),m(!1)},className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:k?"\u66f4\u65b0":"\u5efa\u7acb"})]})]})}),g&&(0,ud.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,ud.jsxs)("div",{className:"w-full max-w-sm rounded-xl p-6 ".concat(t?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,ud.jsx)("h3",{className:"text-lg font-bold mb-4",children:_?"\u7de8\u8f2f\u6a19\u7c64\u6642\u9593":"\u65b0\u589e Boss \u6a19\u7c64"}),(0,ud.jsxs)("div",{className:"space-y-4",children:[(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"text-xs opacity-70",children:"\u9078\u64c7 Boss"}),(0,ud.jsxs)("select",{className:"w-full p-2 rounded border ".concat(F.input),value:M.templateId,onChange:e=>P(c(c({},M),{},{templateId:e.target.value})),disabled:!!_,children:[(0,ud.jsx)("option",{value:"",disabled:!0,children:"\u8acb\u9078\u64c7..."}),s.map(e=>(0,ud.jsxs)("option",{value:e.id,children:[e.name," (CD: ",e.respawnMinutes,"m)"]},e.id))]})]}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"text-xs opacity-70",children:"\u6b7b\u4ea1\u6642\u9593\u57fa\u6e96"}),!_&&(0,ud.jsxs)("div",{className:"flex gap-2 mt-1 mb-2",children:[(0,ud.jsx)("button",{onClick:()=>P(c(c({},M),{},{timeMode:"current"})),className:"flex-1 py-2 rounded text-sm border ".concat("current"===M.timeMode?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 opacity-60"),children:"\u7576\u524d\u6642\u9593"}),(0,ud.jsx)("button",{onClick:()=>P(c(c({},M),{},{timeMode:"specific"})),className:"flex-1 py-2 rounded text-sm border ".concat("specific"===M.timeMode?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200 opacity-60"),children:"\u6307\u5b9a\u6642\u9593"})]})]}),("specific"===M.timeMode||_)&&(0,ud.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"text-xs opacity-70",children:"\u65e5\u671f"}),(0,ud.jsx)("input",{type:"date",className:"w-full p-2 rounded border ".concat(F.input),value:M.specificDate,onChange:e=>P(c(c({},M),{},{specificDate:e.target.value}))})]}),(0,ud.jsxs)("div",{children:[(0,ud.jsx)("label",{className:"text-xs opacity-70",children:"\u6642\u9593 (24h)"}),(0,ud.jsx)("input",{type:"time",className:"w-full p-2 rounded border ".concat(F.input),value:M.specificTime,onChange:e=>P(c(c({},M),{},{specificTime:e.target.value}))})]})]})]}),(0,ud.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,ud.jsx)("button",{onClick:()=>{y(!1),N(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"\u53d6\u6d88"}),(0,ud.jsx)("button",{onClick:async()=>{var e;if(!M.templateId)return alert("\u8acb\u9078\u64c7 Boss");const t=s.find(e=>e.id===M.templateId);let r,i,a,l,c=new Date;if("specific"===M.timeMode){if(!M.specificDate||!M.specificTime)return alert("\u8acb\u8f38\u5165\u5b8c\u6574\u7684\u65e5\u671f\u8207\u6642\u9593");c=new Date("".concat(M.specificDate,"T").concat(M.specificTime))}if(t)r=new Date(c.getTime()+6e4*t.respawnMinutes),i=t.name,a=t.color,l=t.mapPos;else{if(!_)return alert("\u627e\u4e0d\u5230 Boss \u8a2d\u5b9a (\u53ef\u80fd\u5df2\u88ab\u522a\u9664)");{const e=o.find(e=>e.id===_);if(!e)return alert("\u627e\u4e0d\u5230\u539f\u59cb Boss \u8a2d\u5b9a\uff0c\u7121\u6cd5\u7de8\u8f2f");{const t=new Date(e.respawnTime)-new Date(e.deathTime);r=new Date(c.getTime()+t),i=e.name,a=e.color,l=e.mapPos}}}const u={templateId:M.templateId,name:i,color:a,mapPos:l||null,deathTime:c.toISOString(),respawnTime:r.toISOString()};_?(await Zh(Qu(fd,"boss_events",_),u),wd(n,"\u4fee\u6539\u6642\u9593\u7d00\u9304",i)):(u.createdAt=(new Date).toISOString(),await td(Gu(fd,"boss_events"),u),wd(n,"\u624b\u52d5\u65b0\u589e\u7d00\u9304",i)),y(!1),N(null),P({templateId:(null===(e=s[0])||void 0===e?void 0:e.id)||"",timeMode:"current",specificDate:Nd(),specificTime:Cd()})},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:_?"\u66f4\u65b0":"\u5efa\u7acb"})]})]})}),(0,ud.jsx)(zd,{isOpen:v,onClose:()=>w(!1),bossTemplates:s,handleAddQuickRecord:async e=>{if(!fd||!e)return;const t=new Date,r=new Date(t.getTime()+6e4*e.respawnMinutes),i={templateId:e.id,name:e.name,color:e.color,mapPos:e.mapPos||null,deathTime:t.toISOString(),respawnTime:r.toISOString(),createdAt:(new Date).toISOString()};try{await td(Gu(fd,"boss_events"),i),wd(n,"\u5feb\u901f\u7d00\u9304","".concat(e.name)),s="\u2705 \u5df2\u7d00\u9304\uff1a".concat(e.name),f(s),setTimeout(()=>f(null),2e3)}catch(a){console.error("Quick add failed",a),alert("\u65b0\u589e\u5931\u6557")}var s},isDarkMode:t,theme:F})]})};function Bd(){const[e,t]=(0,r.useState)("BOSS_TIMER"),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)({appVersion:hd,mapShowMins:60,mapBlinkMins:10,mapLineGapMins:2,youtubeVideoId:"",geminiApiKey:""}),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)("");(0,r.useEffect)(()=>{fd&&a(!0);const e=localStorage.getItem("accounting_theme");e&&i("dark"===e);const t=localStorage.getItem("accounting_user");if(t?l(t):u(!0),fd){const e=nd(Qu(fd,"system_data","global_settings"),e=>{if(e.exists()){const t=e.data();d(t),t.appVersion&&t.appVersion!==hd?(console.log("\u5075\u6e2c\u5230\u65b0\u7248\u672c:",t.appVersion),v(t.appVersion),g(!0)):g(!1)}});return()=>e()}},[fd]),(0,r.useEffect)(()=>{localStorage.setItem("accounting_theme",n?"dark":"light")},[n]);const b={bg:n?"bg-gray-900":"bg-slate-100",nav:n?"bg-gray-800":"bg-slate-900",text:n?"text-gray-100":"text-gray-800",card:n?"bg-gray-800":"bg-white",subText:n?"text-gray-400":"text-gray-500",input:n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"};return(0,ud.jsxs)("div",{className:"min-h-screen font-sans transition-colors duration-300 ".concat(b.bg," ").concat(b.text),children:[!s&&(0,ud.jsx)("div",{className:"bg-red-600 text-white p-2 text-center text-sm font-bold sticky top-0 z-50",children:"\u5c1a\u672a\u521d\u59cb\u5316 Firebase\uff0c\u8acb\u6aa2\u67e5\u91d1\u9470\u8a2d\u5b9a\uff01"}),(0,ud.jsx)("div",{className:"absolute top-0 left-0 p-1 text-[10px] text-gray-500 opacity-50 pointer-events-none z-50",children:hd}),(0,ud.jsx)(Ad,{show:m,remoteVersion:y,onRefresh:()=>{window.location.reload()}}),(0,ud.jsx)("nav",{className:"".concat(b.nav," text-white px-4 py-3 shadow-lg sticky top-0 z-40"),children:(0,ud.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,ud.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ud.jsx)("div",{className:"bg-blue-500 p-2 rounded-lg",children:"ACCOUNTING"===e?(0,ud.jsx)(Y,{size:24,className:"text-white"}):"BOSS_TIMER"===e?(0,ud.jsx)(X,{size:24,className:"text-white"}):(0,ud.jsx)(B,{size:24,className:"text-white"})}),(0,ud.jsx)("h1",{className:"text-2xl font-bold tracking-wider hidden md:block",children:"ACCOUNTING"===e?"\u5718\u968a\u8a18\u5e33\u8868":"BOSS_TIMER"===e?"Boss \u91cd\u751f\u8a08\u6642":"AI \u8ca1\u52d9\u52a9\u624b"}),(0,ud.jsxs)("div",{className:"flex md:hidden bg-gray-700 rounded-lg p-1",children:[(0,ud.jsx)("button",{onClick:()=>t("ACCOUNTING"),className:"px-2 py-1 rounded text-xs ".concat("ACCOUNTING"===e?"bg-blue-600 text-white":"text-gray-300"),children:"\u8a18\u5e33"}),(0,ud.jsx)("button",{onClick:()=>t("BOSS_TIMER"),className:"px-2 py-1 rounded text-xs ".concat("BOSS_TIMER"===e?"bg-purple-600 text-white":"text-gray-300"),children:"Boss"}),(0,ud.jsx)("button",{onClick:()=>t("AI_ASSISTANT"),className:"px-2 py-1 rounded text-xs ".concat("AI_ASSISTANT"===e?"bg-yellow-500 text-white":"text-gray-300"),children:"AI"})]})]}),(0,ud.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,ud.jsx)("button",{onClick:()=>p(!0),className:"p-2 rounded-full hover:bg-white/10 transition-colors",title:"\u7cfb\u7d71\u5168\u57df\u8a2d\u5b9a",children:(0,ud.jsx)(C,{size:20})}),o&&(0,ud.jsxs)("div",{className:"flex items-center gap-2 bg-black/20 px-3 py-1 rounded-full text-sm",children:[(0,ud.jsx)(M,{size:14})," ",o,(0,ud.jsx)("button",{onClick:()=>{localStorage.removeItem("accounting_user"),l(null),u(!0)},className:"ml-2 p-1 bg-red-500/80 hover:bg-red-600 rounded text-white transition-colors",title:"\u767b\u51fa / \u5207\u63db\u4f7f\u7528\u8005",children:(0,ud.jsx)($,{size:12})})]}),(0,ud.jsxs)("div",{className:"hidden md:flex gap-2 mr-4 bg-gray-700/50 p-1 rounded-lg",children:[(0,ud.jsxs)("button",{onClick:()=>t("ACCOUNTING"),className:"flex items-center gap-2 px-4 py-1.5 rounded-md transition-all ".concat("ACCOUNTING"===e?"bg-blue-600 text-white shadow":"hover:bg-white/10 text-gray-300"),children:[(0,ud.jsx)(Y,{size:16})," \u5718\u968a\u8a18\u5e33"]}),(0,ud.jsxs)("button",{onClick:()=>t("BOSS_TIMER"),className:"flex items-center gap-2 px-4 py-1.5 rounded-md transition-all ".concat("BOSS_TIMER"===e?"bg-purple-600 text-white shadow":"hover:bg-white/10 text-gray-300"),children:[(0,ud.jsx)(X,{size:16})," Boss \u6642\u9593"]}),(0,ud.jsxs)("button",{onClick:()=>t("AI_ASSISTANT"),className:"flex items-center gap-2 px-4 py-1.5 rounded-md transition-all ".concat("AI_ASSISTANT"===e?"bg-yellow-500 text-white shadow":"hover:bg-white/10 text-gray-300"),children:[(0,ud.jsx)(B,{size:16})," AI \u52a9\u624b"]})]}),(0,ud.jsx)("button",{onClick:()=>i(!n),className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:n?(0,ud.jsx)(J,{size:20,className:"text-yellow-300"}):(0,ud.jsx)(Z,{size:20})})]})]})}),(0,ud.jsxs)("main",{className:"relative h-[calc(100vh-80px)] overflow-hidden",children:[(0,ud.jsx)(Md,{isOpen:c,onSelectUser:e=>{l(e),localStorage.setItem("accounting_user",e),u(!1)},theme:b}),(0,ud.jsx)(jd,{isOpen:f,onClose:()=>p(!1),theme:b,currentSettings:h,isDarkMode:n,currentUser:o}),(0,ud.jsx)(Dd,{videoId:h.youtubeVideoId,isDarkMode:n}),(0,ud.jsx)("div",{className:"h-full overflow-y-auto",children:"ACCOUNTING"===e?(0,ud.jsx)(Vd,{isDarkMode:n,dbReady:s,currentUser:o}):"BOSS_TIMER"===e?(0,ud.jsx)(Ud,{isDarkMode:n,currentUser:o,globalSettings:h}):(0,ud.jsx)("div",{className:"p-4 h-full max-w-4xl mx-auto",children:(0,ud.jsx)(Fd,{isDarkMode:n,currentUser:o,globalSettings:h,theme:b})})})]})]})}const qd=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)})};i.createRoot(document.getElementById("root")).render((0,ud.jsx)(r.StrictMode,{children:(0,ud.jsx)(Bd,{})})),qd()})();
//# sourceMappingURL=main.a47472d1.js.map